function yT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var yM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ov={exports:{}},id={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5;function bT(){if(i5)return id;i5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var h in i)h!=="key"&&(s[h]=i[h])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:s}}return id.Fragment=e,id.jsx=t,id.jsxs=t,id}var a5;function _T(){return a5||(a5=1,ov.exports=bT()),ov.exports}var A=_T(),lv={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5;function wT(){if(s5)return Xt;s5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function S(Q){return Q===null||typeof Q!="object"?null:(Q=b&&Q[b]||Q["@@iterator"],typeof Q=="function"?Q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function R(Q,xe,M){this.props=Q,this.context=xe,this.refs=C,this.updater=M||_}R.prototype.isReactComponent={},R.prototype.setState=function(Q,xe){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,xe,"setState")},R.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function I(){}I.prototype=R.prototype;function B(Q,xe,M){this.props=Q,this.context=xe,this.refs=C,this.updater=M||_}var H=B.prototype=new I;H.constructor=B,E(H,R.prototype),H.isPureReactComponent=!0;var ae=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function U(Q,xe,M,K,te,ue){return M=ue.ref,{$$typeof:n,type:Q,key:xe,ref:M!==void 0?M:null,props:ue}}function L(Q,xe){return U(Q.type,xe,void 0,void 0,void 0,Q.props)}function F(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function W(Q){var xe={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(M){return xe[M]})}var P=/\/+/g;function O(Q,xe){return typeof Q=="object"&&Q!==null&&Q.key!=null?W(""+Q.key):xe.toString(36)}function j(){}function se(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(j,j):(Q.status="pending",Q.then(function(xe){Q.status==="pending"&&(Q.status="fulfilled",Q.value=xe)},function(xe){Q.status==="pending"&&(Q.status="rejected",Q.reason=xe)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function Se(Q,xe,M,K,te){var ue=typeof Q;(ue==="undefined"||ue==="boolean")&&(Q=null);var fe=!1;if(Q===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Q.$$typeof){case n:case e:fe=!0;break;case g:return fe=Q._init,Se(fe(Q._payload),xe,M,K,te)}}if(fe)return te=te(Q),fe=K===""?"."+O(Q,0):K,ae(te)?(M="",fe!=null&&(M=fe.replace(P,"$&/")+"/"),Se(te,xe,M,"",function(Le){return Le})):te!=null&&(F(te)&&(te=L(te,M+(te.key==null||Q&&Q.key===te.key?"":(""+te.key).replace(P,"$&/")+"/")+fe)),xe.push(te)),1;fe=0;var Ne=K===""?".":K+":";if(ae(Q))for(var Te=0;Te<Q.length;Te++)K=Q[Te],ue=Ne+O(K,Te),fe+=Se(K,xe,M,ue,te);else if(Te=S(Q),typeof Te=="function")for(Q=Te.call(Q),Te=0;!(K=Q.next()).done;)K=K.value,ue=Ne+O(K,Te++),fe+=Se(K,xe,M,ue,te);else if(ue==="object"){if(typeof Q.then=="function")return Se(se(Q),xe,M,K,te);throw xe=String(Q),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return fe}function re(Q,xe,M){if(Q==null)return Q;var K=[],te=0;return Se(Q,K,"","",function(ue){return xe.call(M,ue,te++)}),K}function le(Q){if(Q._status===-1){var xe=Q._result;xe=xe(),xe.then(function(M){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=M)},function(M){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=M)}),Q._status===-1&&(Q._status=0,Q._result=xe)}if(Q._status===1)return Q._result.default;throw Q._result}var he=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function _e(){}return Xt.Children={map:re,forEach:function(Q,xe,M){re(Q,function(){xe.apply(this,arguments)},M)},count:function(Q){var xe=0;return re(Q,function(){xe++}),xe},toArray:function(Q){return re(Q,function(xe){return xe})||[]},only:function(Q){if(!F(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Xt.Component=R,Xt.Fragment=t,Xt.Profiler=i,Xt.PureComponent=B,Xt.StrictMode=r,Xt.Suspense=c,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return $.H.useMemoCache(Q)}},Xt.cache=function(Q){return function(){return Q.apply(null,arguments)}},Xt.cloneElement=function(Q,xe,M){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var K=E({},Q.props),te=Q.key,ue=void 0;if(xe!=null)for(fe in xe.ref!==void 0&&(ue=void 0),xe.key!==void 0&&(te=""+xe.key),xe)!ce.call(xe,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&xe.ref===void 0||(K[fe]=xe[fe]);var fe=arguments.length-2;if(fe===1)K.children=M;else if(1<fe){for(var Ne=Array(fe),Te=0;Te<fe;Te++)Ne[Te]=arguments[Te+2];K.children=Ne}return U(Q.type,te,void 0,void 0,ue,K)},Xt.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:s,_context:Q},Q},Xt.createElement=function(Q,xe,M){var K,te={},ue=null;if(xe!=null)for(K in xe.key!==void 0&&(ue=""+xe.key),xe)ce.call(xe,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=xe[K]);var fe=arguments.length-2;if(fe===1)te.children=M;else if(1<fe){for(var Ne=Array(fe),Te=0;Te<fe;Te++)Ne[Te]=arguments[Te+2];te.children=Ne}if(Q&&Q.defaultProps)for(K in fe=Q.defaultProps,fe)te[K]===void 0&&(te[K]=fe[K]);return U(Q,ue,void 0,void 0,null,te)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(Q){return{$$typeof:h,render:Q}},Xt.isValidElement=F,Xt.lazy=function(Q){return{$$typeof:g,_payload:{_status:-1,_result:Q},_init:le}},Xt.memo=function(Q,xe){return{$$typeof:d,type:Q,compare:xe===void 0?null:xe}},Xt.startTransition=function(Q){var xe=$.T,M={};$.T=M;try{var K=Q(),te=$.S;te!==null&&te(M,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(_e,he)}catch(ue){he(ue)}finally{$.T=xe}},Xt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Xt.use=function(Q){return $.H.use(Q)},Xt.useActionState=function(Q,xe,M){return $.H.useActionState(Q,xe,M)},Xt.useCallback=function(Q,xe){return $.H.useCallback(Q,xe)},Xt.useContext=function(Q){return $.H.useContext(Q)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(Q,xe){return $.H.useDeferredValue(Q,xe)},Xt.useEffect=function(Q,xe,M){var K=$.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(Q,xe)},Xt.useId=function(){return $.H.useId()},Xt.useImperativeHandle=function(Q,xe,M){return $.H.useImperativeHandle(Q,xe,M)},Xt.useInsertionEffect=function(Q,xe){return $.H.useInsertionEffect(Q,xe)},Xt.useLayoutEffect=function(Q,xe){return $.H.useLayoutEffect(Q,xe)},Xt.useMemo=function(Q,xe){return $.H.useMemo(Q,xe)},Xt.useOptimistic=function(Q,xe){return $.H.useOptimistic(Q,xe)},Xt.useReducer=function(Q,xe,M){return $.H.useReducer(Q,xe,M)},Xt.useRef=function(Q){return $.H.useRef(Q)},Xt.useState=function(Q){return $.H.useState(Q)},Xt.useSyncExternalStore=function(Q,xe,M){return $.H.useSyncExternalStore(Q,xe,M)},Xt.useTransition=function(){return $.H.useTransition()},Xt.version="19.1.0",Xt}var o5;function z1(){return o5||(o5=1,lv.exports=wT()),lv.exports}var ne=z1();const ST=nS(ne),l5=yT({__proto__:null,default:ST},[ne]);var ad={},u5;function xT(){if(u5)return ad;u5=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.parse=l,ad.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function l(S,_){const E=new s,C=S.length;if(C<2)return E;const R=(_==null?void 0:_.decode)||g;let I=0;do{const B=S.indexOf("=",I);if(B===-1)break;const H=S.indexOf(";",I),ae=H===-1?C:H;if(B>ae){I=S.lastIndexOf(";",B-1)+1;continue}const $=h(S,I,B),ce=c(S,B,$),U=S.slice($,ce);if(E[U]===void 0){let L=h(S,B+1,ae),F=c(S,ae,L);const W=R(S.slice(L,F));E[U]=W}I=ae+1}while(I<C);return E}function h(S,_,E){do{const C=S.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<E);return E}function c(S,_,E){for(;_>E;){const C=S.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return E}function d(S,_,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const R=C(_);if(!e.test(R))throw new TypeError(`argument val is invalid: ${_}`);let I=S+"="+R;if(!E)return I;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);I+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);I+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);I+="; Path="+E.path}if(E.expires){if(!b(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);I+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(I+="; HttpOnly"),E.secure&&(I+="; Secure"),E.partitioned&&(I+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return I}function g(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return i.call(S)==="[object Date]"}return ad}xT();var c5="popstate";function AT(n={}){function e(r,i){let{pathname:s,search:l,hash:h}=r.location;return Yv("",{pathname:s,search:l,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Nd(i)}return ET(e,t,null,n)}function dr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function po(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TT(){return Math.random().toString(36).substring(2,10)}function h5(n,e){return{usr:n.state,key:n.key,idx:e}}function Yv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?uf(e):e,state:t,key:e&&e.key||r||TT()}}function Nd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function uf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ET(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,h="POP",c=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function b(){h="POP";let R=g(),I=R==null?null:R-d;d=R,c&&c({action:h,location:C.location,delta:I})}function S(R,I){h="PUSH";let B=Yv(C.location,R,I);d=g()+1;let H=h5(B,d),ae=C.createHref(B);try{l.pushState(H,"",ae)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(ae)}s&&c&&c({action:h,location:C.location,delta:1})}function _(R,I){h="REPLACE";let B=Yv(C.location,R,I);d=g();let H=h5(B,d),ae=C.createHref(B);l.replaceState(H,"",ae),s&&c&&c({action:h,location:C.location,delta:0})}function E(R){return NT(R)}let C={get action(){return h},get location(){return n(i,l)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(c5,b),c=R,()=>{i.removeEventListener(c5,b),c=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let I=E(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:S,replace:_,go(R){return l.go(R)}};return C}function NT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Nd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function rS(n,e,t="/"){return CT(n,e,t,!1)}function CT(n,e,t,r){let i=typeof e=="string"?uf(e):e,s=Ql(i.pathname||"/",t);if(s==null)return null;let l=iS(n);IT(l);let h=null;for(let c=0;h==null&&c<l.length;++c){let d=BT(s);h=FT(l[c],d,r)}return h}function iS(n,e=[],t=[],r=""){let i=(s,l,h)=>{let c={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};c.relativePath.startsWith("/")&&(dr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Yl([r,c.relativePath]),g=t.concat(c);s.children&&s.children.length>0&&(dr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),iS(s.children,e,g,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:jT(d,s.index),routesMeta:g})};return n.forEach((s,l)=>{var h;if(s.path===""||!((h=s.path)!=null&&h.includes("?")))i(s,l);else for(let c of aS(s.path))i(s,l,c)}),e}function aS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=aS(r.join("/")),h=[];return h.push(...l.map(c=>c===""?s:[s,c].join("/"))),i&&h.push(...l),h.map(c=>n.startsWith("/")&&c===""?"/":c)}function IT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:MT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var RT=/^:[\w-]+$/,PT=3,LT=2,DT=1,OT=10,kT=-2,f5=n=>n==="*";function jT(n,e){let t=n.split("/"),r=t.length;return t.some(f5)&&(r+=kT),e&&(r+=LT),t.filter(i=>!f5(i)).reduce((i,s)=>i+(RT.test(s)?PT:s===""?DT:OT),r)}function MT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function FT(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let h=0;h<r.length;++h){let c=r[h],d=h===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",b=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},g),S=c.route;if(!b&&d&&t&&!r[r.length-1].route.index&&(b=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),l.push({params:i,pathname:Yl([s,b.pathname]),pathnameBase:HT(Yl([s,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(s=Yl([s,b.pathnameBase]))}return l}function Fm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VT(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:b},S)=>{if(g==="*"){let E=h[S]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=h[S];return b&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:l,pattern:n}}function VT(n,e=!1,t=!0){po(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,c)=>(r.push({paramName:h,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return po(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ql(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function UT(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?uf(n):n;return{pathname:t?t.startsWith("/")?t:qT(t,e):e,search:WT(r),hash:GT(i)}}function qT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function uv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function H1(n){let e=zT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function W1(n,e,t,r=!1){let i;typeof n=="string"?i=uf(n):(i={...n},dr(!i.pathname||!i.pathname.includes("?"),uv("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),uv("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),uv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,h;if(l==null)h=t;else{let b=e.length-1;if(!r&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),b-=1;i.pathname=S.join("/")}h=b>=0?e[b]:"/"}let c=UT(i,h),d=l&&l!=="/"&&l.endsWith("/"),g=(s||l===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||g)&&(c.pathname+="/"),c}var Yl=n=>n.join("/").replace(/\/\/+/g,"/"),HT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $T(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var YT=["GET",...sS];new Set(YT);var cf=ne.createContext(null);cf.displayName="DataRouter";var bg=ne.createContext(null);bg.displayName="DataRouterState";var oS=ne.createContext({isTransitioning:!1});oS.displayName="ViewTransition";var KT=ne.createContext(new Map);KT.displayName="Fetchers";var QT=ne.createContext(null);QT.displayName="Await";var go=ne.createContext(null);go.displayName="Navigation";var Ud=ne.createContext(null);Ud.displayName="Location";var Os=ne.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var G1=ne.createContext(null);G1.displayName="RouteError";function XT(n,{relative:e}={}){dr(hf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ne.useContext(go),{hash:i,pathname:s,search:l}=qd(n,{relative:e}),h=s;return t!=="/"&&(h=s==="/"?t:Yl([t,s])),r.createHref({pathname:h,search:l,hash:i})}function hf(){return ne.useContext(Ud)!=null}function ru(){return dr(hf(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(Ud).location}var lS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uS(n){ne.useContext(go).static||ne.useLayoutEffect(n)}function fi(){let{isDataRoute:n}=ne.useContext(Os);return n?fE():JT()}function JT(){dr(hf(),"useNavigate() may be used only in the context of a <Router> component.");let n=ne.useContext(cf),{basename:e,navigator:t}=ne.useContext(go),{matches:r}=ne.useContext(Os),{pathname:i}=ru(),s=JSON.stringify(H1(r)),l=ne.useRef(!1);return uS(()=>{l.current=!0}),ne.useCallback((c,d={})=>{if(po(l.current,lS),!l.current)return;if(typeof c=="number"){t.go(c);return}let g=W1(c,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Yl([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,s,i,n])}var ZT=ne.createContext(null);function eE(n){let e=ne.useContext(Os).outlet;return e&&ne.createElement(ZT.Provider,{value:n},e)}function dc(){let{matches:n}=ne.useContext(Os),e=n[n.length-1];return e?e.params:{}}function qd(n,{relative:e}={}){let{matches:t}=ne.useContext(Os),{pathname:r}=ru(),i=JSON.stringify(H1(t));return ne.useMemo(()=>W1(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function tE(n,e){return cS(n,e)}function cS(n,e,t,r){var B;dr(hf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=ne.useContext(go),{matches:l}=ne.useContext(Os),h=l[l.length-1],c=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let H=b&&b.path||"";hS(d,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=ru(),_;if(e){let H=typeof e=="string"?uf(e):e;dr(g==="/"||((B=H.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),_=H}else _=S;let E=_.pathname||"/",C=E;if(g!=="/"){let H=g.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(H.length).join("/")}let R=!s&&t&&t.matches&&t.matches.length>0?t.matches:rS(n,{pathname:C});po(b||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),po(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=sE(R&&R.map(H=>Object.assign({},H,{params:Object.assign({},c,H.params),pathname:Yl([g,i.encodeLocation?i.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Yl([g,i.encodeLocation?i.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,r);return e&&I?ne.createElement(Ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function nE(){let n=hE(),e=$T(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ne.createElement(ne.Fragment,null,ne.createElement("p",null,"💿 Hey developer 👋"),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:s},"ErrorBoundary")," or"," ",ne.createElement("code",{style:s},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:i},t):null,l)}var rE=ne.createElement(nE,null),iE=class extends ne.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ne.createElement(Os.Provider,{value:this.props.routeContext},ne.createElement(G1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aE({routeContext:n,match:e,children:t}){let r=ne.useContext(cf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(Os.Provider,{value:n},t)}function sE(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);dr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let l=!1,h=-1;if(t)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=c),d.route.id){let{loaderData:g,errors:b}=t,S=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!b||b[d.route.id]===void 0);if(d.route.lazy||S){l=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((c,d,g)=>{let b,S=!1,_=null,E=null;t&&(b=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||rE,l&&(h<0&&g===0?(hS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):h===g&&(S=!0,E=d.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,g+1)),R=()=>{let I;return b?I=_:S?I=E:d.route.Component?I=ne.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=c,ne.createElement(aE,{match:d,routeContext:{outlet:c,matches:C,isDataRoute:t!=null},children:I})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?ne.createElement(iE,{location:t.location,revalidation:t.revalidation,component:_,error:b,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}function $1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(n){let e=ne.useContext(cf);return dr(e,$1(n)),e}function lE(n){let e=ne.useContext(bg);return dr(e,$1(n)),e}function uE(n){let e=ne.useContext(Os);return dr(e,$1(n)),e}function Y1(n){let e=uE(n),t=e.matches[e.matches.length-1];return dr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cE(){return Y1("useRouteId")}function hE(){var r;let n=ne.useContext(G1),e=lE("useRouteError"),t=Y1("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function fE(){let{router:n}=oE("useNavigate"),e=Y1("useNavigate"),t=ne.useRef(!1);return uS(()=>{t.current=!0}),ne.useCallback(async(i,s={})=>{po(t.current,lS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var d5={};function hS(n,e,t){!e&&!d5[n]&&(d5[n]=!0,po(!1,t))}ne.memo(dE);function dE({routes:n,future:e,state:t}){return cS(n,void 0,t,e)}function fS({to:n,replace:e,state:t,relative:r}){dr(hf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ne.useContext(go);po(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ne.useContext(Os),{pathname:l}=ru(),h=fi(),c=W1(n,H1(s),l,r==="path"),d=JSON.stringify(c);return ne.useEffect(()=>{h(JSON.parse(d),{replace:e,state:t,relative:r})},[h,d,r,e,t]),null}function pE(n){return eE(n.context)}function fr(n){dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mE({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){dr(!hf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),h=ne.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=uf(t));let{pathname:c="/",search:d="",hash:g="",state:b=null,key:S="default"}=t,_=ne.useMemo(()=>{let E=Ql(c,l);return E==null?null:{location:{pathname:E,search:d,hash:g,state:b,key:S},navigationType:r}},[l,c,d,g,b,S,r]);return po(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:ne.createElement(go.Provider,{value:h},ne.createElement(Ud.Provider,{children:e,value:_}))}function gE({children:n,location:e}){return tE(Kv(n),e)}function Kv(n,e=[]){let t=[];return ne.Children.forEach(n,(r,i)=>{if(!ne.isValidElement(r))return;let s=[...e,i];if(r.type===ne.Fragment){t.push.apply(t,Kv(r.props.children,s));return}dr(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Kv(r.props.children,s)),t.push(l)}),t}var ym="get",bm="application/x-www-form-urlencoded";function _g(n){return n!=null&&typeof n.tagName=="string"}function vE(n){return _g(n)&&n.tagName.toLowerCase()==="button"}function yE(n){return _g(n)&&n.tagName.toLowerCase()==="form"}function bE(n){return _g(n)&&n.tagName.toLowerCase()==="input"}function _E(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wE(n,e){return n.button===0&&(!e||e==="_self")&&!_E(n)}var Zp=null;function SE(){if(Zp===null)try{new FormData(document.createElement("form"),0),Zp=!1}catch{Zp=!0}return Zp}var xE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cv(n){return n!=null&&!xE.has(n)?(po(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bm}"`),null):n}function AE(n,e){let t,r,i,s,l;if(yE(n)){let h=n.getAttribute("action");r=h?Ql(h,e):null,t=n.getAttribute("method")||ym,i=cv(n.getAttribute("enctype"))||bm,s=new FormData(n)}else if(vE(n)||bE(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||h.getAttribute("action");if(r=c?Ql(c,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||ym,i=cv(n.getAttribute("formenctype"))||cv(h.getAttribute("enctype"))||bm,s=new FormData(h,n),!SE()){let{name:d,type:g,value:b}=n;if(g==="image"){let S=d?`${d}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else d&&s.append(d,b)}}else{if(_g(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ym,r=null,i=bm,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function K1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function TE(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function NE(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await TE(s,t);return l.links?l.links():[]}return[]}));return PE(r.flat(1).filter(EE).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function p5(n,e,t,r,i,s){let l=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,h=(c,d)=>{var g;return t[d].pathname!==c.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>l(c,d)||h(c,d)):s==="data"?e.filter((c,d)=>{var b;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(l(c,d)||h(c,d))return!0;if(c.route.shouldRevalidate){let S=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function CE(n,e,{includeHydrateFallback:t}={}){return IE(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function IE(n){return[...new Set(n)]}function RE(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function PE(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(RE(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LE=new Set([100,101,204,205]);function DE(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ql(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function dS(){let n=ne.useContext(cf);return K1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function OE(){let n=ne.useContext(bg);return K1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Q1=ne.createContext(void 0);Q1.displayName="FrameworkContext";function pS(){let n=ne.useContext(Q1);return K1(n,"You must render this element inside a <HydratedRouter> element"),n}function kE(n,e){let t=ne.useContext(Q1),[r,i]=ne.useState(!1),[s,l]=ne.useState(!1),{onFocus:h,onBlur:c,onMouseEnter:d,onMouseLeave:g,onTouchStart:b}=e,S=ne.useRef(null);ne.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=I=>{I.forEach(B=>{l(B.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return S.current&&R.observe(S.current),()=>{R.disconnect()}}},[n]),ne.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let _=()=>{i(!0)},E=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,S,{}]:[s,S,{onFocus:sd(h,_),onBlur:sd(c,E),onMouseEnter:sd(d,_),onMouseLeave:sd(g,E),onTouchStart:sd(b,_)}]:[!1,S,{}]}function sd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function jE({page:n,...e}){let{router:t}=dS(),r=ne.useMemo(()=>rS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ne.createElement(FE,{page:n,matches:r,...e}):null}function ME(n){let{manifest:e,routeModules:t}=pS(),[r,i]=ne.useState([]);return ne.useEffect(()=>{let s=!1;return NE(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function FE({page:n,matches:e,...t}){let r=ru(),{manifest:i,routeModules:s}=pS(),{basename:l}=dS(),{loaderData:h,matches:c}=OE(),d=ne.useMemo(()=>p5(n,e,c,i,r,"data"),[n,e,c,i,r]),g=ne.useMemo(()=>p5(n,e,c,i,r,"assets"),[n,e,c,i,r]),b=ne.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,C=!1;if(e.forEach(I=>{var H;let B=i.routes[I.route.id];!B||!B.hasLoader||(!d.some(ae=>ae.route.id===I.route.id)&&I.route.id in h&&((H=s[I.route.id])!=null&&H.shouldRevalidate)||B.hasClientLoader?C=!0:E.add(I.route.id))}),E.size===0)return[];let R=DE(n,l);return C&&E.size>0&&R.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[R.pathname+R.search]},[l,h,r,i,d,e,n,s]),S=ne.useMemo(()=>CE(g,i),[g,i]),_=ME(g);return ne.createElement(ne.Fragment,null,b.map(E=>ne.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),S.map(E=>ne.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:C})=>ne.createElement("link",{key:E,...C})))}function VE(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mS&&(window.__reactRouterVersion="7.6.0")}catch{}function BE({basename:n,children:e,window:t}){let r=ne.useRef();r.current==null&&(r.current=AT({window:t,v5Compat:!0}));let i=r.current,[s,l]=ne.useState({action:i.action,location:i.location}),h=ne.useCallback(c=>{ne.startTransition(()=>l(c))},[l]);return ne.useLayoutEffect(()=>i.listen(h),[i,h]),ne.createElement(mE,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var gS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wc=ne.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:h,target:c,to:d,preventScrollReset:g,viewTransition:b,...S},_){let{basename:E}=ne.useContext(go),C=typeof d=="string"&&gS.test(d),R,I=!1;if(typeof d=="string"&&C&&(R=d,mS))try{let F=new URL(window.location.href),W=d.startsWith("//")?new URL(F.protocol+d):new URL(d),P=Ql(W.pathname,E);W.origin===F.origin&&P!=null?d=P+W.search+W.hash:I=!0}catch{po(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=XT(d,{relative:i}),[H,ae,$]=kE(r,S),ce=HE(d,{replace:l,state:h,target:c,preventScrollReset:g,relative:i,viewTransition:b});function U(F){e&&e(F),F.defaultPrevented||ce(F)}let L=ne.createElement("a",{...S,...$,href:R||B,onClick:I||s?e:U,ref:VE(_,ae),target:c,"data-discover":!C&&t==="render"?"true":void 0});return H&&!C?ne.createElement(ne.Fragment,null,L,ne.createElement(jE,{page:B})):L});Wc.displayName="Link";var UE=ne.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:h,children:c,...d},g){let b=qd(l,{relative:d.relative}),S=ru(),_=ne.useContext(bg),{navigator:E,basename:C}=ne.useContext(go),R=_!=null&&KE(b)&&h===!0,I=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,B=S.pathname,H=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(B=B.toLowerCase(),H=H?H.toLowerCase():null,I=I.toLowerCase()),H&&C&&(H=Ql(H,C)||H);const ae=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let $=B===I||!i&&B.startsWith(I)&&B.charAt(ae)==="/",ce=H!=null&&(H===I||!i&&H.startsWith(I)&&H.charAt(I.length)==="/"),U={isActive:$,isPending:ce,isTransitioning:R},L=$?e:void 0,F;typeof r=="function"?F=r(U):F=[r,$?"active":null,ce?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(U):s;return ne.createElement(Wc,{...d,"aria-current":L,className:F,ref:g,style:W,to:l,viewTransition:h},typeof c=="function"?c(U):c)});UE.displayName="NavLink";var qE=ne.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=ym,action:h,onSubmit:c,relative:d,preventScrollReset:g,viewTransition:b,...S},_)=>{let E=$E(),C=YE(h,{relative:d}),R=l.toLowerCase()==="get"?"get":"post",I=typeof h=="string"&&gS.test(h),B=H=>{if(c&&c(H),H.defaultPrevented)return;H.preventDefault();let ae=H.nativeEvent.submitter,$=(ae==null?void 0:ae.getAttribute("formmethod"))||l;E(ae||H.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:s,relative:d,preventScrollReset:g,viewTransition:b})};return ne.createElement("form",{ref:_,method:R,action:C,onSubmit:r?c:B,...S,"data-discover":!I&&n==="render"?"true":void 0})});qE.displayName="Form";function zE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vS(n){let e=ne.useContext(cf);return dr(e,zE(n)),e}function HE(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let h=fi(),c=ru(),d=qd(n,{relative:s});return ne.useCallback(g=>{if(wE(g,e)){g.preventDefault();let b=t!==void 0?t:Nd(c)===Nd(d);h(n,{replace:b,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[c,h,d,t,r,e,n,i,s,l])}var WE=0,GE=()=>`__${String(++WE)}__`;function $E(){let{router:n}=vS("useSubmit"),{basename:e}=ne.useContext(go),t=cE();return ne.useCallback(async(r,i={})=>{let{action:s,method:l,encType:h,formData:c,body:d}=AE(r,e);if(i.navigate===!1){let g=i.fetcherKey||GE();await n.fetch(g,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function YE(n,{relative:e}={}){let{basename:t}=ne.useContext(go),r=ne.useContext(Os);dr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...qd(n||".",{relative:e})},l=ru();if(n==null){s.search=l.search;let h=new URLSearchParams(s.search),c=h.getAll("index");if(c.some(g=>g==="")){h.delete("index"),c.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();s.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Yl([t,s.pathname])),Nd(s)}function KE(n,e={}){let t=ne.useContext(oS);dr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vS("useViewTransitionState"),i=qd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ql(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ql(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fm(i.pathname,l)!=null||Fm(i.pathname,s)!=null}[...LE];var hv={exports:{}},Ji={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function QE(){if(m5)return Ji;m5=1;var n=z1();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,d,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:c,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ji.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ji.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(c,d,null,g)},Ji.flushSync=function(c){var d=l.T,g=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=g,r.d.f()}},Ji.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Ji.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ji.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var g=d.as,b=h(g,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:_}):g==="script"&&r.d.X(c,{crossOrigin:b,integrity:S,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ji.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Ji.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,b=h(g,d.crossOrigin);r.d.L(c,g,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ji.preloadModule=function(c,d){if(typeof c=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Ji.requestFormReset=function(c){r.d.r(c)},Ji.unstable_batchedUpdates=function(c,d){return c(d)},Ji.useFormState=function(c,d,g){return l.H.useFormState(c,d,g)},Ji.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ji.version="19.1.0",Ji}var g5;function yS(){if(g5)return hv.exports;g5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hv.exports=QE(),hv.exports}var XE=yS(),fv={exports:{}},od={},dv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v5;function JE(){return v5||(v5=1,function(n){function e(re,le){var he=re.length;re.push(le);e:for(;0<he;){var _e=he-1>>>1,Q=re[_e];if(0<i(Q,le))re[_e]=le,re[he]=Q,he=_e;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var le=re[0],he=re.pop();if(he!==le){re[0]=he;e:for(var _e=0,Q=re.length,xe=Q>>>1;_e<xe;){var M=2*(_e+1)-1,K=re[M],te=M+1,ue=re[te];if(0>i(K,he))te<Q&&0>i(ue,K)?(re[_e]=ue,re[te]=he,_e=te):(re[_e]=K,re[M]=he,_e=M);else if(te<Q&&0>i(ue,he))re[_e]=ue,re[te]=he,_e=te;else break e}}return le}function i(re,le){var he=re.sortIndex-le.sortIndex;return he!==0?he:re.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,h=l.now();n.unstable_now=function(){return l.now()-h}}var c=[],d=[],g=1,b=null,S=3,_=!1,E=!1,C=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ae(re){for(var le=t(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=re)r(d),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(d)}}function $(re){if(C=!1,ae(re),!E)if(t(c)!==null)E=!0,ce||(ce=!0,O());else{var le=t(d);le!==null&&Se($,le.startTime-re)}}var ce=!1,U=-1,L=5,F=-1;function W(){return R?!0:!(n.unstable_now()-F<L)}function P(){if(R=!1,ce){var re=n.unstable_now();F=re;var le=!0;try{e:{E=!1,C&&(C=!1,B(U),U=-1),_=!0;var he=S;try{t:{for(ae(re),b=t(c);b!==null&&!(b.expirationTime>re&&W());){var _e=b.callback;if(typeof _e=="function"){b.callback=null,S=b.priorityLevel;var Q=_e(b.expirationTime<=re);if(re=n.unstable_now(),typeof Q=="function"){b.callback=Q,ae(re),le=!0;break t}b===t(c)&&r(c),ae(re)}else r(c);b=t(c)}if(b!==null)le=!0;else{var xe=t(d);xe!==null&&Se($,xe.startTime-re),le=!1}}break e}finally{b=null,S=he,_=!1}le=void 0}}finally{le?O():ce=!1}}}var O;if(typeof H=="function")O=function(){H(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,se=j.port2;j.port1.onmessage=P,O=function(){se.postMessage(null)}}else O=function(){I(P,0)};function Se(re,le){U=I(function(){re(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(re){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var he=S;S=le;try{return re()}finally{S=he}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var he=S;S=re;try{return le()}finally{S=he}},n.unstable_scheduleCallback=function(re,le,he){var _e=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=he+Q,re={id:g++,callback:le,priorityLevel:re,startTime:he,expirationTime:Q,sortIndex:-1},he>_e?(re.sortIndex=he,e(d,re),t(c)===null&&re===t(d)&&(C?(B(U),U=-1):C=!0,Se($,he-_e))):(re.sortIndex=Q,e(c,re),E||_||(E=!0,ce||(ce=!0,O()))),re},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(re){var le=S;return function(){var he=S;S=le;try{return re.apply(this,arguments)}finally{S=he}}}}(pv)),pv}var y5;function ZE(){return y5||(y5=1,dv.exports=JE()),dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5;function eN(){if(b5)return od;b5=1;var n=ZE(),e=z1(),t=yS();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(r(188))}function c(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,f=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return h(v),a;if(w===f)return h(v),o;w=w.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=w;else{for(var V=!1,Z=v.child;Z;){if(Z===u){V=!0,u=v,f=w;break}if(Z===f){V=!0,f=v,u=w;break}Z=Z.sibling}if(!V){for(Z=w.child;Z;){if(Z===u){V=!0,u=w,f=v;break}if(Z===f){V=!0,f=w,u=v;break}Z=Z.sibling}if(!V)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var j=Symbol.for("react.client.reference");function se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===j?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case ce:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case H:return(a.displayName||"Context")+".Provider";case B:return(a._context.displayName||"Context")+".Consumer";case ae:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return o=a.displayName||null,o!==null?o:se(a.type)||"Memo";case L:o=a._payload,a=a._init;try{return se(a(o))}catch{}}return null}var Se=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],Q=-1;function xe(a){return{current:a}}function M(a){0>Q||(a.current=_e[Q],_e[Q]=null,Q--)}function K(a,o){Q++,_e[Q]=a.current,a.current=o}var te=xe(null),ue=xe(null),fe=xe(null),Ne=xe(null);function Te(a,o){switch(K(fe,o),K(ue,a),K(te,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Lb(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Lb(o),a=Db(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}M(te),K(te,a)}function Le(){M(te),M(ue),M(fe)}function Je(a){a.memoizedState!==null&&K(Ne,a);var o=te.current,u=Db(o,a.type);o!==u&&(K(ue,a),K(te,u))}function Qe(a){ue.current===a&&(M(te),M(ue)),Ne.current===a&&(M(Ne),Zf._currentValue=he)}var nt=Object.prototype.hasOwnProperty,et=n.unstable_scheduleCallback,_t=n.unstable_cancelCallback,Fe=n.unstable_shouldYield,de=n.unstable_requestPaint,xt=n.unstable_now,ft=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,tt=n.unstable_UserBlockingPriority,st=n.unstable_NormalPriority,ot=n.unstable_LowPriority,vt=n.unstable_IdlePriority,Ot=n.log,zt=n.unstable_setDisableYieldValue,bt=null,gt=null;function Yt(a){if(typeof Ot=="function"&&zt(a),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(bt,a)}catch{}}var dt=Math.clz32?Math.clz32:ar,Kt=Math.log,lt=Math.LN2;function ar(a){return a>>>=0,a===0?32:31-(Kt(a)/lt|0)|0}var Jt=256,ti=4194304;function en(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Rn(a,o,u){var f=a.pendingLanes;if(f===0)return 0;var v=0,w=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var Z=f&134217727;return Z!==0?(f=Z&~w,f!==0?v=en(f):(V&=Z,V!==0?v=en(V):u||(u=Z&~a,u!==0&&(v=en(u))))):(Z=f&~w,Z!==0?v=en(Z):V!==0?v=en(V):u||(u=f&~a,u!==0&&(v=en(u)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:v}function di(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function cn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var a=Jt;return Jt<<=1,(Jt&4194048)===0&&(Jt=256),a}function qn(){var a=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),a}function Rr(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function ni(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zn(a,o,u,f,v,w){var V=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var Z=a.entanglements,pe=a.expirationTimes,Oe=a.hiddenUpdates;for(u=V&~u;0<u;){var Ue=31-dt(u),Ge=1<<Ue;Z[Ue]=0,pe[Ue]=-1;var ke=Oe[Ue];if(ke!==null)for(Oe[Ue]=null,Ue=0;Ue<ke.length;Ue++){var je=ke[Ue];je!==null&&(je.lane&=-536870913)}u&=~Ge}f!==0&&At(a,f,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(V&~o))}function At(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-dt(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function hn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-dt(u),v=1<<f;v&o|a[f]&o&&(a[f]|=o),u&=~v}}function Bi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function sr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ri(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:Jb(a.type))}function la(a,o){var u=le.p;try{return le.p=a,o()}finally{le.p=u}}var ut=Math.random().toString(36).slice(2),Pn="__reactFiber$"+ut,Ln="__reactProps$"+ut,Kn="__reactContainer$"+ut,nr="__reactEvents$"+ut,or="__reactListeners$"+ut,_r="__reactHandles$"+ut,ks="__reactResources$"+ut,Ni="__reactMarker$"+ut;function Wr(a){delete a[Pn],delete a[Ln],delete a[nr],delete a[or],delete a[_r]}function Pr(a){var o=a[Pn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Kn]||u[Pn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=Mb(a);a!==null;){if(u=a[Pn])return u;a=Mb(a)}return o}a=u,u=a.parentNode}return null}function wr(a){if(a=a[Pn]||a[Kn]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Lr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Hn(a){var o=a[ks];return o||(o=a[ks]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xn(a){a[Ni]=!0}var Ma=new Set,Fa={};function pi(a,o){Ui(a,o),Ui(a+"Capture",o)}function Ui(a,o){for(Fa[a]=o,a=0;a<o.length;a++)Ma.add(o[a])}var js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},Ms={};function su(a){return nt.call(Ms,a)?!0:nt.call(cl,a)?!1:js.test(a)?Ms[a]=!0:(cl[a]=!0,!1)}function ua(a,o,u){if(su(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ca(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Dr(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}var Va,ou;function va(a){if(Va===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Va=o&&o[1]||"",ou=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+a+ou}var bo=!1;function Ba(a,o){if(!a||bo)return"";bo=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(je){var ke=je}Reflect.construct(a,[],Ge)}else{try{Ge.call()}catch(je){ke=je}a.call(Ge.prototype)}}else{try{throw Error()}catch(je){ke=je}(Ge=a())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(je){if(je&&ke&&typeof je.stack=="string")return[je.stack,ke.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),V=w[0],Z=w[1];if(V&&Z){var pe=V.split(`
`),Oe=Z.split(`
`);for(v=f=0;f<pe.length&&!pe[f].includes("DetermineComponentFrameRoot");)f++;for(;v<Oe.length&&!Oe[v].includes("DetermineComponentFrameRoot");)v++;if(f===pe.length||v===Oe.length)for(f=pe.length-1,v=Oe.length-1;1<=f&&0<=v&&pe[f]!==Oe[v];)v--;for(;1<=f&&0<=v;f--,v--)if(pe[f]!==Oe[v]){if(f!==1||v!==1)do if(f--,v--,0>v||pe[f]!==Oe[v]){var Ue=`
`+pe[f].replace(" at new "," at ");return a.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",a.displayName)),Ue}while(1<=f&&0<=v);break}}}finally{bo=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?va(u):""}function hl(a){switch(a.tag){case 26:case 27:case 5:return va(a.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 15:return Ba(a.type,!1);case 11:return Ba(a.type.render,!1);case 1:return Ba(a.type,!0);case 31:return va("Activity");default:return""}}function Wn(a){try{var o="";do o+=hl(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Gr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _o(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lu(a){var o=_o(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(V){f=""+V,w.call(this,V)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(V){f=""+V},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function us(a){a._valueTracker||(a._valueTracker=lu(a))}function fl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=_o(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function ii(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var wo=/[\n"\\]/g;function pn(a){return a.replace(wo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ai(a,o,u,f,v,w,V,Z){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),o!=null?V==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Gr(o)):a.value!==""+Gr(o)&&(a.value=""+Gr(o)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),o!=null?hs(a,V,Gr(o)):u!=null?hs(a,V,Gr(u)):f!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?a.name=""+Gr(Z):a.removeAttribute("name")}function cs(a,o,u,f,v,w,V,Z){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;u=u!=null?""+Gr(u):"",o=o!=null?""+Gr(o):u,Z||o===a.value||(a.value=o),a.defaultValue=o}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=Z?a.checked:!!f,a.defaultChecked=!!f,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V)}function hs(a,o,u){o==="number"&&ii(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ya(a,o,u,f){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&f&&(a[u].defaultSelected=!0)}else{for(u=""+Gr(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,f&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function An(a,o,u){if(o!=null&&(o=""+Gr(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Gr(u):""}function fs(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(r(92));if(Se(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Gr(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function qi(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||Ua.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function dl(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var v in o)f=o[v],o.hasOwnProperty(v)&&u[v]!==f&&uu(a,v,f)}else for(var w in o)o.hasOwnProperty(w)&&uu(a,w,o[w])}function pl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),So=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(a){return So.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ba=null;function Fn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ha=null,_a=null;function Pt(a){var o=wr(a);if(o&&(a=o.stateNode)){var u=a[Ln]||null;e:switch(a=o.stateNode,o.type){case"input":if(ai(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+pn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var v=f[Ln]||null;if(!v)throw Error(r(90));ai(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&fl(f)}break e;case"textarea":An(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ya(a,!!u.multiple,o,!1)}}}var wa=!1;function cu(a,o,u){if(wa)return a(o,u);wa=!0;try{var f=a(o);return f}finally{if(wa=!1,(Ha!==null||_a!==null)&&(Lp(),Ha&&(o=Ha,a=_a,_a=Ha=null,Pt(o),a)))for(o=0;o<a.length;o++)Pt(a[o])}}function mi(a,o){var u=a.stateNode;if(u===null)return null;var f=u[Ln]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(zi)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Ci=!1}var Hi=null,ds=null,Wa=null;function ml(){if(Wa)return Wa;var a,o=ds,u=o.length,f,v="value"in Hi?Hi.value:Hi.textContent,w=v.length;for(a=0;a<u&&o[a]===v[a];a++);var V=u-a;for(f=1;f<=V&&o[u-f]===v[w-f];f++);return Wa=v.slice(a,1<f?1-f:void 0)}function Wi(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function gi(){return!0}function xa(){return!1}function Sr(a){function o(u,f,v,w,V){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=w,this.target=V,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(u=a[Z],this[Z]=u?u(w):w[Z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?gi:xa,this.isPropagationStopped=xa,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),o}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=Sr(an),Aa=g({},an,{view:0,detail:0}),gl=Sr(Aa),Fs,Vs,ha,vi=g({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ha&&(ha&&a.type==="mousemove"?(Fs=a.screenX-ha.screenX,Vs=a.screenY-ha.screenY):Vs=Fs=0,ha=a),Fs)},movementY:function(a){return"movementY"in a?a.movementY:Vs}}),xr=Sr(vi),hu=g({},vi,{dataTransfer:0}),ms=Sr(hu),si=g({},Aa,{relatedTarget:0}),gs=Sr(si),Ga=g({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),xo=Sr(Ga),Bs=g({},an,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ao=Sr(Bs),vl=g({},an,{data:0}),Us=Sr(vl),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zs(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=To[a])?!!o[a]:!1}function ys(){return zs}var fu=g({},Aa,{key:function(a){if(a.key){var o=vs[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Wi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qs[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(a){return a.type==="keypress"?Wi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$a=Sr(fu),bs=g({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=Sr(bs),yi=g({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Eo=Sr(yi),x=g({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Sr(x),oe=g({},vi,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),me=Sr(oe),Ae=g({},an,{newState:0,oldState:0}),Ve=Sr(Ae),Ye=[9,13,27,32],it=zi&&"CompositionEvent"in window,m=null;zi&&"documentMode"in document&&(m=document.documentMode);var N=zi&&"TextEvent"in window&&!m,k=zi&&(!it||m&&8<m&&11>=m),J=" ",we=!1;function De(a,o){switch(a){case"keyup":return Ye.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Lt=!1;function sn(a,o){switch(a){case"compositionend":return Xe(o);case"keypress":return o.which!==32?null:(we=!0,J);case"textInput":return a=o.data,a===J&&we?null:a;default:return null}}function Ht(a,o){if(Lt)return a==="compositionend"||!it&&De(a,o)?(a=ml(),Wa=ds=Hi=null,Lt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return k&&o.locale!=="ko"?null:o.data;default:return null}}var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Tn[a.type]:o==="textarea"}function Ta(a,o,u,f){Ha?_a?_a.push(f):_a=[f]:Ha=f,o=Fp(o,"onChange"),0<o.length&&(u=new ps("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var pr=null,Gi=null;function _s(a){Nb(a,0)}function No(a){var o=Lr(a);if(fl(o))return a}function du(a,o){if(a==="change")return o}var yl=!1;if(zi){var Or;if(zi){var Co="oninput"in document;if(!Co){var bl=document.createElement("div");bl.setAttribute("oninput","return;"),Co=typeof bl.oninput=="function"}Or=Co}else Or=!1;yl=Or&&(!document.documentMode||9<document.documentMode)}function _l(){pr&&(pr.detachEvent("onpropertychange",pu),Gi=pr=null)}function pu(a){if(a.propertyName==="value"&&No(Gi)){var o=[];Ta(o,Gi,a,Fn(a)),cu(_s,o)}}function $i(a,o,u){a==="focusin"?(_l(),pr=o,Gi=u,pr.attachEvent("onpropertychange",pu)):a==="focusout"&&_l()}function _f(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return No(Gi)}function yc(a,o){if(a==="click")return No(o)}function nh(a,o){if(a==="input"||a==="change")return No(o)}function Ea(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var $r=typeof Object.is=="function"?Object.is:Ea;function Io(a,o){if($r(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!nt.call(o,v)||!$r(a[v],o[v]))return!1}return!0}function bc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ws(a,o){var u=bc(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=bc(u)}}function Ro(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Ro(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Ii(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ii(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=ii(a.document)}return o}function oi(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Po=zi&&"documentMode"in document&&11>=document.documentMode,Yi=null,Ya=null,ws=null,Ka=!1;function lr(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ka||Yi==null||Yi!==ii(f)||(f=Yi,"selectionStart"in f&&oi(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ws&&Io(ws,f)||(ws=f,f=Fp(Ya,"onSelect"),0<f.length&&(o=new ps("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=Yi)))}function Qa(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Ar={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Ki={},wl={};zi&&(wl=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Ss(a){if(Ki[a])return Ki[a];if(!Ar[a])return a;var o=Ar[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in wl)return Ki[a]=o[u];return a}var mu=Ss("animationend"),Lo=Ss("animationiteration"),Do=Ss("animationstart"),Oo=Ss("transitionrun"),Sl=Ss("transitionstart"),gu=Ss("transitioncancel"),ko=Ss("transitionend"),Gs=new Map,xl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xl.push("scrollEnd");function ur(a,o){Gs.set(a,o),pi(o,[a])}var fa=new WeakMap;function tn(a,o){if(typeof a=="object"&&a!==null){var u=fa.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Wn(o)},fa.set(a,o),o)}return{value:a,source:o,stack:Wn(o)}}var nn=[],Gn=0,mr=0;function Na(){for(var a=Gn,o=mr=Gn=0;o<a;){var u=nn[o];nn[o++]=null;var f=nn[o];nn[o++]=null;var v=nn[o];nn[o++]=null;var w=nn[o];if(nn[o++]=null,f!==null&&v!==null){var V=f.pending;V===null?v.next=v:(v.next=V.next,V.next=v),f.pending=v}w!==0&&rh(u,v,w)}}function jo(a,o,u,f){nn[Gn++]=a,nn[Gn++]=o,nn[Gn++]=u,nn[Gn++]=f,mr|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Mo(a,o,u,f){return jo(a,o,u,f),Al(a)}function $s(a,o){return jo(a,null,null,o),Al(a)}function rh(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var v=!1,w=a.return;w!==null;)w.childLanes|=u,f=w.alternate,f!==null&&(f.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&o!==null&&(v=31-dt(u),a=w.hiddenUpdates,f=a[v],f===null?a[v]=[o]:f.push(o),o.lane=u|536870912),w):null}function Al(a){if(50<Wf)throw Wf=0,P0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Yr={};function Ca(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(a,o,u,f){return new Ca(a,o,u,f)}function vu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xs(a,o){var u=a.alternate;return u===null?(u=bi(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function _c(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Tl(a,o,u,f,v,w){var V=0;if(f=a,typeof a=="function")vu(a)&&(V=1);else if(typeof a=="string")V=aT(a,u,te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=bi(31,u,o,v),a.elementType=F,a.lanes=w,a;case E:return Ys(u.children,v,w,o);case C:V=8,v|=24;break;case R:return a=bi(12,u,o,v|2),a.elementType=R,a.lanes=w,a;case $:return a=bi(13,u,o,v),a.elementType=$,a.lanes=w,a;case ce:return a=bi(19,u,o,v),a.elementType=ce,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:case H:V=10;break e;case B:V=9;break e;case ae:V=11;break e;case U:V=14;break e;case L:V=16,f=null;break e}V=29,u=Error(r(130,a===null?"null":typeof a,"")),f=null}return o=bi(V,u,o,v),o.elementType=a,o.type=f,o.lanes=w,o}function Ys(a,o,u,f){return a=bi(7,a,f,o),a.lanes=u,a}function ih(a,o,u){return a=bi(6,a,null,o),a.lanes=u,a}function wc(a,o,u){return o=bi(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Fo=[],Ks=0,yu=null,ah=0,Ia=[],da=0,El=null,Qs=1,Xs="";function Nl(a,o){Fo[Ks++]=ah,Fo[Ks++]=yu,yu=a,ah=o}function np(a,o,u){Ia[da++]=Qs,Ia[da++]=Xs,Ia[da++]=El,El=a;var f=Qs;a=Xs;var v=32-dt(f)-1;f&=~(1<<v),u+=1;var w=32-dt(o)+v;if(30<w){var V=v-v%5;w=(f&(1<<V)-1).toString(32),f>>=V,v-=V,Qs=1<<32-dt(o)+v|u<<v|f,Xs=w+a}else Qs=1<<w|u<<v|f,Xs=a}function Sc(a){a.return!==null&&(Nl(a,1),np(a,1,0))}function xc(a){for(;a===yu;)yu=Fo[--Ks],Fo[Ks]=null,ah=Fo[--Ks],Fo[Ks]=null;for(;a===El;)El=Ia[--da],Ia[da]=null,Xs=Ia[--da],Ia[da]=null,Qs=Ia[--da],Ia[da]=null}var kr=null,cr=null,Sn=!1,Vo=null,As=!1,wf=Error(r(519));function Cl(a){var o=Error(r(418,""));throw bu(tn(o,a)),wf}function rp(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[Pn]=a,o[Ln]=f,u){case"dialog":un("cancel",o),un("close",o);break;case"iframe":case"object":case"embed":un("load",o);break;case"video":case"audio":for(u=0;u<$f.length;u++)un($f[u],o);break;case"source":un("error",o);break;case"img":case"image":case"link":un("error",o),un("load",o);break;case"details":un("toggle",o);break;case"input":un("invalid",o),cs(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),us(o);break;case"select":un("invalid",o);break;case"textarea":un("invalid",o),fs(o,f.value,f.defaultValue,f.children),us(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||Pb(o.textContent,u)?(f.popover!=null&&(un("beforetoggle",o),un("toggle",o)),f.onScroll!=null&&un("scroll",o),f.onScrollEnd!=null&&un("scrollend",o),f.onClick!=null&&(o.onclick=Vp),o=!0):o=!1,o||Cl(a)}function Js(a){for(kr=a.return;kr;)switch(kr.tag){case 5:case 13:As=!1;return;case 27:case 3:As=!0;return;default:kr=kr.return}}function Ri(a){if(a!==kr)return!1;if(!Sn)return Js(a),Sn=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||$0(a.type,a.memoizedProps)),u=!u),u&&cr&&Cl(a),Js(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){cr=so(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}cr=null}}else o===27?(o=cr,ju(a.type)?(a=X0,X0=null,cr=a):cr=o):cr=kr?so(a.stateNode.nextSibling):null;return!0}function pa(){cr=kr=null,Sn=!1}function ip(){var a=Vo;return a!==null&&(La===null?La=a:La.push.apply(La,a),Vo=null),a}function bu(a){Vo===null?Vo=[a]:Vo.push(a)}var Ts=xe(null),Kr=null,Zs=null;function Bo(a,o,u){K(Ts,o._currentValue),o._currentValue=u}function Es(a){a._currentValue=Ts.current,M(Ts)}function sh(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function oh(a,o,u,f){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var V=v.child;w=w.firstContext;e:for(;w!==null;){var Z=w;w=v;for(var pe=0;pe<o.length;pe++)if(Z.context===o[pe]){w.lanes|=u,Z=w.alternate,Z!==null&&(Z.lanes|=u),sh(w.return,u,a),f||(V=null);break e}w=Z.next}}else if(v.tag===18){if(V=v.return,V===null)throw Error(r(341));V.lanes|=u,w=V.alternate,w!==null&&(w.lanes|=u),sh(V,u,a),V=null}else V=v.child;if(V!==null)V.return=v;else for(V=v;V!==null;){if(V===a){V=null;break}if(v=V.sibling,v!==null){v.return=V.return,V=v;break}V=V.return}v=V}}function _u(a,o,u,f){a=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var V=v.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var Z=v.type;$r(v.pendingProps.value,V.value)||(a!==null?a.push(Z):a=[Z])}}else if(v===Ne.current){if(V=v.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Zf):a=[Zf])}v=v.return}a!==null&&oh(o,a,u,f),o.flags|=262144}function lh(a){for(a=a.firstContext;a!==null;){if(!$r(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ns(a){Kr=a,Zs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function jr(a){return uh(Kr,a)}function Uo(a,o){return Kr===null&&Ns(a),uh(a,o)}function uh(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Zs===null){if(a===null)throw Error(r(308));Zs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Zs=Zs.next=o;return u}var n0=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},ap=n.unstable_scheduleCallback,r0=n.unstable_NormalPriority,Mr={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new n0,data:new Map,refCount:0}}function Ac(a){a.refCount--,a.refCount===0&&ap(r0,function(){a.controller.abort()})}var Tc=null,xf=0,Il=0,eo=null;function i0(a,o){if(Tc===null){var u=Tc=[];xf=0,Il=F0(),eo={status:"pending",value:void 0,then:function(f){u.push(f)}}}return xf++,o.then(sp,sp),o}function sp(){if(--xf===0&&Tc!==null){eo!==null&&(eo.status="fulfilled");var a=Tc;Tc=null,Il=0,eo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function op(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var p=re.S;re.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&i0(a,o),p!==null&&p(a,o)};var y=xe(null);function T(){var a=y.current;return a!==null?a:er.pooledCache}function D(a,o){o===null?K(y,y.current):K(y,o.pool)}function q(){var a=T();return a===null?null:{parent:Mr._currentValue,pool:a}}var G=Error(r(460)),Y=Error(r(474)),X=Error(r(542)),ee={then:function(){}};function ie(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ge(){}function Pe(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ge,ge),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,He(a),a;default:if(typeof o.status=="string")o.then(ge,ge);else{if(a=er,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=f}},function(f){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,He(a),a}throw Ie=o,G}}var Ie=null;function Ee(){if(Ie===null)throw Error(r(459));var a=Ie;return Ie=null,a}function He(a){if(a===G||a===X)throw Error(r(483))}var Me=!1;function ve(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function be(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Be(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function We(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Bn&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,o=Al(a),rh(a,null,u),o}return jo(a,f,o,u),Al(a)}function qe(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,hn(a,u)}}function ct(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=V:w=w.next=V,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var rt=!1;function wt(){if(rt){var a=eo;if(a!==null)throw a}}function at(a,o,u,f){rt=!1;var v=a.updateQueue;Me=!1;var w=v.firstBaseUpdate,V=v.lastBaseUpdate,Z=v.shared.pending;if(Z!==null){v.shared.pending=null;var pe=Z,Oe=pe.next;pe.next=null,V===null?w=Oe:V.next=Oe,V=pe;var Ue=a.alternate;Ue!==null&&(Ue=Ue.updateQueue,Z=Ue.lastBaseUpdate,Z!==V&&(Z===null?Ue.firstBaseUpdate=Oe:Z.next=Oe,Ue.lastBaseUpdate=pe))}if(w!==null){var Ge=v.baseState;V=0,Ue=Oe=pe=null,Z=w;do{var ke=Z.lane&-536870913,je=ke!==Z.lane;if(je?(yn&ke)===ke:(f&ke)===ke){ke!==0&&ke===Il&&(rt=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var qt=a,Dt=Z;ke=o;var Yn=u;switch(Dt.tag){case 1:if(qt=Dt.payload,typeof qt=="function"){Ge=qt.call(Yn,Ge,ke);break e}Ge=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Dt.payload,ke=typeof qt=="function"?qt.call(Yn,Ge,ke):qt,ke==null)break e;Ge=g({},Ge,ke);break e;case 2:Me=!0}}ke=Z.callback,ke!==null&&(a.flags|=64,je&&(a.flags|=8192),je=v.callbacks,je===null?v.callbacks=[ke]:je.push(ke))}else je={lane:ke,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ue===null?(Oe=Ue=je,pe=Ge):Ue=Ue.next=je,V|=ke;if(Z=Z.next,Z===null){if(Z=v.shared.pending,Z===null)break;je=Z,Z=je.next,je.next=null,v.lastBaseUpdate=je,v.shared.pending=null}}while(!0);Ue===null&&(pe=Ge),v.baseState=pe,v.firstBaseUpdate=Oe,v.lastBaseUpdate=Ue,w===null&&(v.shared.lanes=0),Lu|=V,a.lanes=V,a.memoizedState=Ge}}function gn(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function En(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)gn(u[a],o)}var Zt=xe(null),Qt=xe(0);function jn(a,o){a=Vl,K(Qt,a),K(Zt,o),Vl=a|o.baseLanes}function Nn(){K(Qt,Vl),K(Zt,Zt.current)}function Wt(){Vl=Qt.current,M(Zt),M(Qt)}var Vn=0,Et=null,Mt=null,mn=null,vn=!1,Qr=!1,Fr=!1,gr=0,vr=0,Tr=null,Ra=0;function Cn(){throw Error(r(321))}function Er(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!$r(a[u],o[u]))return!1;return!0}function Xa(a,o,u,f,v,w){return Vn=w,Et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,re.H=a===null||a.memoizedState===null?hy:fy,Fr=!1,w=u(f,v),Fr=!1,Qr&&(w=Rl(o,u,f,v)),qo(a),w}function qo(a){re.H=bp;var o=Mt!==null&&Mt.next!==null;if(Vn=0,mn=Mt=Et=null,vn=!1,vr=0,Tr=null,o)throw Error(r(300));a===null||_i||(a=a.dependencies,a!==null&&lh(a)&&(_i=!0))}function Rl(a,o,u,f){Et=a;var v=0;do{if(Qr&&(Tr=null),vr=0,Qr=!1,25<=v)throw Error(r(301));if(v+=1,mn=Mt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}re.H=g3,w=o(u,f)}while(Qr);return w}function zo(){var a=re.H,o=a.useState()[0];return o=typeof o.then=="function"?Ho(o):o,a=a.useState()[0],(Mt!==null?Mt.memoizedState:null)!==a&&(Et.flags|=1024),o}function Zn(){var a=gr!==0;return gr=0,a}function Ec(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function ch(a){if(vn){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}vn=!1}Vn=0,mn=Mt=Et=null,Qr=!1,vr=gr=0,Tr=null}function Pi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Et.memoizedState=mn=a:mn=mn.next=a,mn}function rr(){if(Mt===null){var a=Et.alternate;a=a!==null?a.memoizedState:null}else a=Mt.next;var o=mn===null?Et.memoizedState:mn.next;if(o!==null)mn=o,Mt=a;else{if(a===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Mt=a,a={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},mn===null?Et.memoizedState=mn=a:mn=mn.next=a}return mn}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(a){var o=vr;return vr+=1,Tr===null&&(Tr=[]),a=Pe(Tr,a,o),o=Et,(mn===null?o.memoizedState:mn.next)===null&&(o=o.alternate,re.H=o===null||o.memoizedState===null?hy:fy),a}function Qi(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ho(a);if(a.$$typeof===H)return jr(a)}throw Error(r(438,String(a)))}function Wo(a){var o=null,u=Et.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Pl(),Et.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=W;return o.index++,u}function Xi(a,o){return typeof o=="function"?o(a):o}function Nc(a){var o=rr();return wu(o,Mt,a)}function wu(a,o,u){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=a.baseQueue,w=f.pending;if(w!==null){if(v!==null){var V=v.next;v.next=w.next,w.next=V}o.baseQueue=v=w,f.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{o=v.next;var Z=V=null,pe=null,Oe=o,Ue=!1;do{var Ge=Oe.lane&-536870913;if(Ge!==Oe.lane?(yn&Ge)===Ge:(Vn&Ge)===Ge){var ke=Oe.revertLane;if(ke===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ge===Il&&(Ue=!0);else if((Vn&ke)===ke){Oe=Oe.next,ke===Il&&(Ue=!0);continue}else Ge={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},pe===null?(Z=pe=Ge,V=w):pe=pe.next=Ge,Et.lanes|=ke,Lu|=ke;Ge=Oe.action,Fr&&u(w,Ge),w=Oe.hasEagerState?Oe.eagerState:u(w,Ge)}else ke={lane:Ge,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},pe===null?(Z=pe=ke,V=w):pe=pe.next=ke,Et.lanes|=Ge,Lu|=Ge;Oe=Oe.next}while(Oe!==null&&Oe!==o);if(pe===null?V=w:pe.next=Z,!$r(w,a.memoizedState)&&(_i=!0,Ue&&(u=eo,u!==null)))throw u;a.memoizedState=w,a.baseState=V,a.baseQueue=pe,f.lastRenderedState=w}return v===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function hh(a){var o=rr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var V=v=v.next;do w=a(w,V.action),V=V.next;while(V!==v);$r(w,o.memoizedState)||(_i=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,f]}function Cc(a,o,u){var f=Et,v=rr(),w=Sn;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=o();var V=!$r((Mt||v).memoizedState,u);V&&(v.memoizedState=u,_i=!0),v=v.queue;var Z=Su.bind(null,f,v,a);if(Tu(2048,8,Z,[a]),v.getSnapshot!==o||V||mn!==null&&mn.memoizedState.tag&1){if(f.flags|=2048,no(9,Lc(),Ic.bind(null,f,v,u,o),null),er===null)throw Error(r(349));w||(Vn&124)!==0||fh(f,o,u)}return u}function fh(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Et.updateQueue,o===null?(o=Pl(),Et.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Ic(a,o,u,f){o.value=u,o.getSnapshot=f,lp(o)&&up(a)}function Su(a,o,u){return u(function(){lp(o)&&up(a)})}function lp(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!$r(a,u)}catch{return!0}}function up(a){var o=$s(a,2);o!==null&&rs(o,a,2)}function Rc(a){var o=Pi();if(typeof a=="function"){var u=a;if(a=u(),Fr){Yt(!0);try{u()}finally{Yt(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},o}function to(a,o,u,f){return a.baseState=u,wu(a,Mt,typeof f=="function"?f:Xi)}function a0(a,o,u,f,v){if(yp(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){w.listeners.push(V)}};re.T!==null?u(!0):w.isTransition=!1,f(w),u=o.pending,u===null?(w.next=o.pending=w,cp(o,w)):(w.next=u.next,o.pending=u.next=w)}}function cp(a,o){var u=o.action,f=o.payload,v=a.state;if(o.isTransition){var w=re.T,V={};re.T=V;try{var Z=u(v,f),pe=re.S;pe!==null&&pe(V,Z),hp(a,o,Z)}catch(Oe){xu(a,o,Oe)}finally{re.T=w}}else try{w=u(v,f),hp(a,o,w)}catch(Oe){xu(a,o,Oe)}}function hp(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Af(a,o,f)},function(f){return xu(a,o,f)}):Af(a,o,u)}function Af(a,o,u){o.status="fulfilled",o.value=u,Tf(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,cp(a,u)))}function xu(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Tf(o),o=o.next;while(o!==f)}a.action=null}function Tf(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Ef(a,o){return o}function Pc(a,o){if(Sn){var u=er.formState;if(u!==null){e:{var f=Et;if(Sn){if(cr){t:{for(var v=cr,w=As;v.nodeType!==8;){if(!w){v=null;break t}if(v=so(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){cr=so(v.nextSibling),f=v.data==="F!";break e}}Cl(f)}f=!1}f&&(o=u[0])}}return u=Pi(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:o},u.queue=f,u=ly.bind(null,Et,f),f.dispatch=u,f=Rc(!1),w=s0.bind(null,Et,!1,f.queue),f=Pi(),v={state:o,dispatch:null,action:a,pending:null},f.queue=v,u=a0.bind(null,Et,v,w,u),v.dispatch=u,f.memoizedState=a,[o,u,!1]}function dh(a){var o=rr();return Au(o,Mt,a)}function Au(a,o,u){if(o=wu(a,o,Ef)[0],a=Nc(Xi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Ho(o)}catch(V){throw V===G?X:V}else f=o;o=rr();var v=o.queue,w=v.dispatch;return u!==o.memoizedState&&(Et.flags|=2048,no(9,Lc(),fp.bind(null,v,u),null)),[f,w,a]}function fp(a,o){a.action=o}function dp(a){var o=rr(),u=Mt;if(u!==null)return Au(o,u,a);rr(),o=o.memoizedState,u=rr();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function no(a,o,u,f){return a={tag:a,create:u,deps:f,inst:o,next:null},o=Et.updateQueue,o===null&&(o=Pl(),Et.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function Lc(){return{destroy:void 0,resource:void 0}}function ph(){return rr().memoizedState}function Ja(a,o,u,f){var v=Pi();f=f===void 0?null:f,Et.flags|=a,v.memoizedState=no(1|o,Lc(),u,f)}function Tu(a,o,u,f){var v=rr();f=f===void 0?null:f;var w=v.memoizedState.inst;Mt!==null&&f!==null&&Er(f,Mt.memoizedState.deps)?v.memoizedState=no(o,w,u,f):(Et.flags|=a,v.memoizedState=no(1|o,w,u,f))}function Nf(a,o){Ja(8390656,8,a,o)}function pp(a,o){Tu(2048,8,a,o)}function Cf(a,o){return Tu(4,2,a,o)}function Ll(a,o){return Tu(4,4,a,o)}function mp(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function If(a,o,u){u=u!=null?u.concat([a]):null,Tu(4,4,mp.bind(null,o,a),u)}function Rf(){}function Pf(a,o){var u=rr();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Er(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function gp(a,o){var u=rr();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Er(o,f[1]))return f[0];if(f=a(),Fr){Yt(!0);try{a()}finally{Yt(!1)}}return u.memoizedState=[f,o],f}function Dl(a,o,u){return u===void 0||(Vn&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=ib(),Et.lanes|=a,Lu|=a,u)}function mh(a,o,u,f){return $r(u,o)?u:Zt.current!==null?(a=Dl(a,u,f),$r(a,o)||(_i=!0),a):(Vn&42)===0?(_i=!0,a.memoizedState=u):(a=ib(),Et.lanes|=a,Lu|=a,o)}function Dc(a,o,u,f,v){var w=le.p;le.p=w!==0&&8>w?w:8;var V=re.T,Z={};re.T=Z,s0(a,!1,o,u);try{var pe=v(),Oe=re.S;if(Oe!==null&&Oe(Z,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ue=op(pe,f);kf(a,o,Ue,ns(a))}else kf(a,o,f,ns(a))}catch(Ge){kf(a,o,{then:function(){},status:"rejected",reason:Ge},ns())}finally{le.p=w,re.T=V}}function ro(){}function Cs(a,o,u,f){if(a.tag!==5)throw Error(r(476));var v=io(a).queue;Dc(a,v,o,he,u===null?ro:function(){return Oc(a),u(f)})}function io(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:he},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Oc(a){var o=io(a).next.queue;kf(a,o,{},ns())}function kc(){return jr(Zf)}function Lf(){return rr().memoizedState}function vp(){return rr().memoizedState}function Df(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ns();a=Be(u);var f=We(o,a,u);f!==null&&(rs(f,o,u),qe(f,o,u)),o={cache:Sf()},a.payload=o;return}o=o.return}}function Of(a,o,u){var f=ns();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},yp(a)?uy(o,u):(u=Mo(a,o,u,f),u!==null&&(rs(u,a,f),cy(u,o,f)))}function ly(a,o,u){var f=ns();kf(a,o,u,f)}function kf(a,o,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(yp(a))uy(o,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var V=o.lastRenderedState,Z=w(V,u);if(v.hasEagerState=!0,v.eagerState=Z,$r(Z,V))return jo(a,o,v,0),er===null&&Na(),!1}catch{}finally{}if(u=Mo(a,o,v,f),u!==null)return rs(u,a,f),cy(u,o,f),!0}return!1}function s0(a,o,u,f){if(f={lane:2,revertLane:F0(),action:f,hasEagerState:!1,eagerState:null,next:null},yp(a)){if(o)throw Error(r(479))}else o=Mo(a,u,f,2),o!==null&&rs(o,a,2)}function yp(a){var o=a.alternate;return a===Et||o!==null&&o===Et}function uy(a,o){Qr=vn=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function cy(a,o,u){if((u&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,hn(a,u)}}var bp={readContext:jr,use:Qi,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn},hy={readContext:jr,use:Qi,useCallback:function(a,o){return Pi().memoizedState=[a,o===void 0?null:o],a},useContext:jr,useEffect:Nf,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ja(4194308,4,mp.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ja(4194308,4,a,o)},useInsertionEffect:function(a,o){Ja(4,2,a,o)},useMemo:function(a,o){var u=Pi();o=o===void 0?null:o;var f=a();if(Fr){Yt(!0);try{a()}finally{Yt(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=Pi();if(u!==void 0){var v=u(o);if(Fr){Yt(!0);try{u(o)}finally{Yt(!1)}}}else v=o;return f.memoizedState=f.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},f.queue=a,a=a.dispatch=Of.bind(null,Et,a),[f.memoizedState,a]},useRef:function(a){var o=Pi();return a={current:a},o.memoizedState=a},useState:function(a){a=Rc(a);var o=a.queue,u=ly.bind(null,Et,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Rf,useDeferredValue:function(a,o){var u=Pi();return Dl(u,a,o)},useTransition:function(){var a=Rc(!1);return a=Dc.bind(null,Et,a.queue,!0,!1),Pi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=Et,v=Pi();if(Sn){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),er===null)throw Error(r(349));(yn&124)!==0||fh(f,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,Nf(Su.bind(null,f,w,a),[a]),f.flags|=2048,no(9,Lc(),Ic.bind(null,f,w,u,o),null),u},useId:function(){var a=Pi(),o=er.identifierPrefix;if(Sn){var u=Xs,f=Qs;u=(f&~(1<<32-dt(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=gr++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=Ra++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:kc,useFormState:Pc,useActionState:Pc,useOptimistic:function(a){var o=Pi();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=s0.bind(null,Et,!0,u),u.dispatch=o,[a,o]},useMemoCache:Wo,useCacheRefresh:function(){return Pi().memoizedState=Df.bind(null,Et)}},fy={readContext:jr,use:Qi,useCallback:Pf,useContext:jr,useEffect:pp,useImperativeHandle:If,useInsertionEffect:Cf,useLayoutEffect:Ll,useMemo:gp,useReducer:Nc,useRef:ph,useState:function(){return Nc(Xi)},useDebugValue:Rf,useDeferredValue:function(a,o){var u=rr();return mh(u,Mt.memoizedState,a,o)},useTransition:function(){var a=Nc(Xi)[0],o=rr().memoizedState;return[typeof a=="boolean"?a:Ho(a),o]},useSyncExternalStore:Cc,useId:Lf,useHostTransitionStatus:kc,useFormState:dh,useActionState:dh,useOptimistic:function(a,o){var u=rr();return to(u,Mt,a,o)},useMemoCache:Wo,useCacheRefresh:vp},g3={readContext:jr,use:Qi,useCallback:Pf,useContext:jr,useEffect:pp,useImperativeHandle:If,useInsertionEffect:Cf,useLayoutEffect:Ll,useMemo:gp,useReducer:hh,useRef:ph,useState:function(){return hh(Xi)},useDebugValue:Rf,useDeferredValue:function(a,o){var u=rr();return Mt===null?Dl(u,a,o):mh(u,Mt.memoizedState,a,o)},useTransition:function(){var a=hh(Xi)[0],o=rr().memoizedState;return[typeof a=="boolean"?a:Ho(a),o]},useSyncExternalStore:Cc,useId:Lf,useHostTransitionStatus:kc,useFormState:dp,useActionState:dp,useOptimistic:function(a,o){var u=rr();return Mt!==null?to(u,Mt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Wo,useCacheRefresh:vp},gh=null,jf=0;function _p(a){var o=jf;return jf+=1,gh===null&&(gh=[]),Pe(gh,a,o)}function Mf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function wp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function dy(a){var o=a._init;return o(a._payload)}function py(a){function o(Ce,ye){if(a){var Re=Ce.deletions;Re===null?(Ce.deletions=[ye],Ce.flags|=16):Re.push(ye)}}function u(Ce,ye){if(!a)return null;for(;ye!==null;)o(Ce,ye),ye=ye.sibling;return null}function f(Ce){for(var ye=new Map;Ce!==null;)Ce.key!==null?ye.set(Ce.key,Ce):ye.set(Ce.index,Ce),Ce=Ce.sibling;return ye}function v(Ce,ye){return Ce=xs(Ce,ye),Ce.index=0,Ce.sibling=null,Ce}function w(Ce,ye,Re){return Ce.index=Re,a?(Re=Ce.alternate,Re!==null?(Re=Re.index,Re<ye?(Ce.flags|=67108866,ye):Re):(Ce.flags|=67108866,ye)):(Ce.flags|=1048576,ye)}function V(Ce){return a&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Z(Ce,ye,Re,ze){return ye===null||ye.tag!==6?(ye=ih(Re,Ce.mode,ze),ye.return=Ce,ye):(ye=v(ye,Re),ye.return=Ce,ye)}function pe(Ce,ye,Re,ze){var pt=Re.type;return pt===E?Ue(Ce,ye,Re.props.children,ze,Re.key):ye!==null&&(ye.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===L&&dy(pt)===ye.type)?(ye=v(ye,Re.props),Mf(ye,Re),ye.return=Ce,ye):(ye=Tl(Re.type,Re.key,Re.props,null,Ce.mode,ze),Mf(ye,Re),ye.return=Ce,ye)}function Oe(Ce,ye,Re,ze){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Re.containerInfo||ye.stateNode.implementation!==Re.implementation?(ye=wc(Re,Ce.mode,ze),ye.return=Ce,ye):(ye=v(ye,Re.children||[]),ye.return=Ce,ye)}function Ue(Ce,ye,Re,ze,pt){return ye===null||ye.tag!==7?(ye=Ys(Re,Ce.mode,ze,pt),ye.return=Ce,ye):(ye=v(ye,Re),ye.return=Ce,ye)}function Ge(Ce,ye,Re){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=ih(""+ye,Ce.mode,Re),ye.return=Ce,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return Re=Tl(ye.type,ye.key,ye.props,null,Ce.mode,Re),Mf(Re,ye),Re.return=Ce,Re;case _:return ye=wc(ye,Ce.mode,Re),ye.return=Ce,ye;case L:var ze=ye._init;return ye=ze(ye._payload),Ge(Ce,ye,Re)}if(Se(ye)||O(ye))return ye=Ys(ye,Ce.mode,Re,null),ye.return=Ce,ye;if(typeof ye.then=="function")return Ge(Ce,_p(ye),Re);if(ye.$$typeof===H)return Ge(Ce,Uo(Ce,ye),Re);wp(Ce,ye)}return null}function ke(Ce,ye,Re,ze){var pt=ye!==null?ye.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return pt!==null?null:Z(Ce,ye,""+Re,ze);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case S:return Re.key===pt?pe(Ce,ye,Re,ze):null;case _:return Re.key===pt?Oe(Ce,ye,Re,ze):null;case L:return pt=Re._init,Re=pt(Re._payload),ke(Ce,ye,Re,ze)}if(Se(Re)||O(Re))return pt!==null?null:Ue(Ce,ye,Re,ze,null);if(typeof Re.then=="function")return ke(Ce,ye,_p(Re),ze);if(Re.$$typeof===H)return ke(Ce,ye,Uo(Ce,Re),ze);wp(Ce,Re)}return null}function je(Ce,ye,Re,ze,pt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Ce=Ce.get(Re)||null,Z(ye,Ce,""+ze,pt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:return Ce=Ce.get(ze.key===null?Re:ze.key)||null,pe(ye,Ce,ze,pt);case _:return Ce=Ce.get(ze.key===null?Re:ze.key)||null,Oe(ye,Ce,ze,pt);case L:var on=ze._init;return ze=on(ze._payload),je(Ce,ye,Re,ze,pt)}if(Se(ze)||O(ze))return Ce=Ce.get(Re)||null,Ue(ye,Ce,ze,pt,null);if(typeof ze.then=="function")return je(Ce,ye,Re,_p(ze),pt);if(ze.$$typeof===H)return je(Ce,ye,Re,Uo(ye,ze),pt);wp(ye,ze)}return null}function qt(Ce,ye,Re,ze){for(var pt=null,on=null,St=ye,kt=ye=0,Si=null;St!==null&&kt<Re.length;kt++){St.index>kt?(Si=St,St=null):Si=St.sibling;var In=ke(Ce,St,Re[kt],ze);if(In===null){St===null&&(St=Si);break}a&&St&&In.alternate===null&&o(Ce,St),ye=w(In,ye,kt),on===null?pt=In:on.sibling=In,on=In,St=Si}if(kt===Re.length)return u(Ce,St),Sn&&Nl(Ce,kt),pt;if(St===null){for(;kt<Re.length;kt++)St=Ge(Ce,Re[kt],ze),St!==null&&(ye=w(St,ye,kt),on===null?pt=St:on.sibling=St,on=St);return Sn&&Nl(Ce,kt),pt}for(St=f(St);kt<Re.length;kt++)Si=je(St,Ce,kt,Re[kt],ze),Si!==null&&(a&&Si.alternate!==null&&St.delete(Si.key===null?kt:Si.key),ye=w(Si,ye,kt),on===null?pt=Si:on.sibling=Si,on=Si);return a&&St.forEach(function(Uu){return o(Ce,Uu)}),Sn&&Nl(Ce,kt),pt}function Dt(Ce,ye,Re,ze){if(Re==null)throw Error(r(151));for(var pt=null,on=null,St=ye,kt=ye=0,Si=null,In=Re.next();St!==null&&!In.done;kt++,In=Re.next()){St.index>kt?(Si=St,St=null):Si=St.sibling;var Uu=ke(Ce,St,In.value,ze);if(Uu===null){St===null&&(St=Si);break}a&&St&&Uu.alternate===null&&o(Ce,St),ye=w(Uu,ye,kt),on===null?pt=Uu:on.sibling=Uu,on=Uu,St=Si}if(In.done)return u(Ce,St),Sn&&Nl(Ce,kt),pt;if(St===null){for(;!In.done;kt++,In=Re.next())In=Ge(Ce,In.value,ze),In!==null&&(ye=w(In,ye,kt),on===null?pt=In:on.sibling=In,on=In);return Sn&&Nl(Ce,kt),pt}for(St=f(St);!In.done;kt++,In=Re.next())In=je(St,Ce,kt,In.value,ze),In!==null&&(a&&In.alternate!==null&&St.delete(In.key===null?kt:In.key),ye=w(In,ye,kt),on===null?pt=In:on.sibling=In,on=In);return a&&St.forEach(function(vT){return o(Ce,vT)}),Sn&&Nl(Ce,kt),pt}function Yn(Ce,ye,Re,ze){if(typeof Re=="object"&&Re!==null&&Re.type===E&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case S:e:{for(var pt=Re.key;ye!==null;){if(ye.key===pt){if(pt=Re.type,pt===E){if(ye.tag===7){u(Ce,ye.sibling),ze=v(ye,Re.props.children),ze.return=Ce,Ce=ze;break e}}else if(ye.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===L&&dy(pt)===ye.type){u(Ce,ye.sibling),ze=v(ye,Re.props),Mf(ze,Re),ze.return=Ce,Ce=ze;break e}u(Ce,ye);break}else o(Ce,ye);ye=ye.sibling}Re.type===E?(ze=Ys(Re.props.children,Ce.mode,ze,Re.key),ze.return=Ce,Ce=ze):(ze=Tl(Re.type,Re.key,Re.props,null,Ce.mode,ze),Mf(ze,Re),ze.return=Ce,Ce=ze)}return V(Ce);case _:e:{for(pt=Re.key;ye!==null;){if(ye.key===pt)if(ye.tag===4&&ye.stateNode.containerInfo===Re.containerInfo&&ye.stateNode.implementation===Re.implementation){u(Ce,ye.sibling),ze=v(ye,Re.children||[]),ze.return=Ce,Ce=ze;break e}else{u(Ce,ye);break}else o(Ce,ye);ye=ye.sibling}ze=wc(Re,Ce.mode,ze),ze.return=Ce,Ce=ze}return V(Ce);case L:return pt=Re._init,Re=pt(Re._payload),Yn(Ce,ye,Re,ze)}if(Se(Re))return qt(Ce,ye,Re,ze);if(O(Re)){if(pt=O(Re),typeof pt!="function")throw Error(r(150));return Re=pt.call(Re),Dt(Ce,ye,Re,ze)}if(typeof Re.then=="function")return Yn(Ce,ye,_p(Re),ze);if(Re.$$typeof===H)return Yn(Ce,ye,Uo(Ce,Re),ze);wp(Ce,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,ye!==null&&ye.tag===6?(u(Ce,ye.sibling),ze=v(ye,Re),ze.return=Ce,Ce=ze):(u(Ce,ye),ze=ih(Re,Ce.mode,ze),ze.return=Ce,Ce=ze),V(Ce)):u(Ce,ye)}return function(Ce,ye,Re,ze){try{jf=0;var pt=Yn(Ce,ye,Re,ze);return gh=null,pt}catch(St){if(St===G||St===X)throw St;var on=bi(29,St,null,Ce.mode);return on.lanes=ze,on.return=Ce,on}finally{}}}var vh=py(!0),my=py(!1),Is=xe(null),Go=null;function Eu(a){var o=a.alternate;K(li,li.current&1),K(Is,a),Go===null&&(o===null||Zt.current!==null||o.memoizedState!==null)&&(Go=a)}function gy(a){if(a.tag===22){if(K(li,li.current),K(Is,a),Go===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Go=a)}}else Nu()}function Nu(){K(li,li.current),K(Is,Is.current)}function Ol(a){M(Is),Go===a&&(Go=null),M(li)}var li=xe(0);function Sp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Q0(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function o0(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:g({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var l0={enqueueSetState:function(a,o,u){a=a._reactInternals;var f=ns(),v=Be(f);v.payload=o,u!=null&&(v.callback=u),o=We(a,v,f),o!==null&&(rs(o,a,f),qe(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=ns(),v=Be(f);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=We(a,v,f),o!==null&&(rs(o,a,f),qe(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ns(),f=Be(u);f.tag=2,o!=null&&(f.callback=o),o=We(a,f,u),o!==null&&(rs(o,a,u),qe(o,a,u))}};function vy(a,o,u,f,v,w,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,w,V):o.prototype&&o.prototype.isPureReactComponent?!Io(u,f)||!Io(v,w):!0}function yy(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&l0.enqueueReplaceState(o,o.state,null)}function jc(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=g({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}var xp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function by(a){xp(a)}function _y(a){console.error(a)}function wy(a){xp(a)}function Ap(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Sy(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function u0(a,o,u){return u=Be(u),u.tag=3,u.payload={element:null},u.callback=function(){Ap(a,o)},u}function xy(a){return a=Be(a),a.tag=3,a}function Ay(a,o,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=f.value;a.payload=function(){return v(w)},a.callback=function(){Sy(o,u,f)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){Sy(o,u,f),typeof v!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var Z=f.stack;this.componentDidCatch(f.value,{componentStack:Z!==null?Z:""})})}function v3(a,o,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&_u(o,u,v,!0),u=Is.current,u!==null){switch(u.tag){case 13:return Go===null?D0():u.alternate===null&&Nr===0&&(Nr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===ee?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),k0(a,f,v)),!1;case 22:return u.flags|=65536,f===ee?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),k0(a,f,v)),!1}throw Error(r(435,u.tag))}return k0(a,f,v),D0(),!1}if(Sn)return o=Is.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,f!==wf&&(a=Error(r(422),{cause:f}),bu(tn(a,u)))):(f!==wf&&(o=Error(r(423),{cause:f}),bu(tn(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,f=tn(f,u),v=u0(a.stateNode,f,v),ct(a,v),Nr!==4&&(Nr=2)),!1;var w=Error(r(520),{cause:f});if(w=tn(w,u),Hf===null?Hf=[w]:Hf.push(w),Nr!==4&&(Nr=2),o===null)return!0;f=tn(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=u0(u.stateNode,f,a),ct(u,a),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Du===null||!Du.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=xy(v),Ay(v,a,u,f),ct(u,v),!1}u=u.return}while(u!==null);return!1}var Ty=Error(r(461)),_i=!1;function Li(a,o,u,f){o.child=a===null?my(o,null,u,f):vh(o,a.child,u,f)}function Ey(a,o,u,f,v){u=u.render;var w=o.ref;if("ref"in f){var V={};for(var Z in f)Z!=="ref"&&(V[Z]=f[Z])}else V=f;return Ns(o),f=Xa(a,o,u,V,w,v),Z=Zn(),a!==null&&!_i?(Ec(a,o,v),kl(a,o,v)):(Sn&&Z&&Sc(o),o.flags|=1,Li(a,o,f,v),o.child)}function Ny(a,o,u,f,v){if(a===null){var w=u.type;return typeof w=="function"&&!vu(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,Cy(a,o,w,f,v)):(a=Tl(u.type,null,f,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!v0(a,v)){var V=w.memoizedProps;if(u=u.compare,u=u!==null?u:Io,u(V,f)&&a.ref===o.ref)return kl(a,o,v)}return o.flags|=1,a=xs(w,f),a.ref=o.ref,a.return=o,o.child=a}function Cy(a,o,u,f,v){if(a!==null){var w=a.memoizedProps;if(Io(w,f)&&a.ref===o.ref)if(_i=!1,o.pendingProps=f=w,v0(a,v))(a.flags&131072)!==0&&(_i=!0);else return o.lanes=a.lanes,kl(a,o,v)}return c0(a,o,u,f,v)}function Iy(a,o,u){var f=o.pendingProps,v=f.children,w=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=w!==null?w.baseLanes|u:u,a!==null){for(v=o.child=a.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;o.childLanes=w&~f}else o.childLanes=0,o.child=null;return Ry(a,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&D(o,w!==null?w.cachePool:null),w!==null?jn(o,w):Nn(),gy(o);else return o.lanes=o.childLanes=536870912,Ry(a,o,w!==null?w.baseLanes|u:u,u)}else w!==null?(D(o,w.cachePool),jn(o,w),Nu(),o.memoizedState=null):(a!==null&&D(o,null),Nn(),Nu());return Li(a,o,v,u),o.child}function Ry(a,o,u,f){var v=T();return v=v===null?null:{parent:Mr._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},a!==null&&D(o,null),Nn(),gy(o),a!==null&&_u(a,o,f,!0),null}function Tp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function c0(a,o,u,f,v){return Ns(o),u=Xa(a,o,u,f,void 0,v),f=Zn(),a!==null&&!_i?(Ec(a,o,v),kl(a,o,v)):(Sn&&f&&Sc(o),o.flags|=1,Li(a,o,u,v),o.child)}function Py(a,o,u,f,v,w){return Ns(o),o.updateQueue=null,u=Rl(o,f,u,v),qo(a),f=Zn(),a!==null&&!_i?(Ec(a,o,w),kl(a,o,w)):(Sn&&f&&Sc(o),o.flags|=1,Li(a,o,u,w),o.child)}function Ly(a,o,u,f,v){if(Ns(o),o.stateNode===null){var w=Yr,V=u.contextType;typeof V=="object"&&V!==null&&(w=jr(V)),w=new u(f,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=l0,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=f,w.state=o.memoizedState,w.refs={},ve(o),V=u.contextType,w.context=typeof V=="object"&&V!==null?jr(V):Yr,w.state=o.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(o0(o,u,V,f),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(V=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),V!==w.state&&l0.enqueueReplaceState(w,w.state,null),at(o,f,w,v),wt(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){w=o.stateNode;var Z=o.memoizedProps,pe=jc(u,Z);w.props=pe;var Oe=w.context,Ue=u.contextType;V=Yr,typeof Ue=="object"&&Ue!==null&&(V=jr(Ue));var Ge=u.getDerivedStateFromProps;Ue=typeof Ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",Z=o.pendingProps!==Z,Ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(Z||Oe!==V)&&yy(o,w,f,V),Me=!1;var ke=o.memoizedState;w.state=ke,at(o,f,w,v),wt(),Oe=o.memoizedState,Z||ke!==Oe||Me?(typeof Ge=="function"&&(o0(o,u,Ge,f),Oe=o.memoizedState),(pe=Me||vy(o,u,pe,f,ke,Oe,V))?(Ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Oe),w.props=f,w.state=Oe,w.context=V,f=pe):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,be(a,o),V=o.memoizedProps,Ue=jc(u,V),w.props=Ue,Ge=o.pendingProps,ke=w.context,Oe=u.contextType,pe=Yr,typeof Oe=="object"&&Oe!==null&&(pe=jr(Oe)),Z=u.getDerivedStateFromProps,(Oe=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V!==Ge||ke!==pe)&&yy(o,w,f,pe),Me=!1,ke=o.memoizedState,w.state=ke,at(o,f,w,v),wt();var je=o.memoizedState;V!==Ge||ke!==je||Me||a!==null&&a.dependencies!==null&&lh(a.dependencies)?(typeof Z=="function"&&(o0(o,u,Z,f),je=o.memoizedState),(Ue=Me||vy(o,u,Ue,f,ke,je,pe)||a!==null&&a.dependencies!==null&&lh(a.dependencies))?(Oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,je,pe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,je,pe)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||V===a.memoizedProps&&ke===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&ke===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=je),w.props=f,w.state=je,w.context=pe,f=Ue):(typeof w.componentDidUpdate!="function"||V===a.memoizedProps&&ke===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&ke===a.memoizedState||(o.flags|=1024),f=!1)}return w=f,Tp(a,o),f=(o.flags&128)!==0,w||f?(w=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&f?(o.child=vh(o,a.child,null,v),o.child=vh(o,null,u,v)):Li(a,o,u,v),o.memoizedState=w.state,a=o.child):a=kl(a,o,v),a}function Dy(a,o,u,f){return pa(),o.flags|=256,Li(a,o,u,f),o.child}var h0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function f0(a){return{baseLanes:a,cachePool:q()}}function d0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Rs),a}function Oy(a,o,u){var f=o.pendingProps,v=!1,w=(o.flags&128)!==0,V;if((V=w)||(V=a!==null&&a.memoizedState===null?!1:(li.current&2)!==0),V&&(v=!0,o.flags&=-129),V=(o.flags&32)!==0,o.flags&=-33,a===null){if(Sn){if(v?Eu(o):Nu(),Sn){var Z=cr,pe;if(pe=Z){e:{for(pe=Z,Z=As;pe.nodeType!==8;){if(!Z){Z=null;break e}if(pe=so(pe.nextSibling),pe===null){Z=null;break e}}Z=pe}Z!==null?(o.memoizedState={dehydrated:Z,treeContext:El!==null?{id:Qs,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},pe=bi(18,null,null,0),pe.stateNode=Z,pe.return=o,o.child=pe,kr=o,cr=null,pe=!0):pe=!1}pe||Cl(o)}if(Z=o.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Q0(Z)?o.lanes=32:o.lanes=536870912,null;Ol(o)}return Z=f.children,f=f.fallback,v?(Nu(),v=o.mode,Z=Ep({mode:"hidden",children:Z},v),f=Ys(f,v,u,null),Z.return=o,f.return=o,Z.sibling=f,o.child=Z,v=o.child,v.memoizedState=f0(u),v.childLanes=d0(a,V,u),o.memoizedState=h0,f):(Eu(o),p0(o,Z))}if(pe=a.memoizedState,pe!==null&&(Z=pe.dehydrated,Z!==null)){if(w)o.flags&256?(Eu(o),o.flags&=-257,o=m0(a,o,u)):o.memoizedState!==null?(Nu(),o.child=a.child,o.flags|=128,o=null):(Nu(),v=f.fallback,Z=o.mode,f=Ep({mode:"visible",children:f.children},Z),v=Ys(v,Z,u,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,vh(o,a.child,null,u),f=o.child,f.memoizedState=f0(u),f.childLanes=d0(a,V,u),o.memoizedState=h0,o=v);else if(Eu(o),Q0(Z)){if(V=Z.nextSibling&&Z.nextSibling.dataset,V)var Oe=V.dgst;V=Oe,f=Error(r(419)),f.stack="",f.digest=V,bu({value:f,source:null,stack:null}),o=m0(a,o,u)}else if(_i||_u(a,o,u,!1),V=(u&a.childLanes)!==0,_i||V){if(V=er,V!==null&&(f=u&-u,f=(f&42)!==0?1:Bi(f),f=(f&(V.suspendedLanes|u))!==0?0:f,f!==0&&f!==pe.retryLane))throw pe.retryLane=f,$s(a,f),rs(V,a,f),Ty;Z.data==="$?"||D0(),o=m0(a,o,u)}else Z.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=pe.treeContext,cr=so(Z.nextSibling),kr=o,Sn=!0,Vo=null,As=!1,a!==null&&(Ia[da++]=Qs,Ia[da++]=Xs,Ia[da++]=El,Qs=a.id,Xs=a.overflow,El=o),o=p0(o,f.children),o.flags|=4096);return o}return v?(Nu(),v=f.fallback,Z=o.mode,pe=a.child,Oe=pe.sibling,f=xs(pe,{mode:"hidden",children:f.children}),f.subtreeFlags=pe.subtreeFlags&65011712,Oe!==null?v=xs(Oe,v):(v=Ys(v,Z,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,Z=a.child.memoizedState,Z===null?Z=f0(u):(pe=Z.cachePool,pe!==null?(Oe=Mr._currentValue,pe=pe.parent!==Oe?{parent:Oe,pool:Oe}:pe):pe=q(),Z={baseLanes:Z.baseLanes|u,cachePool:pe}),v.memoizedState=Z,v.childLanes=d0(a,V,u),o.memoizedState=h0,f):(Eu(o),u=a.child,a=u.sibling,u=xs(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(V=o.deletions,V===null?(o.deletions=[a],o.flags|=16):V.push(a)),o.child=u,o.memoizedState=null,u)}function p0(a,o){return o=Ep({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Ep(a,o){return a=bi(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function m0(a,o,u){return vh(o,a.child,null,u),a=p0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function ky(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),sh(a.return,o,u)}function g0(a,o,u,f,v){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=v)}function jy(a,o,u){var f=o.pendingProps,v=f.revealOrder,w=f.tail;if(Li(a,o,f.children,u),f=li.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ky(a,u,o);else if(a.tag===19)ky(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(K(li,f),v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Sp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),g0(o,!1,v,u,w);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Sp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}g0(o,!0,u,null,w);break;case"together":g0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function kl(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Lu|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(_u(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=xs(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=xs(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function v0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&lh(a)))}function y3(a,o,u){switch(o.tag){case 3:Te(o,o.stateNode.containerInfo),Bo(o,Mr,a.memoizedState.cache),pa();break;case 27:case 5:Je(o);break;case 4:Te(o,o.stateNode.containerInfo);break;case 10:Bo(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Eu(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Oy(a,o,u):(Eu(o),a=kl(a,o,u),a!==null?a.sibling:null);Eu(o);break;case 19:var v=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(_u(a,o,u,!1),f=(u&o.childLanes)!==0),v){if(f)return jy(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(li,li.current),f)break;return null;case 22:case 23:return o.lanes=0,Iy(a,o,u);case 24:Bo(o,Mr,a.memoizedState.cache)}return kl(a,o,u)}function My(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)_i=!0;else{if(!v0(a,u)&&(o.flags&128)===0)return _i=!1,y3(a,o,u);_i=(a.flags&131072)!==0}else _i=!1,Sn&&(o.flags&1048576)!==0&&np(o,ah,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var f=o.elementType,v=f._init;if(f=v(f._payload),o.type=f,typeof f=="function")vu(f)?(a=jc(f,a),o.tag=1,o=Ly(null,o,f,a,u)):(o.tag=0,o=c0(null,o,f,a,u));else{if(f!=null){if(v=f.$$typeof,v===ae){o.tag=11,o=Ey(null,o,f,a,u);break e}else if(v===U){o.tag=14,o=Ny(null,o,f,a,u);break e}}throw o=se(f)||f,Error(r(306,o,""))}}return o;case 0:return c0(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,v=jc(f,o.pendingProps),Ly(a,o,f,v,u);case 3:e:{if(Te(o,o.stateNode.containerInfo),a===null)throw Error(r(387));f=o.pendingProps;var w=o.memoizedState;v=w.element,be(a,o),at(o,f,null,u);var V=o.memoizedState;if(f=V.cache,Bo(o,Mr,f),f!==w.cache&&oh(o,[Mr],u,!0),wt(),f=V.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:V.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Dy(a,o,f,u);break e}else if(f!==v){v=tn(Error(r(424)),o),bu(v),o=Dy(a,o,f,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(cr=so(a.firstChild),kr=o,Sn=!0,Vo=null,As=!0,u=my(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(pa(),f===v){o=kl(a,o,u);break e}Li(a,o,f,u)}o=o.child}return o;case 26:return Tp(a,o),a===null?(u=Ub(o.type,null,o.pendingProps,null))?o.memoizedState=u:Sn||(u=o.type,a=o.pendingProps,f=Bp(fe.current).createElement(u),f[Pn]=o,f[Ln]=a,Oi(f,u,a),xn(f),o.stateNode=f):o.memoizedState=Ub(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Je(o),a===null&&Sn&&(f=o.stateNode=Fb(o.type,o.pendingProps,fe.current),kr=o,As=!0,v=cr,ju(o.type)?(X0=v,cr=so(f.firstChild)):cr=v),Li(a,o,o.pendingProps.children,u),Tp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Sn&&((v=f=cr)&&(f=G3(f,o.type,o.pendingProps,As),f!==null?(o.stateNode=f,kr=o,cr=so(f.firstChild),As=!1,v=!0):v=!1),v||Cl(o)),Je(o),v=o.type,w=o.pendingProps,V=a!==null?a.memoizedProps:null,f=w.children,$0(v,w)?f=null:V!==null&&$0(v,V)&&(o.flags|=32),o.memoizedState!==null&&(v=Xa(a,o,zo,null,null,u),Zf._currentValue=v),Tp(a,o),Li(a,o,f,u),o.child;case 6:return a===null&&Sn&&((a=u=cr)&&(u=$3(u,o.pendingProps,As),u!==null?(o.stateNode=u,kr=o,cr=null,a=!0):a=!1),a||Cl(o)),null;case 13:return Oy(a,o,u);case 4:return Te(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=vh(o,null,f,u):Li(a,o,f,u),o.child;case 11:return Ey(a,o,o.type,o.pendingProps,u);case 7:return Li(a,o,o.pendingProps,u),o.child;case 8:return Li(a,o,o.pendingProps.children,u),o.child;case 12:return Li(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Bo(o,o.type,f.value),Li(a,o,f.children,u),o.child;case 9:return v=o.type._context,f=o.pendingProps.children,Ns(o),v=jr(v),f=f(v),o.flags|=1,Li(a,o,f,u),o.child;case 14:return Ny(a,o,o.type,o.pendingProps,u);case 15:return Cy(a,o,o.type,o.pendingProps,u);case 19:return jy(a,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},a===null?(u=Ep(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=xs(a.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Iy(a,o,u);case 24:return Ns(o),f=jr(Mr),a===null?(v=T(),v===null&&(v=er,w=Sf(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),o.memoizedState={parent:f,cache:v},ve(o),Bo(o,Mr,v)):((a.lanes&u)!==0&&(be(a,o),at(o,null,null,u),wt()),v=a.memoizedState,w=o.memoizedState,v.parent!==f?(v={parent:f,cache:f},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Bo(o,Mr,f)):(f=w.cache,Bo(o,Mr,f),f!==v.cache&&oh(o,[Mr],u,!0))),Li(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function jl(a){a.flags|=4}function Fy(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Gb(o)){if(o=Is.current,o!==null&&((yn&4194048)===yn?Go!==null:(yn&62914560)!==yn&&(yn&536870912)===0||o!==Go))throw Ie=ee,Y;a.flags|=8192}}function Np(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?qn():536870912,a.lanes|=o,wh|=o)}function Ff(a,o){if(!Sn)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function yr(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function b3(a,o,u){var f=o.pendingProps;switch(xc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(o),null;case 1:return yr(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Es(Mr),Le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ri(o)?jl(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ip())),yr(o),null;case 26:return u=o.memoizedState,a===null?(jl(o),u!==null?(yr(o),Fy(o,u)):(yr(o),o.flags&=-16777217)):u?u!==a.memoizedState?(jl(o),yr(o),Fy(o,u)):(yr(o),o.flags&=-16777217):(a.memoizedProps!==f&&jl(o),yr(o),o.flags&=-16777217),null;case 27:Qe(o),u=fe.current;var v=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&jl(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return yr(o),null}a=te.current,Ri(o)?rp(o):(a=Fb(v,f,u),o.stateNode=a,jl(o))}return yr(o),null;case 5:if(Qe(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&jl(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return yr(o),null}if(a=te.current,Ri(o))rp(o);else{switch(v=Bp(fe.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}a[Pn]=o,a[Ln]=f;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=a;e:switch(Oi(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&jl(o)}}return yr(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&jl(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(a=fe.current,Ri(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,v=kr,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}a[Pn]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Pb(a.nodeValue,u)),a||Cl(o)}else a=Bp(a).createTextNode(f),a[Pn]=o,o.stateNode=a}return yr(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Ri(o),f!==null&&f.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Pn]=o}else pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yr(o),v=!1}else v=ip(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Ol(o),o):(Ol(o),null)}if(Ol(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=o.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==v&&(f.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Np(o,o.updateQueue),yr(o),null;case 4:return Le(),a===null&&q0(o.stateNode.containerInfo),yr(o),null;case 10:return Es(o.type),yr(o),null;case 19:if(M(li),v=o.memoizedState,v===null)return yr(o),null;if(f=(o.flags&128)!==0,w=v.rendering,w===null)if(f)Ff(v,!1);else{if(Nr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Sp(a),w!==null){for(o.flags|=128,Ff(v,!1),a=w.updateQueue,o.updateQueue=a,Np(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)_c(u,a),u=u.sibling;return K(li,li.current&1|2),o.child}a=a.sibling}v.tail!==null&&xt()>Rp&&(o.flags|=128,f=!0,Ff(v,!1),o.lanes=4194304)}else{if(!f)if(a=Sp(w),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,Np(o,a),Ff(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Sn)return yr(o),null}else 2*xt()-v.renderingStartTime>Rp&&u!==536870912&&(o.flags|=128,f=!0,Ff(v,!1),o.lanes=4194304);v.isBackwards?(w.sibling=o.child,o.child=w):(a=v.last,a!==null?a.sibling=w:o.child=w,v.last=w)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=xt(),o.sibling=null,a=li.current,K(li,f?a&1|2:a&1),o):(yr(o),null);case 22:case 23:return Ol(o),Wt(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(yr(o),o.subtreeFlags&6&&(o.flags|=8192)):yr(o),u=o.updateQueue,u!==null&&Np(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&M(y),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Es(Mr),yr(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function _3(a,o){switch(xc(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Es(Mr),Le(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Qe(o),null;case 13:if(Ol(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));pa()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return M(li),null;case 4:return Le(),null;case 10:return Es(o.type),null;case 22:case 23:return Ol(o),Wt(),a!==null&&M(y),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Es(Mr),null;case 25:return null;default:return null}}function Vy(a,o){switch(xc(o),o.tag){case 3:Es(Mr),Le();break;case 26:case 27:case 5:Qe(o);break;case 4:Le();break;case 13:Ol(o);break;case 19:M(li);break;case 10:Es(o.type);break;case 22:case 23:Ol(o),Wt(),a!==null&&M(y);break;case 24:Es(Mr)}}function Vf(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&a)===a){f=void 0;var w=u.create,V=u.inst;f=w(),V.destroy=f}u=u.next}while(u!==v)}}catch(Z){Qn(o,o.return,Z)}}function Cu(a,o,u){try{var f=o.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var w=v.next;f=w;do{if((f.tag&a)===a){var V=f.inst,Z=V.destroy;if(Z!==void 0){V.destroy=void 0,v=o;var pe=u,Oe=Z;try{Oe()}catch(Ue){Qn(v,pe,Ue)}}}f=f.next}while(f!==w)}}catch(Ue){Qn(o,o.return,Ue)}}function By(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{En(o,u)}catch(f){Qn(a,a.return,f)}}}function Uy(a,o,u){u.props=jc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){Qn(a,o,f)}}function Bf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(v){Qn(a,o,v)}}function $o(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){Qn(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Qn(a,o,v)}else u.current=null}function qy(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){Qn(a,a.return,v)}}function y0(a,o,u){try{var f=a.stateNode;U3(f,a.type,u,o),f[Ln]=o}catch(v){Qn(a,a.return,v)}}function zy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ju(a.type)||a.tag===4}function b0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||zy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ju(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _0(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Vp));else if(f!==4&&(f===27&&ju(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(_0(a,o,u),a=a.sibling;a!==null;)_0(a,o,u),a=a.sibling}function Cp(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(f===27&&ju(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Cp(a,o,u),a=a.sibling;a!==null;)Cp(a,o,u),a=a.sibling}function Hy(a){var o=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Oi(o,f,u),o[Pn]=a,o[Ln]=u}catch(w){Qn(a,a.return,w)}}var Ml=!1,Vr=!1,w0=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,wi=null;function w3(a,o){if(a=a.containerInfo,W0=Gp,a=Ii(a),oi(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var V=0,Z=-1,pe=-1,Oe=0,Ue=0,Ge=a,ke=null;t:for(;;){for(var je;Ge!==u||v!==0&&Ge.nodeType!==3||(Z=V+v),Ge!==w||f!==0&&Ge.nodeType!==3||(pe=V+f),Ge.nodeType===3&&(V+=Ge.nodeValue.length),(je=Ge.firstChild)!==null;)ke=Ge,Ge=je;for(;;){if(Ge===a)break t;if(ke===u&&++Oe===v&&(Z=V),ke===w&&++Ue===f&&(pe=V),(je=Ge.nextSibling)!==null)break;Ge=ke,ke=Ge.parentNode}Ge=je}u=Z===-1||pe===-1?null:{start:Z,end:pe}}else u=null}u=u||{start:0,end:0}}else u=null;for(G0={focusedElem:a,selectionRange:u},Gp=!1,wi=o;wi!==null;)if(o=wi,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,wi=a;else for(;wi!==null;){switch(o=wi,w=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=o,v=w.memoizedProps,w=w.memoizedState,f=u.stateNode;try{var qt=jc(u.type,v,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(qt,w),f.__reactInternalSnapshotBeforeUpdate=a}catch(Dt){Qn(u,u.return,Dt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)K0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":K0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,wi=a;break}wi=o.return}}function Gy(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Iu(a,u),f&4&&Vf(5,u);break;case 1:if(Iu(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(V){Qn(u,u.return,V)}else{var v=jc(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(V){Qn(u,u.return,V)}}f&64&&By(u),f&512&&Bf(u,u.return);break;case 3:if(Iu(a,u),f&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{En(a,o)}catch(V){Qn(u,u.return,V)}}break;case 27:o===null&&f&4&&Hy(u);case 26:case 5:Iu(a,u),o===null&&f&4&&qy(u),f&512&&Bf(u,u.return);break;case 12:Iu(a,u);break;case 13:Iu(a,u),f&4&&Ky(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=R3.bind(null,u),Y3(a,u))));break;case 22:if(f=u.memoizedState!==null||Ml,!f){o=o!==null&&o.memoizedState!==null||Vr,v=Ml;var w=Vr;Ml=f,(Vr=o)&&!w?Ru(a,u,(u.subtreeFlags&8772)!==0):Iu(a,u),Ml=v,Vr=w}break;case 30:break;default:Iu(a,u)}}function $y(a){var o=a.alternate;o!==null&&(a.alternate=null,$y(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Wr(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var hr=null,Pa=!1;function Fl(a,o,u){for(u=u.child;u!==null;)Yy(a,o,u),u=u.sibling}function Yy(a,o,u){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(bt,u)}catch{}switch(u.tag){case 26:Vr||$o(u,o),Fl(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Vr||$o(u,o);var f=hr,v=Pa;ju(u.type)&&(hr=u.stateNode,Pa=!1),Fl(a,o,u),Kf(u.stateNode),hr=f,Pa=v;break;case 5:Vr||$o(u,o);case 6:if(f=hr,v=Pa,hr=null,Fl(a,o,u),hr=f,Pa=v,hr!==null)if(Pa)try{(hr.nodeType===9?hr.body:hr.nodeName==="HTML"?hr.ownerDocument.body:hr).removeChild(u.stateNode)}catch(w){Qn(u,o,w)}else try{hr.removeChild(u.stateNode)}catch(w){Qn(u,o,w)}break;case 18:hr!==null&&(Pa?(a=hr,jb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),rd(a)):jb(hr,u.stateNode));break;case 4:f=hr,v=Pa,hr=u.stateNode.containerInfo,Pa=!0,Fl(a,o,u),hr=f,Pa=v;break;case 0:case 11:case 14:case 15:Vr||Cu(2,u,o),Vr||Cu(4,u,o),Fl(a,o,u);break;case 1:Vr||($o(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Uy(u,o,f)),Fl(a,o,u);break;case 21:Fl(a,o,u);break;case 22:Vr=(f=Vr)||u.memoizedState!==null,Fl(a,o,u),Vr=f;break;default:Fl(a,o,u)}}function Ky(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{rd(a)}catch(u){Qn(o,o.return,u)}}function S3(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Wy),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Wy),o;default:throw Error(r(435,a.tag))}}function S0(a,o){var u=S3(a);o.forEach(function(f){var v=P3.bind(null,a,f);u.has(f)||(u.add(f),f.then(v,v))})}function Za(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],w=a,V=o,Z=V;e:for(;Z!==null;){switch(Z.tag){case 27:if(ju(Z.type)){hr=Z.stateNode,Pa=!1;break e}break;case 5:hr=Z.stateNode,Pa=!1;break e;case 3:case 4:hr=Z.stateNode.containerInfo,Pa=!0;break e}Z=Z.return}if(hr===null)throw Error(r(160));Yy(w,V,v),hr=null,Pa=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Qy(o,a),o=o.sibling}var ao=null;function Qy(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Za(o,a),es(a),f&4&&(Cu(3,a,a.return),Vf(3,a),Cu(5,a,a.return));break;case 1:Za(o,a),es(a),f&512&&(Vr||u===null||$o(u,u.return)),f&64&&Ml&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=ao;if(Za(o,a),es(a),f&512&&(Vr||u===null||$o(u,u.return)),f&4){var w=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Ni]||w[Pn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(f),v.head.insertBefore(w,v.querySelector("head > title"))),Oi(w,f,u),w[Pn]=a,xn(w),f=w;break e;case"link":var V=Hb("link","href",v).get(f+(u.href||""));if(V){for(var Z=0;Z<V.length;Z++)if(w=V[Z],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice(Z,1);break t}}w=v.createElement(f),Oi(w,f,u),v.head.appendChild(w);break;case"meta":if(V=Hb("meta","content",v).get(f+(u.content||""))){for(Z=0;Z<V.length;Z++)if(w=V[Z],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice(Z,1);break t}}w=v.createElement(f),Oi(w,f,u),v.head.appendChild(w);break;default:throw Error(r(468,f))}w[Pn]=a,xn(w),f=w}a.stateNode=f}else Wb(v,a.type,a.stateNode);else a.stateNode=zb(v,f,a.memoizedProps);else w!==f?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,f===null?Wb(v,a.type,a.stateNode):zb(v,f,a.memoizedProps)):f===null&&a.stateNode!==null&&y0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Za(o,a),es(a),f&512&&(Vr||u===null||$o(u,u.return)),u!==null&&f&4&&y0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Za(o,a),es(a),f&512&&(Vr||u===null||$o(u,u.return)),a.flags&32){v=a.stateNode;try{qi(v,"")}catch(je){Qn(a,a.return,je)}}f&4&&a.stateNode!=null&&(v=a.memoizedProps,y0(a,v,u!==null?u.memoizedProps:v)),f&1024&&(w0=!0);break;case 6:if(Za(o,a),es(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(je){Qn(a,a.return,je)}}break;case 3:if(zp=null,v=ao,ao=Up(o.containerInfo),Za(o,a),ao=v,es(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{rd(o.containerInfo)}catch(je){Qn(a,a.return,je)}w0&&(w0=!1,Xy(a));break;case 4:f=ao,ao=Up(a.stateNode.containerInfo),Za(o,a),es(a),ao=f;break;case 12:Za(o,a),es(a);break;case 13:Za(o,a),es(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(C0=xt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,S0(a,f)));break;case 22:v=a.memoizedState!==null;var pe=u!==null&&u.memoizedState!==null,Oe=Ml,Ue=Vr;if(Ml=Oe||v,Vr=Ue||pe,Za(o,a),Vr=Ue,Ml=Oe,es(a),f&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||pe||Ml||Vr||Mc(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){pe=u=o;try{if(w=pe.stateNode,v)V=w.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Z=pe.stateNode;var Ge=pe.memoizedProps.style,ke=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;Z.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(je){Qn(pe,pe.return,je)}}}else if(o.tag===6){if(u===null){pe=o;try{pe.stateNode.nodeValue=v?"":pe.memoizedProps}catch(je){Qn(pe,pe.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,S0(a,u))));break;case 19:Za(o,a),es(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,S0(a,f)));break;case 30:break;case 21:break;default:Za(o,a),es(a)}}function es(a){var o=a.flags;if(o&2){try{for(var u,f=a.return;f!==null;){if(zy(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,w=b0(a);Cp(a,w,v);break;case 5:var V=u.stateNode;u.flags&32&&(qi(V,""),u.flags&=-33);var Z=b0(a);Cp(a,Z,V);break;case 3:case 4:var pe=u.stateNode.containerInfo,Oe=b0(a);_0(a,Oe,pe);break;default:throw Error(r(161))}}catch(Ue){Qn(a,a.return,Ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Xy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Xy(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Iu(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Gy(a,o.alternate,o),o=o.sibling}function Mc(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Cu(4,o,o.return),Mc(o);break;case 1:$o(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Uy(o,o.return,u),Mc(o);break;case 27:Kf(o.stateNode);case 26:case 5:$o(o,o.return),Mc(o);break;case 22:o.memoizedState===null&&Mc(o);break;case 30:Mc(o);break;default:Mc(o)}a=a.sibling}}function Ru(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,v=a,w=o,V=w.flags;switch(w.tag){case 0:case 11:case 15:Ru(v,w,u),Vf(4,w);break;case 1:if(Ru(v,w,u),f=w,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Oe){Qn(f,f.return,Oe)}if(f=w,v=f.updateQueue,v!==null){var Z=f.stateNode;try{var pe=v.shared.hiddenCallbacks;if(pe!==null)for(v.shared.hiddenCallbacks=null,v=0;v<pe.length;v++)gn(pe[v],Z)}catch(Oe){Qn(f,f.return,Oe)}}u&&V&64&&By(w),Bf(w,w.return);break;case 27:Hy(w);case 26:case 5:Ru(v,w,u),u&&f===null&&V&4&&qy(w),Bf(w,w.return);break;case 12:Ru(v,w,u);break;case 13:Ru(v,w,u),u&&V&4&&Ky(v,w);break;case 22:w.memoizedState===null&&Ru(v,w,u),Bf(w,w.return);break;case 30:break;default:Ru(v,w,u)}o=o.sibling}}function x0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Ac(u))}function A0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ac(a))}function Yo(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Jy(a,o,u,f),o=o.sibling}function Jy(a,o,u,f){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Yo(a,o,u,f),v&2048&&Vf(9,o);break;case 1:Yo(a,o,u,f);break;case 3:Yo(a,o,u,f),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ac(a)));break;case 12:if(v&2048){Yo(a,o,u,f),a=o.stateNode;try{var w=o.memoizedProps,V=w.id,Z=w.onPostCommit;typeof Z=="function"&&Z(V,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(pe){Qn(o,o.return,pe)}}else Yo(a,o,u,f);break;case 13:Yo(a,o,u,f);break;case 23:break;case 22:w=o.stateNode,V=o.alternate,o.memoizedState!==null?w._visibility&2?Yo(a,o,u,f):Uf(a,o):w._visibility&2?Yo(a,o,u,f):(w._visibility|=2,yh(a,o,u,f,(o.subtreeFlags&10256)!==0)),v&2048&&x0(V,o);break;case 24:Yo(a,o,u,f),v&2048&&A0(o.alternate,o);break;default:Yo(a,o,u,f)}}function yh(a,o,u,f,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=a,V=o,Z=u,pe=f,Oe=V.flags;switch(V.tag){case 0:case 11:case 15:yh(w,V,Z,pe,v),Vf(8,V);break;case 23:break;case 22:var Ue=V.stateNode;V.memoizedState!==null?Ue._visibility&2?yh(w,V,Z,pe,v):Uf(w,V):(Ue._visibility|=2,yh(w,V,Z,pe,v)),v&&Oe&2048&&x0(V.alternate,V);break;case 24:yh(w,V,Z,pe,v),v&&Oe&2048&&A0(V.alternate,V);break;default:yh(w,V,Z,pe,v)}o=o.sibling}}function Uf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,v=f.flags;switch(f.tag){case 22:Uf(u,f),v&2048&&x0(f.alternate,f);break;case 24:Uf(u,f),v&2048&&A0(f.alternate,f);break;default:Uf(u,f)}o=o.sibling}}var qf=8192;function bh(a){if(a.subtreeFlags&qf)for(a=a.child;a!==null;)Zy(a),a=a.sibling}function Zy(a){switch(a.tag){case 26:bh(a),a.flags&qf&&a.memoizedState!==null&&oT(ao,a.memoizedState,a.memoizedProps);break;case 5:bh(a);break;case 3:case 4:var o=ao;ao=Up(a.stateNode.containerInfo),bh(a),ao=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=qf,qf=16777216,bh(a),qf=o):bh(a));break;default:bh(a)}}function eb(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function zf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];wi=f,nb(f,a)}eb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)tb(a),a=a.sibling}function tb(a){switch(a.tag){case 0:case 11:case 15:zf(a),a.flags&2048&&Cu(9,a,a.return);break;case 3:zf(a);break;case 12:zf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Ip(a)):zf(a);break;default:zf(a)}}function Ip(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];wi=f,nb(f,a)}eb(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Cu(8,o,o.return),Ip(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Ip(o));break;default:Ip(o)}a=a.sibling}}function nb(a,o){for(;wi!==null;){var u=wi;switch(u.tag){case 0:case 11:case 15:Cu(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ac(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,wi=f;else e:for(u=a;wi!==null;){f=wi;var v=f.sibling,w=f.return;if($y(f),f===u){wi=null;break e}if(v!==null){v.return=w,wi=v;break e}wi=w}}}var x3={getCacheForType:function(a){var o=jr(Mr),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},A3=typeof WeakMap=="function"?WeakMap:Map,Bn=0,er=null,ln=null,yn=0,Un=0,ts=null,Pu=!1,_h=!1,T0=!1,Vl=0,Nr=0,Lu=0,Fc=0,E0=0,Rs=0,wh=0,Hf=null,La=null,N0=!1,C0=0,Rp=1/0,Pp=null,Du=null,Di=0,Ou=null,Sh=null,xh=0,I0=0,R0=null,rb=null,Wf=0,P0=null;function ns(){if((Bn&2)!==0&&yn!==0)return yn&-yn;if(re.T!==null){var a=Il;return a!==0?a:F0()}return ri()}function ib(){Rs===0&&(Rs=(yn&536870912)===0||Sn?ja():536870912);var a=Is.current;return a!==null&&(a.flags|=32),Rs}function rs(a,o,u){(a===er&&(Un===2||Un===9)||a.cancelPendingCommit!==null)&&(Ah(a,0),ku(a,yn,Rs,!1)),ni(a,u),((Bn&2)===0||a!==er)&&(a===er&&((Bn&2)===0&&(Fc|=u),Nr===4&&ku(a,yn,Rs,!1)),Ko(a))}function ab(a,o,u){if((Bn&6)!==0)throw Error(r(327));var f=!u&&(o&124)===0&&(o&a.expiredLanes)===0||di(a,o),v=f?N3(a,o):O0(a,o,!0),w=f;do{if(v===0){_h&&!f&&ku(a,o,0,!1);break}else{if(u=a.current.alternate,w&&!T3(u)){v=O0(a,o,!1),w=!1;continue}if(v===2){if(w=o,a.errorRecoveryDisabledLanes&w)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){o=V;e:{var Z=a;v=Hf;var pe=Z.current.memoizedState.isDehydrated;if(pe&&(Ah(Z,V).flags|=256),V=O0(Z,V,!1),V!==2){if(T0&&!pe){Z.errorRecoveryDisabledLanes|=w,Fc|=w,v=4;break e}w=La,La=v,w!==null&&(La===null?La=w:La.push.apply(La,w))}v=V}if(w=!1,v!==2)continue}}if(v===1){Ah(a,0),ku(a,o,0,!0);break}e:{switch(f=a,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ku(f,o,Rs,!Pu);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=C0+300-xt(),10<v)){if(ku(f,o,Rs,!Pu),Rn(f,0,!0)!==0)break e;f.timeoutHandle=Ob(sb.bind(null,f,u,La,Pp,N0,o,Rs,Fc,wh,Pu,w,2,-0,0),v);break e}sb(f,u,La,Pp,N0,o,Rs,Fc,wh,Pu,w,0,-0,0)}}break}while(!0);Ko(a)}function sb(a,o,u,f,v,w,V,Z,pe,Oe,Ue,Ge,ke,je){if(a.timeoutHandle=-1,Ge=o.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(Jf={stylesheets:null,count:0,unsuspend:sT},Zy(o),Ge=lT(),Ge!==null)){a.cancelPendingCommit=Ge(db.bind(null,a,o,w,u,f,v,V,Z,pe,Ue,1,ke,je)),ku(a,w,V,!Oe);return}db(a,o,w,u,f,v,V,Z,pe)}function T3(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],w=v.getSnapshot;v=v.value;try{if(!$r(w(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ku(a,o,u,f){o&=~E0,o&=~Fc,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var v=o;0<v;){var w=31-dt(v),V=1<<w;f[w]=-1,v&=~V}u!==0&&At(a,u,o)}function Lp(){return(Bn&6)===0?(Gf(0),!1):!0}function L0(){if(ln!==null){if(Un===0)var a=ln.return;else a=ln,Zs=Kr=null,ch(a),gh=null,jf=0,a=ln;for(;a!==null;)Vy(a.alternate,a),a=a.return;ln=null}}function Ah(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,z3(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),L0(),er=a,ln=u=xs(a.current,null),yn=o,Un=0,ts=null,Pu=!1,_h=di(a,o),T0=!1,wh=Rs=E0=Fc=Lu=Nr=0,La=Hf=null,N0=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var v=31-dt(f),w=1<<v;o|=a[v],f&=~w}return Vl=o,Na(),u}function ob(a,o){Et=null,re.H=bp,o===G||o===X?(o=Ee(),Un=3):o===Y?(o=Ee(),Un=4):Un=o===Ty?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ts=o,ln===null&&(Nr=1,Ap(a,tn(o,a.current)))}function lb(){var a=re.H;return re.H=bp,a===null?bp:a}function ub(){var a=re.A;return re.A=x3,a}function D0(){Nr=4,Pu||(yn&4194048)!==yn&&Is.current!==null||(_h=!0),(Lu&134217727)===0&&(Fc&134217727)===0||er===null||ku(er,yn,Rs,!1)}function O0(a,o,u){var f=Bn;Bn|=2;var v=lb(),w=ub();(er!==a||yn!==o)&&(Pp=null,Ah(a,o)),o=!1;var V=Nr;e:do try{if(Un!==0&&ln!==null){var Z=ln,pe=ts;switch(Un){case 8:L0(),V=6;break e;case 3:case 2:case 9:case 6:Is.current===null&&(o=!0);var Oe=Un;if(Un=0,ts=null,Th(a,Z,pe,Oe),u&&_h){V=0;break e}break;default:Oe=Un,Un=0,ts=null,Th(a,Z,pe,Oe)}}E3(),V=Nr;break}catch(Ue){ob(a,Ue)}while(!0);return o&&a.shellSuspendCounter++,Zs=Kr=null,Bn=f,re.H=v,re.A=w,ln===null&&(er=null,yn=0,Na()),V}function E3(){for(;ln!==null;)cb(ln)}function N3(a,o){var u=Bn;Bn|=2;var f=lb(),v=ub();er!==a||yn!==o?(Pp=null,Rp=xt()+500,Ah(a,o)):_h=di(a,o);e:do try{if(Un!==0&&ln!==null){o=ln;var w=ts;t:switch(Un){case 1:Un=0,ts=null,Th(a,o,w,1);break;case 2:case 9:if(ie(w)){Un=0,ts=null,hb(o);break}o=function(){Un!==2&&Un!==9||er!==a||(Un=7),Ko(a)},w.then(o,o);break e;case 3:Un=7;break e;case 4:Un=5;break e;case 7:ie(w)?(Un=0,ts=null,hb(o)):(Un=0,ts=null,Th(a,o,w,7));break;case 5:var V=null;switch(ln.tag){case 26:V=ln.memoizedState;case 5:case 27:var Z=ln;if(!V||Gb(V)){Un=0,ts=null;var pe=Z.sibling;if(pe!==null)ln=pe;else{var Oe=Z.return;Oe!==null?(ln=Oe,Dp(Oe)):ln=null}break t}}Un=0,ts=null,Th(a,o,w,5);break;case 6:Un=0,ts=null,Th(a,o,w,6);break;case 8:L0(),Nr=6;break e;default:throw Error(r(462))}}C3();break}catch(Ue){ob(a,Ue)}while(!0);return Zs=Kr=null,re.H=f,re.A=v,Bn=u,ln!==null?0:(er=null,yn=0,Na(),Nr)}function C3(){for(;ln!==null&&!Fe();)cb(ln)}function cb(a){var o=My(a.alternate,a,Vl);a.memoizedProps=a.pendingProps,o===null?Dp(a):ln=o}function hb(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Py(u,o,o.pendingProps,o.type,void 0,yn);break;case 11:o=Py(u,o,o.pendingProps,o.type.render,o.ref,yn);break;case 5:ch(o);default:Vy(u,o),o=ln=_c(o,Vl),o=My(u,o,Vl)}a.memoizedProps=a.pendingProps,o===null?Dp(a):ln=o}function Th(a,o,u,f){Zs=Kr=null,ch(o),gh=null,jf=0;var v=o.return;try{if(v3(a,v,o,u,yn)){Nr=1,Ap(a,tn(u,a.current)),ln=null;return}}catch(w){if(v!==null)throw ln=v,w;Nr=1,Ap(a,tn(u,a.current)),ln=null;return}o.flags&32768?(Sn||f===1?a=!0:_h||(yn&536870912)!==0?a=!1:(Pu=a=!0,(f===2||f===9||f===3||f===6)&&(f=Is.current,f!==null&&f.tag===13&&(f.flags|=16384))),fb(o,a)):Dp(o)}function Dp(a){var o=a;do{if((o.flags&32768)!==0){fb(o,Pu);return}a=o.return;var u=b3(o.alternate,o,Vl);if(u!==null){ln=u;return}if(o=o.sibling,o!==null){ln=o;return}ln=o=a}while(o!==null);Nr===0&&(Nr=5)}function fb(a,o){do{var u=_3(a.alternate,a);if(u!==null){u.flags&=32767,ln=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ln=a;return}ln=a=u}while(a!==null);Nr=6,ln=null}function db(a,o,u,f,v,w,V,Z,pe){a.cancelPendingCommit=null;do Op();while(Di!==0);if((Bn&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=mr,zn(a,u,w,V,Z,pe),a===er&&(ln=er=null,yn=0),Sh=o,Ou=a,xh=u,I0=w,R0=v,rb=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,L3(st,function(){return yb(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=re.T,re.T=null,v=le.p,le.p=2,V=Bn,Bn|=4;try{w3(a,o,u)}finally{Bn=V,le.p=v,re.T=f}}Di=1,pb(),mb(),gb()}}function pb(){if(Di===1){Di=0;var a=Ou,o=Sh,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=re.T,re.T=null;var f=le.p;le.p=2;var v=Bn;Bn|=4;try{Qy(o,a);var w=G0,V=Ii(a.containerInfo),Z=w.focusedElem,pe=w.selectionRange;if(V!==Z&&Z&&Z.ownerDocument&&Ro(Z.ownerDocument.documentElement,Z)){if(pe!==null&&oi(Z)){var Oe=pe.start,Ue=pe.end;if(Ue===void 0&&(Ue=Oe),"selectionStart"in Z)Z.selectionStart=Oe,Z.selectionEnd=Math.min(Ue,Z.value.length);else{var Ge=Z.ownerDocument||document,ke=Ge&&Ge.defaultView||window;if(ke.getSelection){var je=ke.getSelection(),qt=Z.textContent.length,Dt=Math.min(pe.start,qt),Yn=pe.end===void 0?Dt:Math.min(pe.end,qt);!je.extend&&Dt>Yn&&(V=Yn,Yn=Dt,Dt=V);var Ce=Ws(Z,Dt),ye=Ws(Z,Yn);if(Ce&&ye&&(je.rangeCount!==1||je.anchorNode!==Ce.node||je.anchorOffset!==Ce.offset||je.focusNode!==ye.node||je.focusOffset!==ye.offset)){var Re=Ge.createRange();Re.setStart(Ce.node,Ce.offset),je.removeAllRanges(),Dt>Yn?(je.addRange(Re),je.extend(ye.node,ye.offset)):(Re.setEnd(ye.node,ye.offset),je.addRange(Re))}}}}for(Ge=[],je=Z;je=je.parentNode;)je.nodeType===1&&Ge.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Ge.length;Z++){var ze=Ge[Z];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Gp=!!W0,G0=W0=null}finally{Bn=v,le.p=f,re.T=u}}a.current=o,Di=2}}function mb(){if(Di===2){Di=0;var a=Ou,o=Sh,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=re.T,re.T=null;var f=le.p;le.p=2;var v=Bn;Bn|=4;try{Gy(a,o.alternate,o)}finally{Bn=v,le.p=f,re.T=u}}Di=3}}function gb(){if(Di===4||Di===3){Di=0,de();var a=Ou,o=Sh,u=xh,f=rb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Di=5:(Di=0,Sh=Ou=null,vb(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Du=null),sr(u),o=o.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(bt,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=re.T,v=le.p,le.p=2,re.T=null;try{for(var w=a.onRecoverableError,V=0;V<f.length;V++){var Z=f[V];w(Z.value,{componentStack:Z.stack})}}finally{re.T=o,le.p=v}}(xh&3)!==0&&Op(),Ko(a),v=a.pendingLanes,(u&4194090)!==0&&(v&42)!==0?a===P0?Wf++:(Wf=0,P0=a):Wf=0,Gf(0)}}function vb(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ac(o)))}function Op(a){return pb(),mb(),gb(),yb()}function yb(){if(Di!==5)return!1;var a=Ou,o=I0;I0=0;var u=sr(xh),f=re.T,v=le.p;try{le.p=32>u?32:u,re.T=null,u=R0,R0=null;var w=Ou,V=xh;if(Di=0,Sh=Ou=null,xh=0,(Bn&6)!==0)throw Error(r(331));var Z=Bn;if(Bn|=4,tb(w.current),Jy(w,w.current,V,u),Bn=Z,Gf(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(bt,w)}catch{}return!0}finally{le.p=v,re.T=f,vb(a,o)}}function bb(a,o,u){o=tn(u,o),o=u0(a.stateNode,o,2),a=We(a,o,2),a!==null&&(ni(a,2),Ko(a))}function Qn(a,o,u){if(a.tag===3)bb(a,a,u);else for(;o!==null;){if(o.tag===3){bb(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Du===null||!Du.has(f))){a=tn(u,a),u=xy(2),f=We(o,u,2),f!==null&&(Ay(u,f,o,a),ni(f,2),Ko(f));break}}o=o.return}}function k0(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new A3;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(u)||(T0=!0,v.add(u),a=I3.bind(null,a,o,u),o.then(a,a))}function I3(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,er===a&&(yn&u)===u&&(Nr===4||Nr===3&&(yn&62914560)===yn&&300>xt()-C0?(Bn&2)===0&&Ah(a,0):E0|=u,wh===yn&&(wh=0)),Ko(a)}function _b(a,o){o===0&&(o=qn()),a=$s(a,o),a!==null&&(ni(a,o),Ko(a))}function R3(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),_b(a,u)}function P3(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),_b(a,u)}function L3(a,o){return et(a,o)}var kp=null,Eh=null,j0=!1,jp=!1,M0=!1,Vc=0;function Ko(a){a!==Eh&&a.next===null&&(Eh===null?kp=Eh=a:Eh=Eh.next=a),jp=!0,j0||(j0=!0,O3())}function Gf(a,o){if(!M0&&jp){M0=!0;do for(var u=!1,f=kp;f!==null;){if(a!==0){var v=f.pendingLanes;if(v===0)var w=0;else{var V=f.suspendedLanes,Z=f.pingedLanes;w=(1<<31-dt(42|a)+1)-1,w&=v&~(V&~Z),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,Ab(f,w))}else w=yn,w=Rn(f,f===er?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||di(f,w)||(u=!0,Ab(f,w));f=f.next}while(u);M0=!1}}function D3(){wb()}function wb(){jp=j0=!1;var a=0;Vc!==0&&(q3()&&(a=Vc),Vc=0);for(var o=xt(),u=null,f=kp;f!==null;){var v=f.next,w=Sb(f,o);w===0?(f.next=null,u===null?kp=v:u.next=v,v===null&&(Eh=u)):(u=f,(a!==0||(w&3)!==0)&&(jp=!0)),f=v}Gf(a)}function Sb(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var V=31-dt(w),Z=1<<V,pe=v[V];pe===-1?((Z&u)===0||(Z&f)!==0)&&(v[V]=cn(Z,o)):pe<=o&&(a.expiredLanes|=Z),w&=~Z}if(o=er,u=yn,u=Rn(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===o&&(Un===2||Un===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&_t(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||di(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&_t(f),sr(u)){case 2:case 8:u=tt;break;case 32:u=st;break;case 268435456:u=vt;break;default:u=st}return f=xb.bind(null,a),u=et(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&_t(f),a.callbackPriority=2,a.callbackNode=null,2}function xb(a,o){if(Di!==0&&Di!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Op()&&a.callbackNode!==u)return null;var f=yn;return f=Rn(a,a===er?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(ab(a,f,o),Sb(a,xt()),a.callbackNode!=null&&a.callbackNode===u?xb.bind(null,a):null)}function Ab(a,o){if(Op())return null;ab(a,o,!0)}function O3(){H3(function(){(Bn&6)!==0?et(Ze,D3):wb()})}function F0(){return Vc===0&&(Vc=ja()),Vc}function Tb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:za(""+a)}function Eb(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function k3(a,o,u,f,v){if(o==="submit"&&u&&u.stateNode===v){var w=Tb((v[Ln]||null).action),V=f.submitter;V&&(o=(o=V[Ln]||null)?Tb(o.formAction):V.getAttribute("formAction"),o!==null&&(w=o,V=null));var Z=new ps("action","action",null,f,v);a.push({event:Z,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Vc!==0){var pe=V?Eb(v,V):new FormData(v);Cs(u,{pending:!0,data:pe,method:v.method,action:w},null,pe)}}else typeof w=="function"&&(Z.preventDefault(),pe=V?Eb(v,V):new FormData(v),Cs(u,{pending:!0,data:pe,method:v.method,action:w},w,pe))},currentTarget:v}]})}}for(var V0=0;V0<xl.length;V0++){var B0=xl[V0],j3=B0.toLowerCase(),M3=B0[0].toUpperCase()+B0.slice(1);ur(j3,"on"+M3)}ur(mu,"onAnimationEnd"),ur(Lo,"onAnimationIteration"),ur(Do,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Oo,"onTransitionRun"),ur(Sl,"onTransitionStart"),ur(gu,"onTransitionCancel"),ur(ko,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($f));function Nb(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],v=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var V=f.length-1;0<=V;V--){var Z=f[V],pe=Z.instance,Oe=Z.currentTarget;if(Z=Z.listener,pe!==w&&v.isPropagationStopped())break e;w=Z,v.currentTarget=Oe;try{w(v)}catch(Ue){xp(Ue)}v.currentTarget=null,w=pe}else for(V=0;V<f.length;V++){if(Z=f[V],pe=Z.instance,Oe=Z.currentTarget,Z=Z.listener,pe!==w&&v.isPropagationStopped())break e;w=Z,v.currentTarget=Oe;try{w(v)}catch(Ue){xp(Ue)}v.currentTarget=null,w=pe}}}}function un(a,o){var u=o[nr];u===void 0&&(u=o[nr]=new Set);var f=a+"__bubble";u.has(f)||(Cb(o,a,2,!1),u.add(f))}function U0(a,o,u){var f=0;o&&(f|=4),Cb(u,a,f,o)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function q0(a){if(!a[Mp]){a[Mp]=!0,Ma.forEach(function(u){u!=="selectionchange"&&(F3.has(u)||U0(u,!1,a),U0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Mp]||(o[Mp]=!0,U0("selectionchange",!1,o))}}function Cb(a,o,u,f){switch(Jb(o)){case 2:var v=hT;break;case 8:v=fT;break;default:v=nv}u=v.bind(null,o,u,a),v=void 0,!Ci||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function z0(a,o,u,f,v){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var V=f.tag;if(V===3||V===4){var Z=f.stateNode.containerInfo;if(Z===v)break;if(V===4)for(V=f.return;V!==null;){var pe=V.tag;if((pe===3||pe===4)&&V.stateNode.containerInfo===v)return;V=V.return}for(;Z!==null;){if(V=Pr(Z),V===null)return;if(pe=V.tag,pe===5||pe===6||pe===26||pe===27){f=w=V;continue e}Z=Z.parentNode}}f=f.return}cu(function(){var Oe=w,Ue=Fn(u),Ge=[];e:{var ke=Gs.get(a);if(ke!==void 0){var je=ps,qt=a;switch(a){case"keypress":if(Wi(u)===0)break e;case"keydown":case"keyup":je=$a;break;case"focusin":qt="focus",je=gs;break;case"focusout":qt="blur",je=gs;break;case"beforeblur":case"afterblur":je=gs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=ms;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Eo;break;case mu:case Lo:case Do:je=xo;break;case ko:je=z;break;case"scroll":case"scrollend":je=gl;break;case"wheel":je=me;break;case"copy":case"cut":case"paste":je=Ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Hs;break;case"toggle":case"beforetoggle":je=Ve}var Dt=(o&4)!==0,Yn=!Dt&&(a==="scroll"||a==="scrollend"),Ce=Dt?ke!==null?ke+"Capture":null:ke;Dt=[];for(var ye=Oe,Re;ye!==null;){var ze=ye;if(Re=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Re===null||Ce===null||(ze=mi(ye,Ce),ze!=null&&Dt.push(Yf(ye,ze,Re))),Yn)break;ye=ye.return}0<Dt.length&&(ke=new je(ke,qt,null,u,Ue),Ge.push({event:ke,listeners:Dt}))}}if((o&7)===0){e:{if(ke=a==="mouseover"||a==="pointerover",je=a==="mouseout"||a==="pointerout",ke&&u!==ba&&(qt=u.relatedTarget||u.fromElement)&&(Pr(qt)||qt[Kn]))break e;if((je||ke)&&(ke=Ue.window===Ue?Ue:(ke=Ue.ownerDocument)?ke.defaultView||ke.parentWindow:window,je?(qt=u.relatedTarget||u.toElement,je=Oe,qt=qt?Pr(qt):null,qt!==null&&(Yn=s(qt),Dt=qt.tag,qt!==Yn||Dt!==5&&Dt!==27&&Dt!==6)&&(qt=null)):(je=null,qt=Oe),je!==qt)){if(Dt=xr,ze="onMouseLeave",Ce="onMouseEnter",ye="mouse",(a==="pointerout"||a==="pointerover")&&(Dt=Hs,ze="onPointerLeave",Ce="onPointerEnter",ye="pointer"),Yn=je==null?ke:Lr(je),Re=qt==null?ke:Lr(qt),ke=new Dt(ze,ye+"leave",je,u,Ue),ke.target=Yn,ke.relatedTarget=Re,ze=null,Pr(Ue)===Oe&&(Dt=new Dt(Ce,ye+"enter",qt,u,Ue),Dt.target=Re,Dt.relatedTarget=Yn,ze=Dt),Yn=ze,je&&qt)t:{for(Dt=je,Ce=qt,ye=0,Re=Dt;Re;Re=Nh(Re))ye++;for(Re=0,ze=Ce;ze;ze=Nh(ze))Re++;for(;0<ye-Re;)Dt=Nh(Dt),ye--;for(;0<Re-ye;)Ce=Nh(Ce),Re--;for(;ye--;){if(Dt===Ce||Ce!==null&&Dt===Ce.alternate)break t;Dt=Nh(Dt),Ce=Nh(Ce)}Dt=null}else Dt=null;je!==null&&Ib(Ge,ke,je,Dt,!1),qt!==null&&Yn!==null&&Ib(Ge,Yn,qt,Dt,!0)}}e:{if(ke=Oe?Lr(Oe):window,je=ke.nodeName&&ke.nodeName.toLowerCase(),je==="select"||je==="input"&&ke.type==="file")var pt=du;else if(kn(ke))if(yl)pt=nh;else{pt=_f;var on=$i}else je=ke.nodeName,!je||je.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Oe&&pl(Oe.elementType)&&(pt=du):pt=yc;if(pt&&(pt=pt(a,Oe))){Ta(Ge,pt,u,Ue);break e}on&&on(a,ke,Oe),a==="focusout"&&Oe&&ke.type==="number"&&Oe.memoizedProps.value!=null&&hs(ke,"number",ke.value)}switch(on=Oe?Lr(Oe):window,a){case"focusin":(kn(on)||on.contentEditable==="true")&&(Yi=on,Ya=Oe,ws=null);break;case"focusout":ws=Ya=Yi=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,lr(Ge,u,Ue);break;case"selectionchange":if(Po)break;case"keydown":case"keyup":lr(Ge,u,Ue)}var St;if(it)e:{switch(a){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Lt?De(a,u)&&(kt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(kt="onCompositionStart");kt&&(k&&u.locale!=="ko"&&(Lt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Lt&&(St=ml()):(Hi=Ue,ds="value"in Hi?Hi.value:Hi.textContent,Lt=!0)),on=Fp(Oe,kt),0<on.length&&(kt=new Us(kt,a,null,u,Ue),Ge.push({event:kt,listeners:on}),St?kt.data=St:(St=Xe(u),St!==null&&(kt.data=St)))),(St=N?sn(a,u):Ht(a,u))&&(kt=Fp(Oe,"onBeforeInput"),0<kt.length&&(on=new Us("onBeforeInput","beforeinput",null,u,Ue),Ge.push({event:on,listeners:kt}),on.data=St)),k3(Ge,a,Oe,u,Ue)}Nb(Ge,o)})}function Yf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Fp(a,o){for(var u=o+"Capture",f=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=mi(a,u),v!=null&&f.unshift(Yf(a,v,w)),v=mi(a,o),v!=null&&f.push(Yf(a,v,w))),a.tag===3)return f;a=a.return}return[]}function Nh(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Ib(a,o,u,f,v){for(var w=o._reactName,V=[];u!==null&&u!==f;){var Z=u,pe=Z.alternate,Oe=Z.stateNode;if(Z=Z.tag,pe!==null&&pe===f)break;Z!==5&&Z!==26&&Z!==27||Oe===null||(pe=Oe,v?(Oe=mi(u,w),Oe!=null&&V.unshift(Yf(u,Oe,pe))):v||(Oe=mi(u,w),Oe!=null&&V.push(Yf(u,Oe,pe)))),u=u.return}V.length!==0&&a.push({event:o,listeners:V})}var V3=/\r\n?/g,B3=/\u0000|\uFFFD/g;function Rb(a){return(typeof a=="string"?a:""+a).replace(V3,`
`).replace(B3,"")}function Pb(a,o){return o=Rb(o),Rb(a)===o}function Vp(){}function $n(a,o,u,f,v,w){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||qi(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&qi(a,""+f);break;case"className":ca(a,"class",f);break;case"tabIndex":ca(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(a,u,f);break;case"style":dl(a,f,w);break;case"data":if(o!=="object"){ca(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=za(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&$n(a,o,"name",v.name,v,null),$n(a,o,"formEncType",v.formEncType,v,null),$n(a,o,"formMethod",v.formMethod,v,null),$n(a,o,"formTarget",v.formTarget,v,null)):($n(a,o,"encType",v.encType,v,null),$n(a,o,"method",v.method,v,null),$n(a,o,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=za(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=Vp);break;case"onScroll":f!=null&&un("scroll",a);break;case"onScrollEnd":f!=null&&un("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=za(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":un("beforetoggle",a),un("toggle",a),ua(a,"popover",f);break;case"xlinkActuate":Dr(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Dr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Dr(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Dr(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Dr(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Dr(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Dr(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Dr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Dr(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ua(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=qa.get(u)||u,ua(a,u,f))}}function H0(a,o,u,f,v,w){switch(u){case"style":dl(a,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof f=="string"?qi(a,f):(typeof f=="number"||typeof f=="bigint")&&qi(a,""+f);break;case"onScroll":f!=null&&un("scroll",a);break;case"onScrollEnd":f!=null&&un("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Vp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),w=a[Ln]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(o,w,v),typeof f=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,v);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):ua(a,u,f)}}}function Oi(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",a),un("load",a);var f=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var V=u[w];if(V!=null)switch(w){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:$n(a,o,w,V,u,null)}}v&&$n(a,o,"srcSet",u.srcSet,u,null),f&&$n(a,o,"src",u.src,u,null);return;case"input":un("invalid",a);var Z=w=V=v=null,pe=null,Oe=null;for(f in u)if(u.hasOwnProperty(f)){var Ue=u[f];if(Ue!=null)switch(f){case"name":v=Ue;break;case"type":V=Ue;break;case"checked":pe=Ue;break;case"defaultChecked":Oe=Ue;break;case"value":w=Ue;break;case"defaultValue":Z=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,o));break;default:$n(a,o,f,Ue,u,null)}}cs(a,w,Z,pe,Oe,V,v,!1),us(a);return;case"select":un("invalid",a),f=V=w=null;for(v in u)if(u.hasOwnProperty(v)&&(Z=u[v],Z!=null))switch(v){case"value":w=Z;break;case"defaultValue":V=Z;break;case"multiple":f=Z;default:$n(a,o,v,Z,u,null)}o=w,u=V,a.multiple=!!f,o!=null?ya(a,!!f,o,!1):u!=null&&ya(a,!!f,u,!0);return;case"textarea":un("invalid",a),w=v=f=null;for(V in u)if(u.hasOwnProperty(V)&&(Z=u[V],Z!=null))switch(V){case"value":f=Z;break;case"defaultValue":v=Z;break;case"children":w=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:$n(a,o,V,Z,u,null)}fs(a,f,v,w),us(a);return;case"option":for(pe in u)if(u.hasOwnProperty(pe)&&(f=u[pe],f!=null))switch(pe){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:$n(a,o,pe,f,u,null)}return;case"dialog":un("beforetoggle",a),un("toggle",a),un("cancel",a),un("close",a);break;case"iframe":case"object":un("load",a);break;case"video":case"audio":for(f=0;f<$f.length;f++)un($f[f],a);break;case"image":un("error",a),un("load",a);break;case"details":un("toggle",a);break;case"embed":case"source":case"link":un("error",a),un("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in u)if(u.hasOwnProperty(Oe)&&(f=u[Oe],f!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:$n(a,o,Oe,f,u,null)}return;default:if(pl(o)){for(Ue in u)u.hasOwnProperty(Ue)&&(f=u[Ue],f!==void 0&&H0(a,o,Ue,f,u,void 0));return}}for(Z in u)u.hasOwnProperty(Z)&&(f=u[Z],f!=null&&$n(a,o,Z,f,u,null))}function U3(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,V=null,Z=null,pe=null,Oe=null,Ue=null;for(je in u){var Ge=u[je];if(u.hasOwnProperty(je)&&Ge!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":pe=Ge;default:f.hasOwnProperty(je)||$n(a,o,je,null,f,Ge)}}for(var ke in f){var je=f[ke];if(Ge=u[ke],f.hasOwnProperty(ke)&&(je!=null||Ge!=null))switch(ke){case"type":w=je;break;case"name":v=je;break;case"checked":Oe=je;break;case"defaultChecked":Ue=je;break;case"value":V=je;break;case"defaultValue":Z=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,o));break;default:je!==Ge&&$n(a,o,ke,je,f,Ge)}}ai(a,V,Z,pe,Oe,Ue,w,v);return;case"select":je=V=Z=ke=null;for(w in u)if(pe=u[w],u.hasOwnProperty(w)&&pe!=null)switch(w){case"value":break;case"multiple":je=pe;default:f.hasOwnProperty(w)||$n(a,o,w,null,f,pe)}for(v in f)if(w=f[v],pe=u[v],f.hasOwnProperty(v)&&(w!=null||pe!=null))switch(v){case"value":ke=w;break;case"defaultValue":Z=w;break;case"multiple":V=w;default:w!==pe&&$n(a,o,v,w,f,pe)}o=Z,u=V,f=je,ke!=null?ya(a,!!u,ke,!1):!!f!=!!u&&(o!=null?ya(a,!!u,o,!0):ya(a,!!u,u?[]:"",!1));return;case"textarea":je=ke=null;for(Z in u)if(v=u[Z],u.hasOwnProperty(Z)&&v!=null&&!f.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:$n(a,o,Z,null,f,v)}for(V in f)if(v=f[V],w=u[V],f.hasOwnProperty(V)&&(v!=null||w!=null))switch(V){case"value":ke=v;break;case"defaultValue":je=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&$n(a,o,V,v,f,w)}An(a,ke,je);return;case"option":for(var qt in u)if(ke=u[qt],u.hasOwnProperty(qt)&&ke!=null&&!f.hasOwnProperty(qt))switch(qt){case"selected":a.selected=!1;break;default:$n(a,o,qt,null,f,ke)}for(pe in f)if(ke=f[pe],je=u[pe],f.hasOwnProperty(pe)&&ke!==je&&(ke!=null||je!=null))switch(pe){case"selected":a.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:$n(a,o,pe,ke,f,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in u)ke=u[Dt],u.hasOwnProperty(Dt)&&ke!=null&&!f.hasOwnProperty(Dt)&&$n(a,o,Dt,null,f,ke);for(Oe in f)if(ke=f[Oe],je=u[Oe],f.hasOwnProperty(Oe)&&ke!==je&&(ke!=null||je!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,o));break;default:$n(a,o,Oe,ke,f,je)}return;default:if(pl(o)){for(var Yn in u)ke=u[Yn],u.hasOwnProperty(Yn)&&ke!==void 0&&!f.hasOwnProperty(Yn)&&H0(a,o,Yn,void 0,f,ke);for(Ue in f)ke=f[Ue],je=u[Ue],!f.hasOwnProperty(Ue)||ke===je||ke===void 0&&je===void 0||H0(a,o,Ue,ke,f,je);return}}for(var Ce in u)ke=u[Ce],u.hasOwnProperty(Ce)&&ke!=null&&!f.hasOwnProperty(Ce)&&$n(a,o,Ce,null,f,ke);for(Ge in f)ke=f[Ge],je=u[Ge],!f.hasOwnProperty(Ge)||ke===je||ke==null&&je==null||$n(a,o,Ge,ke,f,je)}var W0=null,G0=null;function Bp(a){return a.nodeType===9?a:a.ownerDocument}function Lb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Db(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function $0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Y0=null;function q3(){var a=window.event;return a&&a.type==="popstate"?a===Y0?!1:(Y0=a,!0):(Y0=null,!1)}var Ob=typeof setTimeout=="function"?setTimeout:void 0,z3=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,H3=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(a){return kb.resolve(null).then(a).catch(W3)}:Ob;function W3(a){setTimeout(function(){throw a})}function ju(a){return a==="head"}function jb(a,o){var u=o,f=0,v=0;do{var w=u.nextSibling;if(a.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<f&&8>f){u=f;var V=a.ownerDocument;if(u&1&&Kf(V.documentElement),u&2&&Kf(V.body),u&4)for(u=V.head,Kf(u),V=u.firstChild;V;){var Z=V.nextSibling,pe=V.nodeName;V[Ni]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&V.rel.toLowerCase()==="stylesheet"||u.removeChild(V),V=Z}}if(v===0){a.removeChild(w),rd(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=w}while(u);rd(o)}function K0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":K0(u),Wr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function G3(a,o,u,f){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Ni])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=so(a.nextSibling),a===null)break}return null}function $3(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=so(a.nextSibling),a===null))return null;return a}function Q0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function Y3(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function so(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var X0=null;function Mb(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function Fb(a,o,u){switch(o=Bp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Kf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Wr(a)}var Ps=new Map,Vb=new Set;function Up(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Bl=le.d;le.d={f:K3,r:Q3,D:X3,C:J3,L:Z3,m:eT,X:nT,S:tT,M:rT};function K3(){var a=Bl.f(),o=Lp();return a||o}function Q3(a){var o=wr(a);o!==null&&o.tag===5&&o.type==="form"?Oc(o):Bl.r(a)}var Ch=typeof document>"u"?null:document;function Bb(a,o,u){var f=Ch;if(f&&typeof o=="string"&&o){var v=pn(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Vb.has(v)||(Vb.add(v),a={rel:a,crossOrigin:u,href:o},f.querySelector(v)===null&&(o=f.createElement("link"),Oi(o,"link",a),xn(o),f.head.appendChild(o)))}}function X3(a){Bl.D(a),Bb("dns-prefetch",a,null)}function J3(a,o){Bl.C(a,o),Bb("preconnect",a,o)}function Z3(a,o,u){Bl.L(a,o,u);var f=Ch;if(f&&a&&o){var v='link[rel="preload"][as="'+pn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+pn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+pn(u.imageSizes)+'"]')):v+='[href="'+pn(a)+'"]';var w=v;switch(o){case"style":w=Ih(a);break;case"script":w=Rh(a)}Ps.has(w)||(a=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ps.set(w,a),f.querySelector(v)!==null||o==="style"&&f.querySelector(Qf(w))||o==="script"&&f.querySelector(Xf(w))||(o=f.createElement("link"),Oi(o,"link",a),xn(o),f.head.appendChild(o)))}}function eT(a,o){Bl.m(a,o);var u=Ch;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+pn(f)+'"][href="'+pn(a)+'"]',w=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Rh(a)}if(!Ps.has(w)&&(a=g({rel:"modulepreload",href:a},o),Ps.set(w,a),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Xf(w)))return}f=u.createElement("link"),Oi(f,"link",a),xn(f),u.head.appendChild(f)}}}function tT(a,o,u){Bl.S(a,o,u);var f=Ch;if(f&&a){var v=Hn(f).hoistableStyles,w=Ih(a);o=o||"default";var V=v.get(w);if(!V){var Z={loading:0,preload:null};if(V=f.querySelector(Qf(w)))Z.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ps.get(w))&&J0(a,u);var pe=V=f.createElement("link");xn(pe),Oi(pe,"link",a),pe._p=new Promise(function(Oe,Ue){pe.onload=Oe,pe.onerror=Ue}),pe.addEventListener("load",function(){Z.loading|=1}),pe.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,qp(V,o,f)}V={type:"stylesheet",instance:V,count:1,state:Z},v.set(w,V)}}}function nT(a,o){Bl.X(a,o);var u=Ch;if(u&&a){var f=Hn(u).hoistableScripts,v=Rh(a),w=f.get(v);w||(w=u.querySelector(Xf(v)),w||(a=g({src:a,async:!0},o),(o=Ps.get(v))&&Z0(a,o),w=u.createElement("script"),xn(w),Oi(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(v,w))}}function rT(a,o){Bl.M(a,o);var u=Ch;if(u&&a){var f=Hn(u).hoistableScripts,v=Rh(a),w=f.get(v);w||(w=u.querySelector(Xf(v)),w||(a=g({src:a,async:!0,type:"module"},o),(o=Ps.get(v))&&Z0(a,o),w=u.createElement("script"),xn(w),Oi(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(v,w))}}function Ub(a,o,u,f){var v=(v=fe.current)?Up(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ih(u.href),u=Hn(v).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Ih(u.href);var w=Hn(v).hoistableStyles,V=w.get(a);if(V||(v=v.ownerDocument||v,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,V),(w=v.querySelector(Qf(a)))&&!w._p&&(V.instance=w,V.state.loading=5),Ps.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ps.set(a,u),w||iT(v,a,u,V.state))),o&&f===null)throw Error(r(528,""));return V}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Rh(u),u=Hn(v).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ih(a){return'href="'+pn(a)+'"'}function Qf(a){return'link[rel="stylesheet"]['+a+"]"}function qb(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function iT(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Oi(o,"link",u),xn(o),a.head.appendChild(o))}function Rh(a){return'[src="'+pn(a)+'"]'}function Xf(a){return"script[async]"+a}function zb(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+pn(u.href)+'"]');if(f)return o.instance=f,xn(f),f;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),xn(f),Oi(f,"style",v),qp(f,u.precedence,a),o.instance=f;case"stylesheet":v=Ih(u.href);var w=a.querySelector(Qf(v));if(w)return o.state.loading|=4,o.instance=w,xn(w),w;f=qb(u),(v=Ps.get(v))&&J0(f,v),w=(a.ownerDocument||a).createElement("link"),xn(w);var V=w;return V._p=new Promise(function(Z,pe){V.onload=Z,V.onerror=pe}),Oi(w,"link",f),o.state.loading|=4,qp(w,u.precedence,a),o.instance=w;case"script":return w=Rh(u.src),(v=a.querySelector(Xf(w)))?(o.instance=v,xn(v),v):(f=u,(v=Ps.get(w))&&(f=g({},u),Z0(f,v)),a=a.ownerDocument||a,v=a.createElement("script"),xn(v),Oi(v,"link",f),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,qp(f,u.precedence,a));return o.instance}function qp(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,w=v,V=0;V<f.length;V++){var Z=f[V];if(Z.dataset.precedence===o)w=Z;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function J0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Z0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var zp=null;function Hb(a,o,u){if(zp===null){var f=new Map,v=zp=new Map;v.set(u,f)}else v=zp,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var w=u[v];if(!(w[Ni]||w[Pn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var V=w.getAttribute(o)||"";V=a+V;var Z=f.get(V);Z?Z.push(w):f.set(V,[w])}}return f}function Wb(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function aT(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Gb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Jf=null;function sT(){}function oT(a,o,u){if(Jf===null)throw Error(r(475));var f=Jf;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Ih(u.href),w=a.querySelector(Qf(v));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Hp.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=w,xn(w);return}w=a.ownerDocument||a,u=qb(u),(v=Ps.get(v))&&J0(u,v),w=w.createElement("link"),xn(w);var V=w;V._p=new Promise(function(Z,pe){V.onload=Z,V.onerror=pe}),Oi(w,"link",u),o.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Hp.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function lT(){if(Jf===null)throw Error(r(475));var a=Jf;return a.stylesheets&&a.count===0&&ev(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&ev(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Hp(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Wp=null;function ev(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Wp=new Map,o.forEach(uT,a),Wp=null,Hp.call(a))}function uT(a,o){if(!(o.state.loading&4)){var u=Wp.get(a);if(u)var f=u.get(null);else{u=new Map,Wp.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var V=v[w];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),f=V)}f&&u.set(null,f)}v=o.instance,V=v.getAttribute("data-precedence"),w=u.get(V)||f,w===f&&u.set(null,v),u.set(V,v),this.count++,f=Hp.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Zf={$$typeof:H,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function cT(a,o,u,f,v,w,V,Z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function $b(a,o,u,f,v,w,V,Z,pe,Oe,Ue,Ge){return a=new cT(a,o,u,V,Z,pe,Oe,Ge),o=1,w===!0&&(o|=24),w=bi(3,null,null,o),a.current=w,w.stateNode=a,o=Sf(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:f,isDehydrated:u,cache:o},ve(w),a}function Yb(a){return a?(a=Yr,a):Yr}function Kb(a,o,u,f,v,w){v=Yb(v),f.context===null?f.context=v:f.pendingContext=v,f=Be(o),f.payload={element:u},w=w===void 0?null:w,w!==null&&(f.callback=w),u=We(a,f,o),u!==null&&(rs(u,a,o),qe(u,a,o))}function Qb(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function tv(a,o){Qb(a,o),(a=a.alternate)&&Qb(a,o)}function Xb(a){if(a.tag===13){var o=$s(a,67108864);o!==null&&rs(o,a,67108864),tv(a,67108864)}}var Gp=!0;function hT(a,o,u,f){var v=re.T;re.T=null;var w=le.p;try{le.p=2,nv(a,o,u,f)}finally{le.p=w,re.T=v}}function fT(a,o,u,f){var v=re.T;re.T=null;var w=le.p;try{le.p=8,nv(a,o,u,f)}finally{le.p=w,re.T=v}}function nv(a,o,u,f){if(Gp){var v=rv(f);if(v===null)z0(a,o,f,$p,u),Zb(a,f);else if(pT(v,a,o,u,f))f.stopPropagation();else if(Zb(a,f),o&4&&-1<dT.indexOf(a)){for(;v!==null;){var w=wr(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var V=en(w.pendingLanes);if(V!==0){var Z=w;for(Z.pendingLanes|=2,Z.entangledLanes|=2;V;){var pe=1<<31-dt(V);Z.entanglements[1]|=pe,V&=~pe}Ko(w),(Bn&6)===0&&(Rp=xt()+500,Gf(0))}}break;case 13:Z=$s(w,2),Z!==null&&rs(Z,w,2),Lp(),tv(w,2)}if(w=rv(f),w===null&&z0(a,o,f,$p,u),w===v)break;v=w}v!==null&&f.stopPropagation()}else z0(a,o,f,null,u)}}function rv(a){return a=Fn(a),iv(a)}var $p=null;function iv(a){if($p=null,a=Pr(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return $p=a,null}function Jb(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case Ze:return 2;case tt:return 8;case st:case ot:return 32;case vt:return 268435456;default:return 32}default:return 32}}var av=!1,Mu=null,Fu=null,Vu=null,ed=new Map,td=new Map,Bu=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zb(a,o){switch(a){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":Vu=null;break;case"pointerover":case"pointerout":ed.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(o.pointerId)}}function nd(a,o,u,f,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[v]},o!==null&&(o=wr(o),o!==null&&Xb(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function pT(a,o,u,f,v){switch(o){case"focusin":return Mu=nd(Mu,a,o,u,f,v),!0;case"dragenter":return Fu=nd(Fu,a,o,u,f,v),!0;case"mouseover":return Vu=nd(Vu,a,o,u,f,v),!0;case"pointerover":var w=v.pointerId;return ed.set(w,nd(ed.get(w)||null,a,o,u,f,v)),!0;case"gotpointercapture":return w=v.pointerId,td.set(w,nd(td.get(w)||null,a,o,u,f,v)),!0}return!1}function e5(a){var o=Pr(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,la(a.priority,function(){if(u.tag===13){var f=ns();f=Bi(f);var v=$s(u,f);v!==null&&rs(v,u,f),tv(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Yp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=rv(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);ba=f,u.target.dispatchEvent(f),ba=null}else return o=wr(u),o!==null&&Xb(o),a.blockedOn=u,!1;o.shift()}return!0}function t5(a,o,u){Yp(a)&&u.delete(o)}function mT(){av=!1,Mu!==null&&Yp(Mu)&&(Mu=null),Fu!==null&&Yp(Fu)&&(Fu=null),Vu!==null&&Yp(Vu)&&(Vu=null),ed.forEach(t5),td.forEach(t5)}function Kp(a,o){a.blockedOn===o&&(a.blockedOn=null,av||(av=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mT)))}var Qp=null;function n5(a){Qp!==a&&(Qp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qp===a&&(Qp=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],v=a[o+2];if(typeof f!="function"){if(iv(f||u)===null)continue;break}var w=wr(u);w!==null&&(a.splice(o,3),o-=3,Cs(w,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function rd(a){function o(pe){return Kp(pe,a)}Mu!==null&&Kp(Mu,a),Fu!==null&&Kp(Fu,a),Vu!==null&&Kp(Vu,a),ed.forEach(o),td.forEach(o);for(var u=0;u<Bu.length;u++){var f=Bu[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Bu.length&&(u=Bu[0],u.blockedOn===null);)e5(u),u.blockedOn===null&&Bu.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],w=u[f+1],V=v[Ln]||null;if(typeof w=="function")V||n5(u);else if(V){var Z=null;if(w&&w.hasAttribute("formAction")){if(v=w,V=w[Ln]||null)Z=V.formAction;else if(iv(v)!==null)continue}else Z=V.action;typeof Z=="function"?u[f+1]=Z:(u.splice(f,3),f-=3),n5(u)}}}function sv(a){this._internalRoot=a}Xp.prototype.render=sv.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,f=ns();Kb(u,f,a,o,null,null)},Xp.prototype.unmount=sv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Kb(a.current,2,null,a,null,null),Lp(),o[Kn]=null}};function Xp(a){this._internalRoot=a}Xp.prototype.unstable_scheduleHydration=function(a){if(a){var o=ri();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Bu.length&&o!==0&&o<Bu[u].priority;u++);Bu.splice(u,0,a),u===0&&e5(a)}};var r5=e.version;if(r5!=="19.1.0")throw Error(r(527,r5,"19.1.0"));le.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var gT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{bt=Jp.inject(gT),gt=Jp}catch{}}return od.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,f="",v=by,w=_y,V=wy,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Z=o.unstable_transitionCallbacks)),o=$b(a,1,!1,null,null,u,f,v,w,V,Z,null),a[Kn]=o.current,q0(a),new sv(o)},od.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var f=!1,v="",w=by,V=_y,Z=wy,pe=null,Oe=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&(Z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(pe=u.unstable_transitionCallbacks),u.formState!==void 0&&(Oe=u.formState)),o=$b(a,1,!0,o,u??null,f,v,w,V,Z,pe,Oe),o.context=Yb(null),u=o.current,f=ns(),f=Bi(f),v=Be(f),v.callback=null,We(u,v,f),u=f,o.current.lanes=u,ni(o,u),Ko(o),a[Kn]=o.current,q0(a),new Xp(o)},od.version="19.1.0",od}var _5;function tN(){if(_5)return fv.exports;_5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fv.exports=eN(),fv.exports}var nN=tN();const rN=nS(nN),iN=()=>{};var w5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],h=n[t++],c=((i&7)<<18|(s&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},_S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,h=l?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,g=s>>2,b=(s&3)<<4|h>>4;let S=(h&15)<<2|d>>6,_=d&63;c||(_=64,l||(S=64)),r.push(t[g],t[b],t[S],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const b=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||h==null||d==null||b==null)throw new sN;const S=s<<2|h>>4;if(r.push(S),d!==64){const _=h<<4&240|d>>2;if(r.push(_),b!==64){const E=d<<6&192|b;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oN=function(n){const e=bS(n);return _S.encodeByteArray(e,!0)},Vm=function(n){return oN(n).replace(/\./g,"")},wS=function(n){try{return _S.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=()=>lN().__FIREBASE_DEFAULTS__,cN=()=>{if(typeof process>"u"||typeof w5>"u")return;const n=w5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wS(n[1]);return e&&JSON.parse(e)},wg=()=>{try{return iN()||uN()||cN()||hN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SS=n=>{var e,t;return(t=(e=wg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fN=n=>{const e=SS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xS=()=>{var n;return(n=wg())===null||n===void 0?void 0:n.config},AS=n=>{var e;return(e=wg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vm(JSON.stringify(t)),Vm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oa())}function gN(){var n;const e=(n=wg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _N(){const n=oa();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wN(){return!gN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function xN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="FirebaseError";class iu extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=AN,Object.setPrototypeOf(this,iu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?TN(s,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new iu(i,h,r)}}function TN(n,e){return n.replace(EN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EN=/\{\$([^}]+)}/g;function NN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(S5(s)&&S5(l)){if(!Gc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function S5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function dd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CN(n,e){const t=new IN(n,e);return t.subscribe.bind(t)}class IN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");RN(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=mv),i.error===void 0&&(i.error=mv),i.complete===void 0&&(i.complete=mv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n){return n.endsWith(".cloudworkstations.dev")}async function TS(n){return(await fetch(n,{credentials:"include"})).ok}class $c{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new dN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DN(e))try{this.getOrInitializeService({instanceIdentifier:Bc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bc){return this.instances.has(e)}getOptions(e=Bc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(s);r===h&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bc){return this.component?this.component.multipleInstances?e:Bc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LN(n){return n===Bc?void 0:n}function DN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(fn||(fn={}));const kN={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},jN=fn.INFO,MN={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},FN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=MN[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X1{constructor(e){this.name=e,this._logLevel=jN,this._logHandler=FN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...e),this._logHandler(this,fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...e),this._logHandler(this,fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fn.INFO,...e),this._logHandler(this,fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fn.WARN,...e),this._logHandler(this,fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...e),this._logHandler(this,fn.ERROR,...e)}}const VN=(n,e)=>e.some(t=>n instanceof t);let x5,A5;function BN(){return x5||(x5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UN(){return A5||(A5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ES=new WeakMap,Qv=new WeakMap,NS=new WeakMap,gv=new WeakMap,J1=new WeakMap;function qN(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Ju(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&ES.set(t,n)}).catch(()=>{}),J1.set(e,n),e}function zN(n){if(Qv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});Qv.set(n,e)}let Xv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||NS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ju(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HN(n){Xv=n(Xv)}function WN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(vv(this),e,...t);return NS.set(r,e.sort?e.sort():[e]),Ju(r)}:UN().includes(n)?function(...e){return n.apply(vv(this),e),Ju(ES.get(this))}:function(...e){return Ju(n.apply(vv(this),e))}}function GN(n){return typeof n=="function"?WN(n):(n instanceof IDBTransaction&&zN(n),VN(n,BN())?new Proxy(n,Xv):n)}function Ju(n){if(n instanceof IDBRequest)return qN(n);if(gv.has(n))return gv.get(n);const e=GN(n);return e!==n&&(gv.set(n,e),J1.set(e,n)),e}const vv=n=>J1.get(n);function $N(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),h=Ju(l);return r&&l.addEventListener("upgradeneeded",c=>{r(Ju(l.result),c.oldVersion,c.newVersion,Ju(l.transaction),c)}),t&&l.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),h.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const YN=["get","getKey","getAll","getAllKeys","count"],KN=["put","add","delete","clear"],yv=new Map;function T5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=KN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YN.includes(t)))return;const s=async function(l,...h){const c=this.transaction(l,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&c.done]))[0]};return yv.set(e,s),s}HN(n=>({...n,get:(e,t,r)=>T5(e,t)||n.get(e,t,r),has:(e,t)=>!!T5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function XN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jv="@firebase/app",E5="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new X1("@firebase/app"),JN="@firebase/app-compat",ZN="@firebase/analytics-compat",e6="@firebase/analytics",t6="@firebase/app-check-compat",n6="@firebase/app-check",r6="@firebase/auth",i6="@firebase/auth-compat",a6="@firebase/database",s6="@firebase/data-connect",o6="@firebase/database-compat",l6="@firebase/functions",u6="@firebase/functions-compat",c6="@firebase/installations",h6="@firebase/installations-compat",f6="@firebase/messaging",d6="@firebase/messaging-compat",p6="@firebase/performance",m6="@firebase/performance-compat",g6="@firebase/remote-config",v6="@firebase/remote-config-compat",y6="@firebase/storage",b6="@firebase/storage-compat",_6="@firebase/firestore",w6="@firebase/vertexai",S6="@firebase/firestore-compat",x6="firebase",A6="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="[DEFAULT]",T6={[Jv]:"fire-core",[JN]:"fire-core-compat",[e6]:"fire-analytics",[ZN]:"fire-analytics-compat",[n6]:"fire-app-check",[t6]:"fire-app-check-compat",[r6]:"fire-auth",[i6]:"fire-auth-compat",[a6]:"fire-rtdb",[s6]:"fire-data-connect",[o6]:"fire-rtdb-compat",[l6]:"fire-fn",[u6]:"fire-fn-compat",[c6]:"fire-iid",[h6]:"fire-iid-compat",[f6]:"fire-fcm",[d6]:"fire-fcm-compat",[p6]:"fire-perf",[m6]:"fire-perf-compat",[g6]:"fire-rc",[v6]:"fire-rc-compat",[y6]:"fire-gcs",[b6]:"fire-gcs-compat",[_6]:"fire-fst",[S6]:"fire-fst-compat",[w6]:"fire-vertex","fire-js":"fire-js",[x6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new Map,E6=new Map,e1=new Map;function N5(n,e){try{n.container.addComponent(e)}catch(t){Xl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zh(n){const e=n.name;if(e1.has(e))return Xl.debug(`There were multiple attempts to register component ${e}.`),!1;e1.set(e,n);for(const t of Bm.values())N5(t,n);for(const t of E6.values())N5(t,n);return!0}function Z1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ho(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zu=new zd("app","Firebase",N6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $c("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=A6;function CS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zu.create("bad-app-name",{appName:String(i)});if(t||(t=xS()),!t)throw Zu.create("no-options");const s=Bm.get(i);if(s){if(Gc(t,s.options)&&Gc(r,s.config))return s;throw Zu.create("duplicate-app",{appName:i})}const l=new ON(i);for(const c of e1.values())l.addComponent(c);const h=new C6(t,r,l);return Bm.set(i,h),h}function IS(n=Zv){const e=Bm.get(n);if(!e&&n===Zv&&xS())return CS();if(!e)throw Zu.create("no-app",{appName:n});return e}function ec(n,e,t){var r;let i=(r=T6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const h=[`Unable to register library "${i}" with version "${e}":`];s&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xl.warn(h.join(" "));return}Zh(new $c(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="firebase-heartbeat-database",R6=1,Cd="firebase-heartbeat-store";let bv=null;function RS(){return bv||(bv=$N(I6,R6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zu.create("idb-open",{originalErrorMessage:n.message})})),bv}async function P6(n){try{const t=(await RS()).transaction(Cd),r=await t.objectStore(Cd).get(PS(n));return await t.done,r}catch(e){if(e instanceof iu)Xl.warn(e.message);else{const t=Zu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xl.warn(t.message)}}}async function C5(n,e){try{const r=(await RS()).transaction(Cd,"readwrite");await r.objectStore(Cd).put(e,PS(n)),await r.done}catch(t){if(t instanceof iu)Xl.warn(t.message);else{const r=Zu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xl.warn(r.message)}}}function PS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=1024,D6=30;class O6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=I5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>D6){const l=M6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I5(),{heartbeatsToSend:r,unsentEntries:i}=k6(this._heartbeatsCache.heartbeats),s=Vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Xl.warn(t),""}}}function I5(){return new Date().toISOString().substring(0,10)}function k6(n,e=L6){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),R5(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),R5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class j6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?xN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await P6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return C5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return C5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R5(n){return Vm(JSON.stringify({version:2,heartbeats:n})).length}function M6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n){Zh(new $c("platform-logger",e=>new QN(e),"PRIVATE")),Zh(new $c("heartbeat",e=>new O6(e),"PRIVATE")),ec(Jv,E5,n),ec(Jv,E5,"esm2017"),ec("fire-js","")}F6("");function e2(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function LS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V6=LS,DS=new zd("auth","Firebase",LS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new X1("@firebase/auth");function B6(n,...e){Um.logLevel<=fn.WARN&&Um.warn(`Auth (${ff}): ${n}`,...e)}function _m(n,...e){Um.logLevel<=fn.ERROR&&Um.error(`Auth (${ff}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(n,...e){throw t2(n,...e)}function tl(n,...e){return t2(n,...e)}function OS(n,e,t){const r=Object.assign(Object.assign({},V6()),{[e]:t});return new zd("auth","Firebase",r).create(e,{appName:n.name})}function tc(n){return OS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DS.create(n,...e)}function Bt(n,e,...t){if(!n)throw t2(e,...t)}function Wl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _m(e),new Error(e)}function Jl(n,e){n||Wl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function U6(){return P5()==="http:"||P5()==="https:"}function P5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U6()||yN()||"connection"in navigator)?navigator.onLine:!0}function z6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jl(t>e,"Short delay should be less than long delay!"),this.isMobile=mN()||bN()}get(){return q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n,e){Jl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G6=new Wd(3e4,6e4);function Jc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function pc(n,e,t,r,i={}){return jS(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const h=Hd(Object.assign({key:n.config.apiKey},l)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:c},s);return vN()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Sg(n.emulatorConfig.host)&&(d.credentials="include"),kS.fetch()(await MS(n,n.config.apiHost,t,h),d)})}async function jS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},H6),e);try{const i=new Y6(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw em(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const h=s.ok?l.errorMessage:l.error.message,[c,d]=h.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw em(n,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw em(n,"email-already-in-use",l);if(c==="USER_DISABLED")throw em(n,"user-disabled",l);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw OS(n,g,d);mo(n,g)}}catch(i){if(i instanceof iu)throw i;mo(n,"network-request-failed",{message:String(i)})}}async function xg(n,e,t,r,i={}){const s=await pc(n,e,t,r,i);return"mfaPendingCredential"in s&&mo(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function MS(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?n2(n.config,i):`${n.config.apiScheme}://${i}`;return W6.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function $6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(tl(this.auth,"network-request-failed")),G6.get())})}}function em(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=tl(n,e,r);return i.customData._tokenResponse=t,i}function L5(n){return n!==void 0&&n.enterprise!==void 0}class K6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q6(n,e){return pc(n,"GET","/v2/recaptchaConfig",Jc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(n,e){return pc(n,"POST","/v1/accounts:delete",e)}async function qm(n,e){return pc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J6(n,e=!1){const t=hi(n),r=await t.getIdToken(e),i=r2(r);Bt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bd(_v(i.auth_time)),issuedAtTime:bd(_v(i.iat)),expirationTime:bd(_v(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _v(n){return Number(n)*1e3}function r2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const i=wS(t);return i?JSON.parse(i):(_m("Failed to decode base64 JWT payload"),null)}catch(i){return _m("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function D5(n){const e=r2(n);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof iu&&Z6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Z6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bd(this.lastLoginAt),this.creationTime=bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Id(n,qm(t,{idToken:r}));Bt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?FS(s.providerUserInfo):[],h=nC(n.providerData,l),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(h!=null&&h.length),g=c?d:!1,b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new n1(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,b)}async function tC(n){const e=hi(n);await zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nC(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FS(n){return n.map(e=>{var{providerId:t}=e,r=e2(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){const t=await jS(n,{},async()=>{const r=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await MS(n,i,"/v1/token",`key=${s}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iC(n,e){return pc(n,"POST","/v2/accounts:revokeToken",Jc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const t=D5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await rC(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new zh;return r&&(Bt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Bt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Bt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return Wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n,e){Bt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=e2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new n1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Id(this,this.stsTokenManager.getToken(this.auth,e));return Bt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J6(this,e)}reload(){return tC(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ho(this.auth.app))return Promise.reject(tc(this.auth));const e=await this.getIdToken();return await Id(this,X6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,h,c,d,g;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(i=t.email)!==null&&i!==void 0?i:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(h=t.tenantId)!==null&&h!==void 0?h:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(d=t.createdAt)!==null&&d!==void 0?d:void 0,B=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:H,emailVerified:ae,isAnonymous:$,providerData:ce,stsTokenManager:U}=t;Bt(H&&U,e,"internal-error");const L=zh.fromJSON(this.name,U);Bt(typeof H=="string",e,"internal-error"),qu(b,e.name),qu(S,e.name),Bt(typeof ae=="boolean",e,"internal-error"),Bt(typeof $=="boolean",e,"internal-error"),qu(_,e.name),qu(E,e.name),qu(C,e.name),qu(R,e.name),qu(I,e.name),qu(B,e.name);const F=new fo({uid:H,auth:e,email:S,emailVerified:ae,displayName:b,isAnonymous:$,photoURL:E,phoneNumber:_,tenantId:C,stsTokenManager:L,createdAt:I,lastLoginAt:B});return ce&&Array.isArray(ce)&&(F.providerData=ce.map(W=>Object.assign({},W))),R&&(F._redirectEventId=R),F}static async _fromIdTokenResponse(e,t,r=!1){const i=new zh;i.updateFromServerResponse(t);const s=new fo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Bt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?FS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),h=new zh;h.updateFromIdToken(r);const c=new fo({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new n1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new Map;function Gl(n){Jl(n instanceof Function,"Expected a class definition");let e=O5.get(n);return e?(Jl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,O5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}VS.type="NONE";const k5=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n,e,t){return`firebase:${n}:${e}:${t}`}class Hh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wm(this.userKey,i.apiKey,s),this.fullPersistenceKey=wm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qm(this.auth,{idToken:e}).catch(()=>{});return t?fo._fromGetAccountInfoResponse(this.auth,t,e):null}return fo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hh(Gl(k5),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Gl(k5);const l=wm(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(l);if(g){let b;if(typeof g=="string"){const S=await qm(e,{idToken:g}).catch(()=>{});if(!S)break;b=await fo._fromGetAccountInfoResponse(e,S,g)}else b=fo._fromJSON(e,g);d!==s&&(h=b),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Hh(s,e,r):(s=c[0],h&&await s._set(l,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(l)}catch{}})),new Hh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WS(e))return"Blackberry";if(GS(e))return"Webos";if(US(e))return"Safari";if((e.includes("chrome/")||qS(e))&&!e.includes("edge/"))return"Chrome";if(HS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BS(n=oa()){return/firefox\//i.test(n)}function US(n=oa()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qS(n=oa()){return/crios\//i.test(n)}function zS(n=oa()){return/iemobile/i.test(n)}function HS(n=oa()){return/android/i.test(n)}function WS(n=oa()){return/blackberry/i.test(n)}function GS(n=oa()){return/webos/i.test(n)}function i2(n=oa()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aC(n=oa()){var e;return i2(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sC(){return _N()&&document.documentMode===10}function $S(n=oa()){return i2(n)||HS(n)||GS(n)||WS(n)||/windows phone/i.test(n)||zS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n,e=[]){let t;switch(n){case"Browser":t=j5(oa());break;case"Worker":t=`${j5(oa())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ff}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,h)=>{try{const c=e(s);l(c)}catch(c){h(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n,e={}){return pc(n,"GET","/v2/passwordPolicy",Jc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=6;class cC{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:uC,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,h;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(h=c.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M5(this),this.idTokenSubscription=new M5(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gl(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Hh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qm(this,{idToken:e}),r=await fo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ho(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===h)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ho(this.app))return Promise.reject(tc(this));const t=e?hi(e):null;return t&&Bt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ho(this.app)?Promise.reject(tc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ho(this.app)?Promise.reject(tc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lC(this),t=new cC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gl(e)||this._popupRedirectResolver;Bt(t,this,"argument-error"),this.redirectPersistenceManager=await Hh.create(this,[Gl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(h,this,"internal-error"),h.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{l=!0,c()}}else{const c=e.addObserver(t);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ho(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&B6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function df(n){return hi(n)}class M5{constructor(e){this.auth=e,this.observer=null,this.addObserver=CN(t=>this.observer=t)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(n){Ag=n}function KS(n){return Ag.loadJS(n)}function dC(){return Ag.recaptchaEnterpriseScript}function pC(){return Ag.gapiScript}function mC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class gC{constructor(){this.enterprise=new vC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yC="recaptcha-enterprise",QS="NO_RECAPTCHA";class bC{constructor(e){this.type=yC,this.auth=df(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,h)=>{Q6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new K6(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,l(d.siteKey)}}).catch(c=>{h(c)})})}function i(s,l,h){const c=window.grecaptcha;L5(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{l(d)}).catch(()=>{l(QS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gC().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(h=>{if(!t&&L5(window.grecaptcha))i(h,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dC();c.length!==0&&(c+=h),KS(c).then(()=>{i(h,s,l)}).catch(d=>{l(d)})}}).catch(h=>{l(h)})})}}async function F5(n,e,t,r=!1,i=!1){const s=new bC(n);let l;if(i)l=QS;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const c=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const c=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function V5(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await F5(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await F5(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n,e){const t=Z1(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Gc(s,e??{}))return i;mo(i,"already-initialized")}return t.initialize({options:e})}function wC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Gl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SC(n,e,t){const r=df(n);Bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=XS(e),{host:l,port:h}=xC(e),c=h===null?"":`:${h}`,d={url:`${s}//${l}${c}/`},g=Object.freeze({host:l,port:h,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Bt(Gc(d,r.config.emulator)&&Gc(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,AC(),Sg(l)&&TS(`${s}//${l}${c}`)}function XS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xC(n){const e=XS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:B5(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:B5(l)}}}function B5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function AC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wl("not implemented")}_getIdTokenResponse(e){return Wl("not implemented")}_linkToIdToken(e,t){return Wl("not implemented")}_getReauthenticationResolver(e){return Wl("not implemented")}}async function TC(n,e){return pc(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n,e){return xg(n,"POST","/v1/accounts:signInWithPassword",Jc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n,e){return xg(n,"POST","/v1/accounts:signInWithEmailLink",Jc(n,e))}async function CC(n,e){return xg(n,"POST","/v1/accounts:signInWithEmailLink",Jc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends a2{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Rd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Rd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V5(e,t,"signInWithPassword",EC);case"emailLink":return NC(e,{email:this._email,oobCode:this._password});default:mo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V5(e,r,"signUpPassword",TC);case"emailLink":return CC(e,{idToken:t,email:this._email,oobCode:this._password});default:mo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(n,e){return xg(n,"POST","/v1/accounts:signInWithIdp",Jc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="http://localhost";class Yc extends a2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=e2(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Yc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Wh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Wh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wh(e,t)}buildRequest(){const e={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PC(n){const e=fd(dd(n)).link,t=e?fd(dd(e)).deep_link_id:null,r=fd(dd(n)).deep_link_id;return(r?fd(dd(r)).link:null)||r||t||e||n}class s2{constructor(e){var t,r,i,s,l,h;const c=fd(dd(e)),d=(t=c.apiKey)!==null&&t!==void 0?t:null,g=(r=c.oobCode)!==null&&r!==void 0?r:null,b=RC((i=c.mode)!==null&&i!==void 0?i:null);Bt(d&&g&&b,"argument-error"),this.apiKey=d,this.operation=b,this.code=g,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=c.lang)!==null&&l!==void 0?l:null,this.tenantId=(h=c.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=PC(e);try{return new s2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this.providerId=pf.PROVIDER_ID}static credential(e,t){return Rd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=s2.parseLink(t);return Bt(r,"argument-error"),Rd._fromEmailAndCode(e,r.code,r.tenantId)}}pf.PROVIDER_ID="password";pf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends JS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Gd{constructor(){super("facebook.com")}static credential(e){return Yc._fromParams({providerId:Gu.PROVIDER_ID,signInMethod:Gu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gu.credentialFromTaggedObject(e)}static credentialFromError(e){return Gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gu.credential(e.oauthAccessToken)}catch{return null}}}Gu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yc._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $u.credential(t,r)}catch{return null}}}$u.GOOGLE_SIGN_IN_METHOD="google.com";$u.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Gd{constructor(){super("github.com")}static credential(e){return Yc._fromParams({providerId:Yu.PROVIDER_ID,signInMethod:Yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yu.credentialFromTaggedObject(e)}static credentialFromError(e){return Yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yu.credential(e.oauthAccessToken)}catch{return null}}}Yu.GITHUB_SIGN_IN_METHOD="github.com";Yu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Gd{constructor(){super("twitter.com")}static credential(e,t){return Yc._fromParams({providerId:Ku.PROVIDER_ID,signInMethod:Ku.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ku.credentialFromTaggedObject(e)}static credentialFromError(e){return Ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ku.credential(t,r)}catch{return null}}}Ku.TWITTER_SIGN_IN_METHOD="twitter.com";Ku.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await fo._fromIdTokenResponse(e,r,i),l=U5(r);return new ef({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=U5(r);return new ef({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function U5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends iu{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Hm(e,t,r,i)}}function ZS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hm._fromErrorAndOperation(n,s,e,r):s})}async function LC(n,e,t=!1){const r=await Id(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ef._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n,e,t=!1){const{auth:r}=n;if(ho(r.app))return Promise.reject(tc(r));const i="reauthenticate";try{const s=await Id(n,ZS(r,i,e,n),t);Bt(s.idToken,r,"internal-error");const l=r2(s.idToken);Bt(l,r,"internal-error");const{sub:h}=l;return Bt(n.uid===h,r,"user-mismatch"),ef._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,e,t=!1){if(ho(n.app))return Promise.reject(tc(n));const r="signIn",i=await ZS(n,r,e),s=await ef._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function OC(n,e){return ex(df(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(n){const e=df(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jC(n,e,t){return ho(n.app)?Promise.reject(tc(n)):OC(hi(n),pf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kC(n),r})}function MC(n,e,t,r){return hi(n).onIdTokenChanged(e,t,r)}function FC(n,e,t){return hi(n).beforeAuthStateChanged(e,t)}function VC(n,e,t,r){return hi(n).onAuthStateChanged(e,t,r)}function BC(n){return hi(n).signOut()}const Wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wm,"1"),this.storage.removeItem(Wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1e3,qC=10;class nx extends tx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,h,c)=>{this.notifyListeners(l,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);sC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qC):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nx.type="LOCAL";const zC=nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx extends tx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rx.type="SESSION";const ix=rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async d=>d(t.origin,s)),c=await HC(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((h,c)=>{const d=o2("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(b){const S=b;if(S.data.eventId===d)switch(S.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),h(S.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(){return window}function GC(n){nl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){return typeof nl().WorkerGlobalScope<"u"&&typeof nl().importScripts=="function"}async function $C(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function KC(){return ax()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebaseLocalStorageDb",QC=1,Gm="firebaseLocalStorage",ox="fbase_key";class $d{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Eg(n,e){return n.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function XC(){const n=indexedDB.deleteDatabase(sx);return new $d(n).toPromise()}function r1(){const n=indexedDB.open(sx,QC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gm,{keyPath:ox})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),await XC(),e(await r1()))})})}async function q5(n,e,t){const r=Eg(n,!0).put({[ox]:e,value:t});return new $d(r).toPromise()}async function JC(n,e){const t=Eg(n,!1).get(e),r=await new $d(t).toPromise();return r===void 0?null:r.value}function z5(n,e){const t=Eg(n,!0).delete(e);return new $d(t).toPromise()}const ZC=800,eI=3;class lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>eI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ax()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(KC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new WC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r1();return await q5(e,Wm,"1"),await z5(e,Wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>q5(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>JC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>z5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Eg(i,!1).getAll();return new $d(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lx.type="LOCAL";const tI=lx;new Wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(n,e){return e?Gl(e):(Bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2 extends a2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rI(n){return ex(n.auth,new l2(n),n.bypassAuthState)}function iI(n){const{auth:e,user:t}=n;return Bt(t,e,"internal-error"),DC(t,new l2(n),n.bypassAuthState)}async function aI(n){const{auth:e,user:t}=n;return Bt(t,e,"internal-error"),LC(t,new l2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:h}=e;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rI;case"linkViaPopup":case"linkViaRedirect":return aI;case"reauthViaPopup":case"reauthViaRedirect":return iI;default:mo(this.auth,"internal-error")}}resolve(e){Jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Wd(2e3,1e4);class Bh extends ux{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Bh.currentPopupAction&&Bh.currentPopupAction.cancel(),Bh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bt(e,this.auth,"internal-error"),e}async onExecution(){Jl(this.filter.length===1,"Popup operations only handle one event");const e=o2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sI.get())};e()}}Bh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="pendingRedirect",Sm=new Map;class lI extends ux{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Sm.get(this.auth._key());if(!e){try{const r=await uI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sm.set(this.auth._key(),e)}return this.bypassAuthState||Sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uI(n,e){const t=fI(e),r=hI(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function cI(n,e){Sm.set(n._key(),e)}function hI(n){return Gl(n._redirectPersistence)}function fI(n){return wm(oI,n.config.apiKey,n.name)}async function dI(n,e,t=!1){if(ho(n.app))return Promise.reject(tc(n));const r=df(n),i=nI(r,e),l=await new lI(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=10*60*1e3;class mI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!cx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(tl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pI&&this.cachedEventUids.clear(),this.cachedEventUids.has(H5(e))}saveEventToCache(e){this.cachedEventUids.add(H5(e)),this.lastProcessedEventTime=Date.now()}}function H5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(n,e={}){return pc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bI=/^https?/;async function _I(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vI(n);for(const t of e)try{if(wI(t))return}catch{}mo(n,"unauthorized-domain")}function wI(n){const e=t1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!bI.test(t))return!1;if(yI.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Wd(3e4,6e4);function W5(){const n=nl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xI(n){return new Promise((e,t)=>{var r,i,s;function l(){W5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W5(),t(tl(n,"network-request-failed"))},timeout:SI.get()})}if(!((i=(r=nl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=nl().gapi)===null||s===void 0)&&s.load)l();else{const h=mC("iframefcb");return nl()[h]=()=>{gapi.load?l():t(tl(n,"network-request-failed"))},KS(`${pC()}?onload=${h}`).catch(c=>t(c))}}).catch(e=>{throw xm=null,e})}let xm=null;function AI(n){return xm=xm||xI(n),xm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Wd(5e3,15e3),EI="__/auth/iframe",NI="emulator/auth/iframe",CI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},II=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RI(n){const e=n.config;Bt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?n2(e,NI):`https://${n.config.authDomain}/${EI}`,r={apiKey:e.apiKey,appName:n.name,v:ff},i=II.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Hd(r).slice(1)}`}async function PI(n){const e=await AI(n),t=nl().gapi;return Bt(t,n,"internal-error"),e.open({where:document.body,url:RI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CI,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=tl(n,"network-request-failed"),h=nl().setTimeout(()=>{s(l)},TI.get());function c(){nl().clearTimeout(h),i(r)}r.ping(c).then(c,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DI=500,OI=600,kI="_blank",jI="http://localhost";class G5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MI(n,e,t,r=DI,i=OI){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const c=Object.assign(Object.assign({},LI),{width:r.toString(),height:i.toString(),top:s,left:l}),d=oa().toLowerCase();t&&(h=qS(d)?kI:t),BS(d)&&(e=e||jI,c.scrollbars="yes");const g=Object.entries(c).reduce((S,[_,E])=>`${S}${_}=${E},`,"");if(aC(d)&&h!=="_self")return FI(e||"",h),new G5(null);const b=window.open(e||"",h,g);Bt(b,n,"popup-blocked");try{b.focus()}catch{}return new G5(b)}function FI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="__/auth/handler",BI="emulator/auth/handler",UI=encodeURIComponent("fac");async function $5(n,e,t,r,i,s){Bt(n.config.authDomain,n,"auth-domain-config-required"),Bt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ff,eventId:i};if(e instanceof JS){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",NN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))l[g]=b}if(e instanceof Gd){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const c=await n._getAppCheckToken(),d=c?`#${UI}=${encodeURIComponent(c)}`:"";return`${qI(n)}?${Hd(h).slice(1)}${d}`}function qI({config:n}){return n.emulator?n2(n,BI):`https://${n.authDomain}/${VI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="webStorageSupport";class zI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ix,this._completeRedirectFn=dI,this._overrideRedirectResult=cI}async _openPopup(e,t,r,i){var s;Jl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await $5(e,t,r,t1(),i);return MI(e,l,o2())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await $5(e,t,r,t1(),i);return GC(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Jl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await PI(e),r=new mI(e);return t.register("authEvent",i=>(Bt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wv,{type:wv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wv];l!==void 0&&t(!!l),mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_I(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $S()||US()||i2()}}const HI=zI;var Y5="@firebase/auth",K5="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $I(n){Zh(new $c("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Bt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YS(n)},d=new hC(r,i,s,c);return wC(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zh(new $c("auth-internal",e=>{const t=df(e.getProvider("auth").getImmediate());return(r=>new WI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ec(Y5,K5,GI(n)),ec(Y5,K5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=5*60,KI=AS("authIdTokenMaxAge")||YI;let Q5=null;const QI=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KI)return;const i=t==null?void 0:t.token;Q5!==i&&(Q5=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XI(n=IS()){const e=Z1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_C(n,{popupRedirectResolver:HI,persistence:[tI,zC,ix]}),r=AS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=QI(s.toString());FC(t,l,()=>l(t.currentUser)),MC(t,h=>l(h))}}const i=SS("auth");return i&&SC(t,`http://${i}`),t}function JI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=tl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",JI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$I("Browser");var ZI="firebase",eR="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ec(ZI,eR,"app");var X5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nc,hx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,L){function F(){}F.prototype=L.prototype,U.D=L.prototype,U.prototype=new F,U.prototype.constructor=U,U.C=function(W,P,O){for(var j=Array(arguments.length-2),se=2;se<arguments.length;se++)j[se-2]=arguments[se];return L.prototype[P].apply(W,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,L,F){F||(F=0);var W=Array(16);if(typeof L=="string")for(var P=0;16>P;++P)W[P]=L.charCodeAt(F++)|L.charCodeAt(F++)<<8|L.charCodeAt(F++)<<16|L.charCodeAt(F++)<<24;else for(P=0;16>P;++P)W[P]=L[F++]|L[F++]<<8|L[F++]<<16|L[F++]<<24;L=U.g[0],F=U.g[1],P=U.g[2];var O=U.g[3],j=L+(O^F&(P^O))+W[0]+3614090360&4294967295;L=F+(j<<7&4294967295|j>>>25),j=O+(P^L&(F^P))+W[1]+3905402710&4294967295,O=L+(j<<12&4294967295|j>>>20),j=P+(F^O&(L^F))+W[2]+606105819&4294967295,P=O+(j<<17&4294967295|j>>>15),j=F+(L^P&(O^L))+W[3]+3250441966&4294967295,F=P+(j<<22&4294967295|j>>>10),j=L+(O^F&(P^O))+W[4]+4118548399&4294967295,L=F+(j<<7&4294967295|j>>>25),j=O+(P^L&(F^P))+W[5]+1200080426&4294967295,O=L+(j<<12&4294967295|j>>>20),j=P+(F^O&(L^F))+W[6]+2821735955&4294967295,P=O+(j<<17&4294967295|j>>>15),j=F+(L^P&(O^L))+W[7]+4249261313&4294967295,F=P+(j<<22&4294967295|j>>>10),j=L+(O^F&(P^O))+W[8]+1770035416&4294967295,L=F+(j<<7&4294967295|j>>>25),j=O+(P^L&(F^P))+W[9]+2336552879&4294967295,O=L+(j<<12&4294967295|j>>>20),j=P+(F^O&(L^F))+W[10]+4294925233&4294967295,P=O+(j<<17&4294967295|j>>>15),j=F+(L^P&(O^L))+W[11]+2304563134&4294967295,F=P+(j<<22&4294967295|j>>>10),j=L+(O^F&(P^O))+W[12]+1804603682&4294967295,L=F+(j<<7&4294967295|j>>>25),j=O+(P^L&(F^P))+W[13]+4254626195&4294967295,O=L+(j<<12&4294967295|j>>>20),j=P+(F^O&(L^F))+W[14]+2792965006&4294967295,P=O+(j<<17&4294967295|j>>>15),j=F+(L^P&(O^L))+W[15]+1236535329&4294967295,F=P+(j<<22&4294967295|j>>>10),j=L+(P^O&(F^P))+W[1]+4129170786&4294967295,L=F+(j<<5&4294967295|j>>>27),j=O+(F^P&(L^F))+W[6]+3225465664&4294967295,O=L+(j<<9&4294967295|j>>>23),j=P+(L^F&(O^L))+W[11]+643717713&4294967295,P=O+(j<<14&4294967295|j>>>18),j=F+(O^L&(P^O))+W[0]+3921069994&4294967295,F=P+(j<<20&4294967295|j>>>12),j=L+(P^O&(F^P))+W[5]+3593408605&4294967295,L=F+(j<<5&4294967295|j>>>27),j=O+(F^P&(L^F))+W[10]+38016083&4294967295,O=L+(j<<9&4294967295|j>>>23),j=P+(L^F&(O^L))+W[15]+3634488961&4294967295,P=O+(j<<14&4294967295|j>>>18),j=F+(O^L&(P^O))+W[4]+3889429448&4294967295,F=P+(j<<20&4294967295|j>>>12),j=L+(P^O&(F^P))+W[9]+568446438&4294967295,L=F+(j<<5&4294967295|j>>>27),j=O+(F^P&(L^F))+W[14]+3275163606&4294967295,O=L+(j<<9&4294967295|j>>>23),j=P+(L^F&(O^L))+W[3]+4107603335&4294967295,P=O+(j<<14&4294967295|j>>>18),j=F+(O^L&(P^O))+W[8]+1163531501&4294967295,F=P+(j<<20&4294967295|j>>>12),j=L+(P^O&(F^P))+W[13]+2850285829&4294967295,L=F+(j<<5&4294967295|j>>>27),j=O+(F^P&(L^F))+W[2]+4243563512&4294967295,O=L+(j<<9&4294967295|j>>>23),j=P+(L^F&(O^L))+W[7]+1735328473&4294967295,P=O+(j<<14&4294967295|j>>>18),j=F+(O^L&(P^O))+W[12]+2368359562&4294967295,F=P+(j<<20&4294967295|j>>>12),j=L+(F^P^O)+W[5]+4294588738&4294967295,L=F+(j<<4&4294967295|j>>>28),j=O+(L^F^P)+W[8]+2272392833&4294967295,O=L+(j<<11&4294967295|j>>>21),j=P+(O^L^F)+W[11]+1839030562&4294967295,P=O+(j<<16&4294967295|j>>>16),j=F+(P^O^L)+W[14]+4259657740&4294967295,F=P+(j<<23&4294967295|j>>>9),j=L+(F^P^O)+W[1]+2763975236&4294967295,L=F+(j<<4&4294967295|j>>>28),j=O+(L^F^P)+W[4]+1272893353&4294967295,O=L+(j<<11&4294967295|j>>>21),j=P+(O^L^F)+W[7]+4139469664&4294967295,P=O+(j<<16&4294967295|j>>>16),j=F+(P^O^L)+W[10]+3200236656&4294967295,F=P+(j<<23&4294967295|j>>>9),j=L+(F^P^O)+W[13]+681279174&4294967295,L=F+(j<<4&4294967295|j>>>28),j=O+(L^F^P)+W[0]+3936430074&4294967295,O=L+(j<<11&4294967295|j>>>21),j=P+(O^L^F)+W[3]+3572445317&4294967295,P=O+(j<<16&4294967295|j>>>16),j=F+(P^O^L)+W[6]+76029189&4294967295,F=P+(j<<23&4294967295|j>>>9),j=L+(F^P^O)+W[9]+3654602809&4294967295,L=F+(j<<4&4294967295|j>>>28),j=O+(L^F^P)+W[12]+3873151461&4294967295,O=L+(j<<11&4294967295|j>>>21),j=P+(O^L^F)+W[15]+530742520&4294967295,P=O+(j<<16&4294967295|j>>>16),j=F+(P^O^L)+W[2]+3299628645&4294967295,F=P+(j<<23&4294967295|j>>>9),j=L+(P^(F|~O))+W[0]+4096336452&4294967295,L=F+(j<<6&4294967295|j>>>26),j=O+(F^(L|~P))+W[7]+1126891415&4294967295,O=L+(j<<10&4294967295|j>>>22),j=P+(L^(O|~F))+W[14]+2878612391&4294967295,P=O+(j<<15&4294967295|j>>>17),j=F+(O^(P|~L))+W[5]+4237533241&4294967295,F=P+(j<<21&4294967295|j>>>11),j=L+(P^(F|~O))+W[12]+1700485571&4294967295,L=F+(j<<6&4294967295|j>>>26),j=O+(F^(L|~P))+W[3]+2399980690&4294967295,O=L+(j<<10&4294967295|j>>>22),j=P+(L^(O|~F))+W[10]+4293915773&4294967295,P=O+(j<<15&4294967295|j>>>17),j=F+(O^(P|~L))+W[1]+2240044497&4294967295,F=P+(j<<21&4294967295|j>>>11),j=L+(P^(F|~O))+W[8]+1873313359&4294967295,L=F+(j<<6&4294967295|j>>>26),j=O+(F^(L|~P))+W[15]+4264355552&4294967295,O=L+(j<<10&4294967295|j>>>22),j=P+(L^(O|~F))+W[6]+2734768916&4294967295,P=O+(j<<15&4294967295|j>>>17),j=F+(O^(P|~L))+W[13]+1309151649&4294967295,F=P+(j<<21&4294967295|j>>>11),j=L+(P^(F|~O))+W[4]+4149444226&4294967295,L=F+(j<<6&4294967295|j>>>26),j=O+(F^(L|~P))+W[11]+3174756917&4294967295,O=L+(j<<10&4294967295|j>>>22),j=P+(L^(O|~F))+W[2]+718787259&4294967295,P=O+(j<<15&4294967295|j>>>17),j=F+(O^(P|~L))+W[9]+3951481745&4294967295,U.g[0]=U.g[0]+L&4294967295,U.g[1]=U.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,U.g[2]=U.g[2]+P&4294967295,U.g[3]=U.g[3]+O&4294967295}r.prototype.u=function(U,L){L===void 0&&(L=U.length);for(var F=L-this.blockSize,W=this.B,P=this.h,O=0;O<L;){if(P==0)for(;O<=F;)i(this,U,O),O+=this.blockSize;if(typeof U=="string"){for(;O<L;)if(W[P++]=U.charCodeAt(O++),P==this.blockSize){i(this,W),P=0;break}}else for(;O<L;)if(W[P++]=U[O++],P==this.blockSize){i(this,W),P=0;break}}this.h=P,this.o+=L},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var L=1;L<U.length-8;++L)U[L]=0;var F=8*this.o;for(L=U.length-8;L<U.length;++L)U[L]=F&255,F/=256;for(this.u(U),U=Array(16),L=F=0;4>L;++L)for(var W=0;32>W;W+=8)U[F++]=this.g[L]>>>W&255;return U};function s(U,L){var F=h;return Object.prototype.hasOwnProperty.call(F,U)?F[U]:F[U]=L(U)}function l(U,L){this.h=L;for(var F=[],W=!0,P=U.length-1;0<=P;P--){var O=U[P]|0;W&&O==L||(F[P]=O,W=!1)}this.g=F}var h={};function c(U){return-128<=U&&128>U?s(U,function(L){return new l([L|0],0>L?-1:0)}):new l([U|0],0>U?-1:0)}function d(U){if(isNaN(U)||!isFinite(U))return b;if(0>U)return R(d(-U));for(var L=[],F=1,W=0;U>=F;W++)L[W]=U/F|0,F*=4294967296;return new l(L,0)}function g(U,L){if(U.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(U.charAt(0)=="-")return R(g(U.substring(1),L));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=d(Math.pow(L,8)),W=b,P=0;P<U.length;P+=8){var O=Math.min(8,U.length-P),j=parseInt(U.substring(P,P+O),L);8>O?(O=d(Math.pow(L,O)),W=W.j(O).add(d(j))):(W=W.j(F),W=W.add(d(j)))}return W}var b=c(0),S=c(1),_=c(16777216);n=l.prototype,n.m=function(){if(C(this))return-R(this).m();for(var U=0,L=1,F=0;F<this.g.length;F++){var W=this.i(F);U+=(0<=W?W:4294967296+W)*L,L*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(E(this))return"0";if(C(this))return"-"+R(this).toString(U);for(var L=d(Math.pow(U,6)),F=this,W="";;){var P=ae(F,L).g;F=I(F,P.j(L));var O=((0<F.g.length?F.g[0]:F.h)>>>0).toString(U);if(F=P,E(F))return O+W;for(;6>O.length;)O="0"+O;W=O+W}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function E(U){if(U.h!=0)return!1;for(var L=0;L<U.g.length;L++)if(U.g[L]!=0)return!1;return!0}function C(U){return U.h==-1}n.l=function(U){return U=I(this,U),C(U)?-1:E(U)?0:1};function R(U){for(var L=U.g.length,F=[],W=0;W<L;W++)F[W]=~U.g[W];return new l(F,~U.h).add(S)}n.abs=function(){return C(this)?R(this):this},n.add=function(U){for(var L=Math.max(this.g.length,U.g.length),F=[],W=0,P=0;P<=L;P++){var O=W+(this.i(P)&65535)+(U.i(P)&65535),j=(O>>>16)+(this.i(P)>>>16)+(U.i(P)>>>16);W=j>>>16,O&=65535,j&=65535,F[P]=j<<16|O}return new l(F,F[F.length-1]&-2147483648?-1:0)};function I(U,L){return U.add(R(L))}n.j=function(U){if(E(this)||E(U))return b;if(C(this))return C(U)?R(this).j(R(U)):R(R(this).j(U));if(C(U))return R(this.j(R(U)));if(0>this.l(_)&&0>U.l(_))return d(this.m()*U.m());for(var L=this.g.length+U.g.length,F=[],W=0;W<2*L;W++)F[W]=0;for(W=0;W<this.g.length;W++)for(var P=0;P<U.g.length;P++){var O=this.i(W)>>>16,j=this.i(W)&65535,se=U.i(P)>>>16,Se=U.i(P)&65535;F[2*W+2*P]+=j*Se,B(F,2*W+2*P),F[2*W+2*P+1]+=O*Se,B(F,2*W+2*P+1),F[2*W+2*P+1]+=j*se,B(F,2*W+2*P+1),F[2*W+2*P+2]+=O*se,B(F,2*W+2*P+2)}for(W=0;W<L;W++)F[W]=F[2*W+1]<<16|F[2*W];for(W=L;W<2*L;W++)F[W]=0;return new l(F,0)};function B(U,L){for(;(U[L]&65535)!=U[L];)U[L+1]+=U[L]>>>16,U[L]&=65535,L++}function H(U,L){this.g=U,this.h=L}function ae(U,L){if(E(L))throw Error("division by zero");if(E(U))return new H(b,b);if(C(U))return L=ae(R(U),L),new H(R(L.g),R(L.h));if(C(L))return L=ae(U,R(L)),new H(R(L.g),L.h);if(30<U.g.length){if(C(U)||C(L))throw Error("slowDivide_ only works with positive integers.");for(var F=S,W=L;0>=W.l(U);)F=$(F),W=$(W);var P=ce(F,1),O=ce(W,1);for(W=ce(W,2),F=ce(F,2);!E(W);){var j=O.add(W);0>=j.l(U)&&(P=P.add(F),O=j),W=ce(W,1),F=ce(F,1)}return L=I(U,P.j(L)),new H(P,L)}for(P=b;0<=U.l(L);){for(F=Math.max(1,Math.floor(U.m()/L.m())),W=Math.ceil(Math.log(F)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),O=d(F),j=O.j(L);C(j)||0<j.l(U);)F-=W,O=d(F),j=O.j(L);E(O)&&(O=S),P=P.add(O),U=I(U,j)}return new H(P,U)}n.A=function(U){return ae(this,U).h},n.and=function(U){for(var L=Math.max(this.g.length,U.g.length),F=[],W=0;W<L;W++)F[W]=this.i(W)&U.i(W);return new l(F,this.h&U.h)},n.or=function(U){for(var L=Math.max(this.g.length,U.g.length),F=[],W=0;W<L;W++)F[W]=this.i(W)|U.i(W);return new l(F,this.h|U.h)},n.xor=function(U){for(var L=Math.max(this.g.length,U.g.length),F=[],W=0;W<L;W++)F[W]=this.i(W)^U.i(W);return new l(F,this.h^U.h)};function $(U){for(var L=U.g.length+1,F=[],W=0;W<L;W++)F[W]=U.i(W)<<1|U.i(W-1)>>>31;return new l(F,U.h)}function ce(U,L){var F=L>>5;L%=32;for(var W=U.g.length-F,P=[],O=0;O<W;O++)P[O]=0<L?U.i(O+F)>>>L|U.i(O+F+1)<<32-L:U.i(O+F);return new l(P,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,nc=l}).apply(typeof X5<"u"?X5:typeof self<"u"?self:typeof window<"u"?window:{});var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fx,pd,dx,Am,i1,px,mx,gx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,N,k){return m==Array.prototype||m==Object.prototype||(m[N]=k.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof tm=="object"&&tm];for(var N=0;N<m.length;++N){var k=m[N];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function i(m,N){if(N)e:{var k=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var we=m[J];if(!(we in k))break e;k=k[we]}m=m[m.length-1],J=k[m],N=N(J),N!=J&&N!=null&&e(k,m,{configurable:!0,writable:!0,value:N})}}function s(m,N){m instanceof String&&(m+="");var k=0,J=!1,we={next:function(){if(!J&&k<m.length){var De=k++;return{value:N(De,m[De]),done:!1}}return J=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(m){return m||function(){return s(this,function(N,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function c(m){var N=typeof m;return N=N!="object"?N:m?Array.isArray(m)?"array":N:"null",N=="array"||N=="object"&&typeof m.length=="number"}function d(m){var N=typeof m;return N=="object"&&m!=null||N=="function"}function g(m,N,k){return m.call.apply(m.bind,arguments)}function b(m,N,k){if(!m)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,J),m.apply(N,we)}}return function(){return m.apply(N,arguments)}}function S(m,N,k){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:b,S.apply(null,arguments)}function _(m,N){var k=Array.prototype.slice.call(arguments,1);return function(){var J=k.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function E(m,N){function k(){}k.prototype=N.prototype,m.aa=N.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(J,we,De){for(var Xe=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)Xe[Lt-2]=arguments[Lt];return N.prototype[we].apply(J,Xe)}}function C(m){const N=m.length;if(0<N){const k=Array(N);for(let J=0;J<N;J++)k[J]=m[J];return k}return[]}function R(m,N){for(let k=1;k<arguments.length;k++){const J=arguments[k];if(c(J)){const we=m.length||0,De=J.length||0;m.length=we+De;for(let Xe=0;Xe<De;Xe++)m[we+Xe]=J[Xe]}else m.push(J)}}class I{constructor(N,k){this.i=N,this.j=k,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function B(m){return/^[\s\xa0]*$/.test(m)}function H(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function ae(m){return ae[" "](m),m}ae[" "]=function(){};var $=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ce(m,N,k){for(const J in m)N.call(k,m[J],J,m)}function U(m,N){for(const k in m)N.call(void 0,m[k],k,m)}function L(m){const N={};for(const k in m)N[k]=m[k];return N}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(m,N){let k,J;for(let we=1;we<arguments.length;we++){J=arguments[we];for(k in J)m[k]=J[k];for(let De=0;De<F.length;De++)k=F[De],Object.prototype.hasOwnProperty.call(J,k)&&(m[k]=J[k])}}function P(m){var N=1;m=m.split(":");const k=[];for(;0<N&&m.length;)k.push(m.shift()),N--;return m.length&&k.push(m.join(":")),k}function O(m){h.setTimeout(()=>{throw m},0)}function j(){var m=_e;let N=null;return m.g&&(N=m.g,m.g=m.g.next,m.g||(m.h=null),N.next=null),N}class se{constructor(){this.h=this.g=null}add(N,k){const J=Se.get();J.set(N,k),this.h?this.h.next=J:this.g=J,this.h=J}}var Se=new I(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(N,k){this.h=N,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let le,he=!1,_e=new se,Q=()=>{const m=h.Promise.resolve(void 0);le=()=>{m.then(xe)}};var xe=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(k){O(k)}var N=Se;N.j(m),100>N.h&&(N.h++,m.next=N.g,N.g=m)}he=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(m,N){this.type=m,this.g=this.target=N,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,N=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};h.addEventListener("test",k,N),h.removeEventListener("test",k,N)}catch{}return m}();function ue(m,N){if(K.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=N,N=m.relatedTarget){if($){e:{try{ae(N.nodeName);var we=!0;break e}catch{}we=!1}we||(N=null)}}else k=="mouseover"?N=m.fromElement:k=="mouseout"&&(N=m.toElement);this.relatedTarget=N,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:fe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}E(ue,K);var fe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Le(m,N,k,J,we){this.listener=m,this.proxy=null,this.src=N,this.type=k,this.capture=!!J,this.ha=we,this.key=++Te,this.da=this.fa=!1}function Je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Qe(m){this.src=m,this.g={},this.h=0}Qe.prototype.add=function(m,N,k,J,we){var De=m.toString();m=this.g[De],m||(m=this.g[De]=[],this.h++);var Xe=et(m,N,J,we);return-1<Xe?(N=m[Xe],k||(N.fa=!1)):(N=new Le(N,this.src,De,!!J,we),N.fa=k,m.push(N)),N};function nt(m,N){var k=N.type;if(k in m.g){var J=m.g[k],we=Array.prototype.indexOf.call(J,N,void 0),De;(De=0<=we)&&Array.prototype.splice.call(J,we,1),De&&(Je(N),m.g[k].length==0&&(delete m.g[k],m.h--))}}function et(m,N,k,J){for(var we=0;we<m.length;++we){var De=m[we];if(!De.da&&De.listener==N&&De.capture==!!k&&De.ha==J)return we}return-1}var _t="closure_lm_"+(1e6*Math.random()|0),Fe={};function de(m,N,k,J,we){if(Array.isArray(N)){for(var De=0;De<N.length;De++)de(m,N[De],k,J,we);return null}return k=zt(k),m&&m[Ne]?m.K(N,k,d(J)?!!J.capture:!1,we):xt(m,N,k,!1,J,we)}function xt(m,N,k,J,we,De){if(!N)throw Error("Invalid event type");var Xe=d(we)?!!we.capture:!!we,Lt=vt(m);if(Lt||(m[_t]=Lt=new Qe(m)),k=Lt.add(N,k,J,Xe,De),k.proxy)return k;if(J=ft(),k.proxy=J,J.src=m,J.listener=k,m.addEventListener)te||(we=Xe),we===void 0&&(we=!1),m.addEventListener(N.toString(),J,we);else if(m.attachEvent)m.attachEvent(st(N.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return k}function ft(){function m(k){return N.call(m.src,m.listener,k)}const N=ot;return m}function Ze(m,N,k,J,we){if(Array.isArray(N))for(var De=0;De<N.length;De++)Ze(m,N[De],k,J,we);else J=d(J)?!!J.capture:!!J,k=zt(k),m&&m[Ne]?(m=m.i,N=String(N).toString(),N in m.g&&(De=m.g[N],k=et(De,k,J,we),-1<k&&(Je(De[k]),Array.prototype.splice.call(De,k,1),De.length==0&&(delete m.g[N],m.h--)))):m&&(m=vt(m))&&(N=m.g[N.toString()],m=-1,N&&(m=et(N,k,J,we)),(k=-1<m?N[m]:null)&&tt(k))}function tt(m){if(typeof m!="number"&&m&&!m.da){var N=m.src;if(N&&N[Ne])nt(N.i,m);else{var k=m.type,J=m.proxy;N.removeEventListener?N.removeEventListener(k,J,m.capture):N.detachEvent?N.detachEvent(st(k),J):N.addListener&&N.removeListener&&N.removeListener(J),(k=vt(N))?(nt(k,m),k.h==0&&(k.src=null,N[_t]=null)):Je(m)}}}function st(m){return m in Fe?Fe[m]:Fe[m]="on"+m}function ot(m,N){if(m.da)m=!0;else{N=new ue(N,this);var k=m.listener,J=m.ha||m.src;m.fa&&tt(m),m=k.call(J,N)}return m}function vt(m){return m=m[_t],m instanceof Qe?m:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(m){return typeof m=="function"?m:(m[Ot]||(m[Ot]=function(N){return m.handleEvent(N)}),m[Ot])}function bt(){M.call(this),this.i=new Qe(this),this.M=this,this.F=null}E(bt,M),bt.prototype[Ne]=!0,bt.prototype.removeEventListener=function(m,N,k,J){Ze(this,m,N,k,J)};function gt(m,N){var k,J=m.F;if(J)for(k=[];J;J=J.F)k.push(J);if(m=m.M,J=N.type||N,typeof N=="string")N=new K(N,m);else if(N instanceof K)N.target=N.target||m;else{var we=N;N=new K(J,m),W(N,we)}if(we=!0,k)for(var De=k.length-1;0<=De;De--){var Xe=N.g=k[De];we=Yt(Xe,J,!0,N)&&we}if(Xe=N.g=m,we=Yt(Xe,J,!0,N)&&we,we=Yt(Xe,J,!1,N)&&we,k)for(De=0;De<k.length;De++)Xe=N.g=k[De],we=Yt(Xe,J,!1,N)&&we}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var m=this.i,N;for(N in m.g){for(var k=m.g[N],J=0;J<k.length;J++)Je(k[J]);delete m.g[N],m.h--}}this.F=null},bt.prototype.K=function(m,N,k,J){return this.i.add(String(m),N,!1,k,J)},bt.prototype.L=function(m,N,k,J){return this.i.add(String(m),N,!0,k,J)};function Yt(m,N,k,J){if(N=m.i.g[String(N)],!N)return!0;N=N.concat();for(var we=!0,De=0;De<N.length;++De){var Xe=N[De];if(Xe&&!Xe.da&&Xe.capture==k){var Lt=Xe.listener,sn=Xe.ha||Xe.src;Xe.fa&&nt(m.i,Xe),we=Lt.call(sn,J)!==!1&&we}}return we&&!J.defaultPrevented}function dt(m,N,k){if(typeof m=="function")k&&(m=S(m,k));else if(m&&typeof m.handleEvent=="function")m=S(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:h.setTimeout(m,N||0)}function Kt(m){m.g=dt(()=>{m.g=null,m.i&&(m.i=!1,Kt(m))},m.l);const N=m.h;m.h=null,m.m.apply(null,N)}class lt extends M{constructor(N,k){super(),this.m=N,this.l=k,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(m){M.call(this),this.h=m,this.g={}}E(ar,M);var Jt=[];function ti(m){ce(m.g,function(N,k){this.g.hasOwnProperty(k)&&tt(N)},m),m.g={}}ar.prototype.N=function(){ar.aa.N.call(this),ti(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=h.JSON.stringify,Rn=h.JSON.parse,di=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function cn(){}cn.prototype.h=null;function ja(m){return m.h||(m.h=m.i())}function qn(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){K.call(this,"d")}E(ni,K);function zn(){K.call(this,"c")}E(zn,K);var At={},hn=null;function Bi(){return hn=hn||new bt}At.La="serverreachability";function sr(m){K.call(this,At.La,m)}E(sr,K);function ri(m){const N=Bi();gt(N,new sr(N))}At.STAT_EVENT="statevent";function la(m,N){K.call(this,At.STAT_EVENT,m),this.stat=N}E(la,K);function ut(m){const N=Bi();gt(N,new la(N,m))}At.Ma="timingevent";function Pn(m,N){K.call(this,At.Ma,m),this.size=N}E(Pn,K);function Ln(m,N){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},N)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function nr(m,N,k,J,we,De){m.info(function(){if(m.g)if(De)for(var Xe="",Lt=De.split("&"),sn=0;sn<Lt.length;sn++){var Ht=Lt[sn].split("=");if(1<Ht.length){var Tn=Ht[0];Ht=Ht[1];var kn=Tn.split("_");Xe=2<=kn.length&&kn[1]=="type"?Xe+(Tn+"="+Ht+"&"):Xe+(Tn+"=redacted&")}}else Xe=null;else Xe=De;return"XMLHTTP REQ ("+J+") [attempt "+we+"]: "+N+`
`+k+`
`+Xe})}function or(m,N,k,J,we,De,Xe){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+we+"]: "+N+`
`+k+`
`+De+" "+Xe})}function _r(m,N,k,J){m.info(function(){return"XMLHTTP TEXT ("+N+"): "+Ni(m,k)+(J?" "+J:"")})}function ks(m,N){m.info(function(){return"TIMEOUT: "+N})}Kn.prototype.info=function(){};function Ni(m,N){if(!m.g)return N;if(!N)return null;try{var k=JSON.parse(N);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var J=k[m];if(!(2>J.length)){var we=J[1];if(Array.isArray(we)&&!(1>we.length)){var De=we[0];if(De!="noop"&&De!="stop"&&De!="close")for(var Xe=1;Xe<we.length;Xe++)we[Xe]=""}}}}return en(k)}catch{return N}}var Wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function Lr(){}E(Lr,cn),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},wr=new Lr;function Hn(m,N,k,J){this.j=m,this.i=N,this.l=k,this.R=J||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var Ma={},Fa={};function pi(m,N,k){m.L=1,m.v=fs(ai(N)),m.m=k,m.P=!0,Ui(m,null)}function Ui(m,N){m.F=Date.now(),Ms(m),m.A=ai(m.v);var k=m.A,J=m.R;Array.isArray(J)||(J=[String(J)]),Pt(k.i,"t",J),m.C=0,k=m.j.J,m.h=new xn,m.g=z(m.j,k?N:null,!m.m),0<m.O&&(m.M=new lt(S(m.Y,m,m.g),m.O)),N=m.U,k=m.g,J=m.ca;var we="readystatechange";Array.isArray(we)||(we&&(Jt[0]=we.toString()),we=Jt);for(var De=0;De<we.length;De++){var Xe=de(k,we[De],J||N.handleEvent,!1,N.h||N);if(!Xe)break;N.g[Xe.key]=Xe}N=m.H?L(m.H):{},m.m?(m.u||(m.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,N)):(m.u="GET",m.g.ea(m.A,m.u,null,N)),ri(),nr(m.i,m.u,m.A,m.l,m.R,m.m)}Hn.prototype.ca=function(m){m=m.target;const N=this.M;N&&xr(m)==3?N.j():this.Y(m)},Hn.prototype.Y=function(m){try{if(m==this.g)e:{const kn=xr(this.g);var N=this.g.Ba();const Ta=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||kn!=4||N==7||(N==8||0>=Ta?ri(3):ri(2)),ua(this);var k=this.g.Z();this.X=k;t:if(js(this)){var J=hu(this.g);m="";var we=J.length,De=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),ca(this);var Xe="";break t}this.h.i=new h.TextDecoder}for(N=0;N<we;N++)this.h.h=!0,m+=this.h.i.decode(J[N],{stream:!(De&&N==we-1)});J.length=0,this.h.g+=m,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=k==200,or(this.i,this.u,this.A,this.l,this.R,kn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,sn=this.g;if((Lt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Lt)){var Ht=Lt;break t}}Ht=null}if(k=Ht)_r(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Va(this,k);else{this.o=!1,this.s=3,ut(12),Dr(this),ca(this);break e}}if(this.P){k=!0;let pr;for(;!this.J&&this.C<Xe.length;)if(pr=cl(this,Xe),pr==Fa){kn==4&&(this.s=4,ut(14),k=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==Ma){this.s=4,ut(15),_r(this.i,this.l,Xe,"[Invalid Chunk]"),k=!1;break}else _r(this.i,this.l,pr,null),Va(this,pr);if(js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||Xe.length!=0||this.h.h||(this.s=1,ut(16),k=!1),this.o=this.o&&k,!k)_r(this.i,this.l,Xe,"[Invalid Chunked Response]"),Dr(this),ca(this);else if(0<Xe.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),ys(Tn),Tn.M=!0,ut(11))}}else _r(this.i,this.l,Xe,null),Va(this,Xe);kn==4&&Dr(this),this.o&&!this.J&&(kn==4?bs(this.j,this):(this.o=!1,Ms(this)))}else ms(this.g),k==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Dr(this),ca(this)}}}catch{}finally{}};function js(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function cl(m,N){var k=m.C,J=N.indexOf(`
`,k);return J==-1?Fa:(k=Number(N.substring(k,J)),isNaN(k)?Ma:(J+=1,J+k>N.length?Fa:(N=N.slice(J,J+k),m.C=J+k,N)))}Hn.prototype.cancel=function(){this.J=!0,Dr(this)};function Ms(m){m.S=Date.now()+m.I,su(m,m.I)}function su(m,N){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ln(S(m.ba,m),N)}function ua(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Hn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ks(this.i,this.A),this.L!=2&&(ri(),ut(17)),Dr(this),this.s=2,ca(this)):su(this,this.S-m)};function ca(m){m.j.G==0||m.J||bs(m.j,m)}function Dr(m){ua(m);var N=m.M;N&&typeof N.ma=="function"&&N.ma(),m.M=null,ti(m.U),m.g&&(N=m.g,m.g=null,N.abort(),N.ma())}function Va(m,N){try{var k=m.j;if(k.G!=0&&(k.g==m||hl(k.h,m))){if(!m.K&&hl(k.h,m)&&k.G==3){try{var J=k.Da.g.parse(N)}catch{J=null}if(Array.isArray(J)&&J.length==3){var we=J;if(we[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)$a(k),xo(k);else break e;zs(k),ut(18)}}else k.za=we[1],0<k.za-k.T&&37500>we[2]&&k.F&&k.v==0&&!k.C&&(k.C=Ln(S(k.Za,k),6e3));if(1>=Ba(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else yi(k,11)}else if((m.K||k.g==m)&&$a(k),!B(N))for(we=k.Da.g.parse(N),N=0;N<we.length;N++){let Ht=we[N];if(k.T=Ht[0],Ht=Ht[1],k.G==2)if(Ht[0]=="c"){k.K=Ht[1],k.ia=Ht[2];const Tn=Ht[3];Tn!=null&&(k.la=Tn,k.j.info("VER="+k.la));const kn=Ht[4];kn!=null&&(k.Aa=kn,k.j.info("SVER="+k.Aa));const Ta=Ht[5];Ta!=null&&typeof Ta=="number"&&0<Ta&&(J=1.5*Ta,k.L=J,k.j.info("backChannelRequestTimeoutMs_="+J)),J=k;const pr=m.g;if(pr){const Gi=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var De=J.h;De.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Wn(De,De.h),De.h=null))}if(J.D){const _s=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;_s&&(J.ya=_s,An(J.I,J.D,_s))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),J=k;var Xe=m;if(J.qa=x(J,J.J?J.ia:null,J.W),Xe.K){Gr(J.h,Xe);var Lt=Xe,sn=J.L;sn&&(Lt.I=sn),Lt.B&&(ua(Lt),Ms(Lt)),J.g=Xe}else To(J);0<k.i.length&&Ao(k)}else Ht[0]!="stop"&&Ht[0]!="close"||yi(k,7);else k.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?yi(k,7):Ga(k):Ht[0]!="noop"&&k.l&&k.l.ta(Ht),k.v=0)}}ri(4)}catch{}}var ou=class{constructor(m,N){this.g=m,this.map=N}};function va(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ba(m){return m.h?1:m.g?m.g.size:0}function hl(m,N){return m.h?m.h==N:m.g?m.g.has(N):!1}function Wn(m,N){m.g?m.g.add(N):m.h=N}function Gr(m,N){m.h&&m.h==N?m.h=null:m.g&&m.g.has(N)&&m.g.delete(N)}va.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function _o(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let N=m.i;for(const k of m.g.values())N=N.concat(k.D);return N}return C(m.i)}function lu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var N=[],k=m.length,J=0;J<k;J++)N.push(m[J]);return N}N=[],k=0;for(J in m)N[k++]=m[J];return N}function us(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var N=[];m=m.length;for(var k=0;k<m;k++)N.push(k);return N}N=[],k=0;for(const J in m)N[k++]=J;return N}}}function fl(m,N){if(m.forEach&&typeof m.forEach=="function")m.forEach(N,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,N,void 0);else for(var k=us(m),J=lu(m),we=J.length,De=0;De<we;De++)N.call(void 0,J[De],k&&k[De],m)}var ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(m,N){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var J=m[k].indexOf("="),we=null;if(0<=J){var De=m[k].substring(0,J);we=m[k].substring(J+1)}else De=m[k];N(De,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function pn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof pn){this.h=m.h,cs(this,m.j),this.o=m.o,this.g=m.g,hs(this,m.s),this.l=m.l;var N=m.i,k=new ba;k.i=N.i,N.g&&(k.g=new Map(N.g),k.h=N.h),ya(this,k),this.m=m.m}else m&&(N=String(m).match(ii))?(this.h=!1,cs(this,N[1]||"",!0),this.o=qi(N[2]||""),this.g=qi(N[3]||"",!0),hs(this,N[4]),this.l=qi(N[5]||"",!0),ya(this,N[6]||"",!0),this.m=qi(N[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}pn.prototype.toString=function(){var m=[],N=this.j;N&&m.push(Ua(N,dl,!0),":");var k=this.g;return(k||N=="file")&&(m.push("//"),(N=this.o)&&m.push(Ua(N,dl,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(Ua(k,k.charAt(0)=="/"?qa:pl,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",Ua(k,za)),m.join("")};function ai(m){return new pn(m)}function cs(m,N,k){m.j=k?qi(N,!0):N,m.j&&(m.j=m.j.replace(/:$/,""))}function hs(m,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);m.s=N}else m.s=null}function ya(m,N,k){N instanceof ba?(m.i=N,cu(m.i,m.h)):(k||(N=Ua(N,So)),m.i=new ba(N,m.h))}function An(m,N,k){m.i.set(N,k)}function fs(m){return An(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qi(m,N){return m?N?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ua(m,N,k){return typeof m=="string"?(m=encodeURI(m).replace(N,uu),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function uu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var dl=/[#\/\?@]/g,pl=/[#\?:]/g,qa=/[#\?]/g,So=/[#\?@]/g,za=/#/g;function ba(m,N){this.h=this.g=null,this.i=m||null,this.j=!!N}function Fn(m){m.g||(m.g=new Map,m.h=0,m.i&&wo(m.i,function(N,k){m.add(decodeURIComponent(N.replace(/\+/g," ")),k)}))}n=ba.prototype,n.add=function(m,N){Fn(this),this.i=null,m=wa(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(N),this.h+=1,this};function Ha(m,N){Fn(m),N=wa(m,N),m.g.has(N)&&(m.i=null,m.h-=m.g.get(N).length,m.g.delete(N))}function _a(m,N){return Fn(m),N=wa(m,N),m.g.has(N)}n.forEach=function(m,N){Fn(this),this.g.forEach(function(k,J){k.forEach(function(we){m.call(N,we,J,this)},this)},this)},n.na=function(){Fn(this);const m=Array.from(this.g.values()),N=Array.from(this.g.keys()),k=[];for(let J=0;J<N.length;J++){const we=m[J];for(let De=0;De<we.length;De++)k.push(N[J])}return k},n.V=function(m){Fn(this);let N=[];if(typeof m=="string")_a(this,m)&&(N=N.concat(this.g.get(wa(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)N=N.concat(m[k])}return N},n.set=function(m,N){return Fn(this),this.i=null,m=wa(this,m),_a(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[N]),this.h+=1,this},n.get=function(m,N){return m?(m=this.V(m),0<m.length?String(m[0]):N):N};function Pt(m,N,k){Ha(m,N),0<k.length&&(m.i=null,m.g.set(wa(m,N),C(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],N=Array.from(this.g.keys());for(var k=0;k<N.length;k++){var J=N[k];const De=encodeURIComponent(String(J)),Xe=this.V(J);for(J=0;J<Xe.length;J++){var we=De;Xe[J]!==""&&(we+="="+encodeURIComponent(String(Xe[J]))),m.push(we)}}return this.i=m.join("&")};function wa(m,N){return N=String(N),m.j&&(N=N.toLowerCase()),N}function cu(m,N){N&&!m.j&&(Fn(m),m.i=null,m.g.forEach(function(k,J){var we=J.toLowerCase();J!=we&&(Ha(this,J),Pt(this,we,k))},m)),m.j=N}function mi(m,N){const k=new Kn;if(h.Image){const J=new Image;J.onload=_(Ci,k,"TestLoadImage: loaded",!0,N,J),J.onerror=_(Ci,k,"TestLoadImage: error",!1,N,J),J.onabort=_(Ci,k,"TestLoadImage: abort",!1,N,J),J.ontimeout=_(Ci,k,"TestLoadImage: timeout",!1,N,J),h.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else N(!1)}function zi(m,N){const k=new Kn,J=new AbortController,we=setTimeout(()=>{J.abort(),Ci(k,"TestPingServer: timeout",!1,N)},1e4);fetch(m,{signal:J.signal}).then(De=>{clearTimeout(we),De.ok?Ci(k,"TestPingServer: ok",!0,N):Ci(k,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(we),Ci(k,"TestPingServer: error",!1,N)})}function Ci(m,N,k,J,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),J(k)}catch{}}function Sa(){this.g=new di}function Hi(m,N,k){const J=k||"";try{fl(m,function(we,De){let Xe=we;d(we)&&(Xe=en(we)),N.push(J+De+"="+encodeURIComponent(Xe))})}catch(we){throw N.push(J+"type="+encodeURIComponent("_badmap")),we}}function ds(m){this.l=m.Ub||null,this.j=m.eb||!1}E(ds,cn),ds.prototype.g=function(){return new Wa(this.l,this.j)},ds.prototype.i=function(m){return function(){return m}}({});function Wa(m,N){bt.call(this),this.D=m,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Wa,bt),n=Wa.prototype,n.open=function(m,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=N,this.readyState=1,gi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(N.body=m),(this.D||h).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var N=m.value?m.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!m.done}))&&(this.response=this.responseText+=N)}m.done?Wi(this):gi(this),this.readyState==3&&ml(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Wi(this))},n.Qa=function(m){this.g&&(this.response=m,Wi(this))},n.ga=function(){this.g&&Wi(this)};function Wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,gi(m)}n.setRequestHeader=function(m,N){this.u.append(m,N)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],N=this.h.entries();for(var k=N.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=N.next();return m.join(`\r
`)};function gi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xa(m){let N="";return ce(m,function(k,J){N+=J,N+=":",N+=k,N+=`\r
`}),N}function Sr(m,N,k){e:{for(J in k){var J=!1;break e}J=!0}J||(k=xa(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):An(m,N,k))}function an(m){bt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(an,bt);var ps=/^https?$/i,Aa=["POST","PUT"];n=an.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,N,k,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);N=N?N.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?ja(this.o):ja(wr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(N,String(m),!0),this.B=!1}catch(De){gl(this,De);return}if(m=k||"",k=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var we in J)k.set(we,J[we]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const De of J.keys())k.set(De,J.get(De));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(k.keys()).find(De=>De.toLowerCase()=="content-type"),we=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Aa,N,void 0))||J||we||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Xe]of k)this.g.setRequestHeader(De,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vi(this),this.u=!0,this.g.send(m),this.u=!1}catch(De){gl(this,De)}};function gl(m,N){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=N,m.m=5,Fs(m),ha(m)}function Fs(m){m.A||(m.A=!0,gt(m,"complete"),gt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,gt(this,"complete"),gt(this,"abort"),ha(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ha(this,!0)),an.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},n.bb=function(){Vs(this)};function Vs(m){if(m.h&&typeof l<"u"&&(!m.v[1]||xr(m)!=4||m.Z()!=2)){if(m.u&&xr(m)==4)dt(m.Ea,0,m);else if(gt(m,"readystatechange"),xr(m)==4){m.h=!1;try{const Xe=m.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var k;if(!(k=N)){var J;if(J=Xe===0){var we=String(m.D).match(ii)[1]||null;!we&&h.self&&h.self.location&&(we=h.self.location.protocol.slice(0,-1)),J=!ps.test(we?we.toLowerCase():"")}k=J}if(k)gt(m,"complete"),gt(m,"success");else{m.m=6;try{var De=2<xr(m)?m.g.statusText:""}catch{De=""}m.l=De+" ["+m.Z()+"]",Fs(m)}}finally{ha(m)}}}}function ha(m,N){if(m.g){vi(m);const k=m.g,J=m.v[0]?()=>{}:null;m.g=null,m.v=null,N||gt(m,"ready");try{k.onreadystatechange=J}catch{}}}function vi(m){m.I&&(h.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function xr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var N=this.g.responseText;return m&&N.indexOf(m)==0&&(N=N.substring(m.length)),Rn(N)}};function hu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ms(m){const N={};m=(m.g&&2<=xr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(B(m[J]))continue;var k=P(m[J]);const we=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const De=N[we]||[];N[we]=De,De.push(k)}U(N,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(m,N,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||N}function gs(m){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=si("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=si("baseRetryDelayMs",5e3,m),this.cb=si("retryDelaySeedMs",1e4,m),this.Wa=si("forwardChannelMaxRetries",2,m),this.wa=si("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new va(m&&m.concurrentRequestLimit),this.Da=new Sa,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gs.prototype,n.la=8,n.G=1,n.connect=function(m,N,k,J){ut(0),this.W=m,this.H=N||{},k&&J!==void 0&&(this.H.OSID=k,this.H.OAID=J),this.F=this.X,this.I=x(this,null,this.W),Ao(this)};function Ga(m){if(Bs(m),m.G==3){var N=m.U++,k=ai(m.I);if(An(k,"SID",m.K),An(k,"RID",N),An(k,"TYPE","terminate"),vs(m,k),N=new Hn(m,m.j,N),N.L=2,N.v=fs(ai(k)),k=!1,h.navigator&&h.navigator.sendBeacon)try{k=h.navigator.sendBeacon(N.v.toString(),"")}catch{}!k&&h.Image&&(new Image().src=N.v,k=!0),k||(N.g=z(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ms(N)}Eo(m)}function xo(m){m.g&&(ys(m),m.g.cancel(),m.g=null)}function Bs(m){xo(m),m.u&&(h.clearTimeout(m.u),m.u=null),$a(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Ao(m){if(!bo(m.h)&&!m.s){m.s=!0;var N=m.Ga;le||Q(),he||(le(),he=!0),_e.add(N,m),m.B=0}}function vl(m,N){return Ba(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=N.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ln(S(m.Ga,m,N),Hs(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const we=new Hn(this,this.j,m);let De=this.o;if(this.S&&(De?(De=L(De),W(De,this.S)):De=this.S),this.m!==null||this.O||(we.H=De,De=null),this.P)e:{for(var N=0,k=0;k<this.i.length;k++){t:{var J=this.i[k];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(N+=J,4096<N){N=k;break e}if(N===4096||k===this.i.length-1){N=k+1;break e}}N=1e3}else N=1e3;N=qs(this,we,N),k=ai(this.I),An(k,"RID",m),An(k,"CVER",22),this.D&&An(k,"X-HTTP-Session-Id",this.D),vs(this,k),De&&(this.O?N="headers="+encodeURIComponent(String(xa(De)))+"&"+N:this.m&&Sr(k,this.m,De)),Wn(this.h,we),this.Ua&&An(k,"TYPE","init"),this.P?(An(k,"$req",N),An(k,"SID","null"),we.T=!0,pi(we,k,null)):pi(we,k,N),this.G=2}}else this.G==3&&(m?Us(this,m):this.i.length==0||bo(this.h)||Us(this))};function Us(m,N){var k;N?k=N.l:k=m.U++;const J=ai(m.I);An(J,"SID",m.K),An(J,"RID",k),An(J,"AID",m.T),vs(m,J),m.m&&m.o&&Sr(J,m.m,m.o),k=new Hn(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),N&&(m.i=N.D.concat(m.i)),N=qs(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Wn(m.h,k),pi(k,J,N)}function vs(m,N){m.H&&ce(m.H,function(k,J){An(N,J,k)}),m.l&&fl({},function(k,J){An(N,J,k)})}function qs(m,N,k){k=Math.min(m.i.length,k);var J=m.l?S(m.l.Na,m.l,m):null;e:{var we=m.i;let De=-1;for(;;){const Xe=["count="+k];De==-1?0<k?(De=we[0].g,Xe.push("ofs="+De)):De=0:Xe.push("ofs="+De);let Lt=!0;for(let sn=0;sn<k;sn++){let Ht=we[sn].g;const Tn=we[sn].map;if(Ht-=De,0>Ht)De=Math.max(0,we[sn].g-100),Lt=!1;else try{Hi(Tn,Xe,"req"+Ht+"_")}catch{J&&J(Tn)}}if(Lt){J=Xe.join("&");break e}}}return m=m.i.splice(0,k),N.D=m,J}function To(m){if(!m.g&&!m.u){m.Y=1;var N=m.Fa;le||Q(),he||(le(),he=!0),_e.add(N,m),m.v=0}}function zs(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ln(S(m.Fa,m),Hs(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ln(S(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),xo(this),fu(this))};function ys(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function fu(m){m.g=new Hn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var N=ai(m.qa);An(N,"RID","rpc"),An(N,"SID",m.K),An(N,"AID",m.T),An(N,"CI",m.F?"0":"1"),!m.F&&m.ja&&An(N,"TO",m.ja),An(N,"TYPE","xmlhttp"),vs(m,N),m.m&&m.o&&Sr(N,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=fs(ai(N)),k.m=null,k.P=!0,Ui(k,m)}n.Za=function(){this.C!=null&&(this.C=null,xo(this),zs(this),ut(19))};function $a(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function bs(m,N){var k=null;if(m.g==N){$a(m),ys(m),m.g=null;var J=2}else if(hl(m.h,N))k=N.D,Gr(m.h,N),J=1;else return;if(m.G!=0){if(N.o)if(J==1){k=N.m?N.m.length:0,N=Date.now()-N.F;var we=m.B;J=Bi(),gt(J,new Pn(J,k)),Ao(m)}else To(m);else if(we=N.s,we==3||we==0&&0<N.X||!(J==1&&vl(m,N)||J==2&&zs(m)))switch(k&&0<k.length&&(N=m.h,N.i=N.i.concat(k)),we){case 1:yi(m,5);break;case 4:yi(m,10);break;case 3:yi(m,6);break;default:yi(m,2)}}}function Hs(m,N){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*N}function yi(m,N){if(m.j.info("Error code "+N),N==2){var k=S(m.fb,m),J=m.Xa;const we=!J;J=new pn(J||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||cs(J,"https"),fs(J),we?mi(J.toString(),k):zi(J.toString(),k)}else ut(2);m.G=0,m.l&&m.l.sa(N),Eo(m),Bs(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Eo(m){if(m.G=0,m.ka=[],m.l){const N=_o(m.h);(N.length!=0||m.i.length!=0)&&(R(m.ka,N),R(m.ka,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.ra()}}function x(m,N,k){var J=k instanceof pn?ai(k):new pn(k);if(J.g!="")N&&(J.g=N+"."+J.g),hs(J,J.s);else{var we=h.location;J=we.protocol,N=N?N+"."+we.hostname:we.hostname,we=+we.port;var De=new pn(null);J&&cs(De,J),N&&(De.g=N),we&&hs(De,we),k&&(De.l=k),J=De}return k=m.D,N=m.ya,k&&N&&An(J,k,N),An(J,"VER",m.la),vs(m,J),J}function z(m,N,k){if(N&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=m.Ca&&!m.pa?new an(new ds({eb:k})):new an(m.pa),N.Ha(m.J),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function oe(){}n=oe.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function me(){}me.prototype.g=function(m,N){return new Ae(m,N)};function Ae(m,N){bt.call(this),this.g=new gs(N),this.l=m,this.h=N&&N.messageUrlParams||null,m=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(m?m["X-WebChannel-Content-Type"]=N.messageContentType:m={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(m?m["X-WebChannel-Client-Profile"]=N.va:m={"X-WebChannel-Client-Profile":N.va}),this.g.S=m,(m=N&&N.Sb)&&!B(m)&&(this.g.m=m),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!B(N)&&(this.g.D=N,m=this.h,m!==null&&N in m&&(m=this.h,N in m&&delete m[N])),this.j=new it(this)}E(Ae,bt),Ae.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ae.prototype.close=function(){Ga(this.g)},Ae.prototype.o=function(m){var N=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=en(m),m=k);N.i.push(new ou(N.Ya++,m)),N.G==3&&Ao(N)},Ae.prototype.N=function(){this.g.l=null,delete this.j,Ga(this.g),delete this.g,Ae.aa.N.call(this)};function Ve(m){ni.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var N=m.__sm__;if(N){e:{for(const k in N){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,N=N!==null&&m in N?N[m]:void 0),this.data=N}else this.data=m}E(Ve,ni);function Ye(){zn.call(this),this.status=1}E(Ye,zn);function it(m){this.g=m}E(it,oe),it.prototype.ua=function(){gt(this.g,"a")},it.prototype.ta=function(m){gt(this.g,new Ve(m))},it.prototype.sa=function(m){gt(this.g,new Ye)},it.prototype.ra=function(){gt(this.g,"b")},me.prototype.createWebChannel=me.prototype.g,Ae.prototype.send=Ae.prototype.o,Ae.prototype.open=Ae.prototype.m,Ae.prototype.close=Ae.prototype.close,gx=function(){return new me},mx=function(){return Bi()},px=At,i1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,Am=Wr,Pr.COMPLETE="complete",dx=Pr,qn.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,pd=qn,an.prototype.listenOnce=an.prototype.L,an.prototype.getLastError=an.prototype.Ka,an.prototype.getLastErrorCode=an.prototype.Ba,an.prototype.getStatus=an.prototype.Z,an.prototype.getResponseJson=an.prototype.Oa,an.prototype.getResponseText=an.prototype.oa,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Ha,fx=an}).apply(typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{});const J5="@firebase/firestore",Z5="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new X1("@firebase/firestore");function Oh(){return Kc.logLevel}function ht(n,...e){if(Kc.logLevel<=fn.DEBUG){const t=e.map(u2);Kc.debug(`Firestore (${mf}): ${n}`,...t)}}function Zl(n,...e){if(Kc.logLevel<=fn.ERROR){const t=e.map(u2);Kc.error(`Firestore (${mf}): ${n}`,...t)}}function tf(n,...e){if(Kc.logLevel<=fn.WARN){const t=e.map(u2);Kc.warn(`Firestore (${mf}): ${n}`,...t)}}function u2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vx(n,r,t)}function vx(n,e,t){let r=`FIRESTORE (${mf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Zl(r),new Error(r)}function wn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||vx(e,i,r)}function Gt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends iu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(aa.UNAUTHENTICATED))}shutdown(){}}class nR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rR{constructor(e){this.t=e,this.currentUser=aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rl,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},h=c=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>h(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?h(c):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rl)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wn(typeof r.accessToken=="string",31837,{l:r}),new yx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wn(e===null||typeof e=="string",2055,{h:e}),new aa(e)}}class iR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=aa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new iR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(aa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ho(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wn(this.o===void 0,3512);const r=s=>{s.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ht("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function rn(n,e){return n<e?-1:n>e?1:0}function a1(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return rn(r,i);{const s=bx(),l=lR(s.encode(t_(n,t)),s.encode(t_(e,t)));return l!==0?l:rn(r,i)}}t+=r>65535?2:1}return rn(n.length,e.length)}function t_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return rn(n[t],e[t]);return rn(n.length,e.length)}function nf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,r_=1e6;class Zr{static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*r_);return new Zr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<n_)throw new yt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Zr(0,0))}static max(){return new Vt(new Zr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="__name__";class Xo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Nt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Nt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Xo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return rn(e.length,t.length)}static compareSegments(e,t){const r=Xo.isNumericId(e),i=Xo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Xo.extractNumericId(e).compare(Xo.extractNumericId(t)):a1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nc.fromString(e.substring(4,e.length-2))}}class tr extends Xo{construct(e,t,r){return new tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(Ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tr(t)}static emptyPath(){return new tr([])}}const uR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mi extends Xo{construct(e,t,r){return new Mi(e,t,r)}static isValidIdentifier(e){return uR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i_}static keyField(){return new Mi([i_])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new yt(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new yt(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new yt(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(s(),i++)}if(s(),l)throw new yt(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mi(t)}static emptyPath(){return new Mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(tr.fromString(e))}static fromName(e){return new Ct(tr.fromString(e).popFirst(5))}static empty(){return new Ct(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new tr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function cR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Vt.fromTimestamp(r===1e9?new Zr(t+1,0):new Zr(t,r));return new ac(i,Ct.empty(),e)}function hR(n){return new ac(n.readTime,n.key,Pd)}class ac{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ac(Vt.min(),Ct.empty(),Pd)}static max(){return new ac(Vt.max(),Ct.empty(),Pd)}}function fR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ct.comparator(n.documentKey,e.documentKey),t!==0?t:rn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(n){if(n.code!==Ke.FAILED_PRECONDITION||n.message!==dR)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $e((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $e?t:$e.resolve(t)}catch(t){return $e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.reject(t)}static resolve(e){return new $e((t,r)=>{t(e)})}static reject(e){return new $e((t,r)=>{r(e)})}static waitFor(e){return new $e((t,r)=>{let i=0,s=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++s,l&&s===i&&t()},c=>r(c))}),l=!0,s===i&&t()})}static or(e){let t=$e.resolve(!1);for(const r of e)t=t.next(i=>i?$e.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new $e((r,i)=>{const s=e.length,l=new Array(s);let h=0;for(let c=0;c<s;c++){const d=c;t(e[d]).next(g=>{l[d]=g,++h,h===s&&r(l)},g=>i(g))}})}static doWhile(e,t){return new $e((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function mR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ng.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=-1;function Yd(n){return n==null}function $m(n){return n===0&&1/n==-1/0}function gR(n){return typeof n=="number"&&Number.isInteger(n)&&!$m(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="";function vR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=a_(e)),e=yR(n.get(t),e);return a_(e)}function yR(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case wx:t+="";break;default:t+=s}}return t}function a_(n){return n+wx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){this.comparator=e,this.root=t||ki.EMPTY}insert(e,t){return new br(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ki.RED,this.left=i??ki.EMPTY,this.right=s??ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ki(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1;ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ci(this.comparator);return t.data=e,t}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.fields=e,e.sort(Mi.comparator)}static empty(){return new is([])}unionWith(e){let t=new ci(Mi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new is(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xx("Invalid base64 string: "+s):s}}(e);return new Vi(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const bR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sc(n){if(wn(!!n,39018),typeof n=="string"){let e=0;const t=bR.exec(n);if(wn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oc(n){return typeof n=="string"?Vi.fromBase64String(n):Vi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="server_timestamp",Tx="__type__",Ex="__previous_value__",Nx="__local_write_time__";function h2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tx])===null||t===void 0?void 0:t.stringValue)===Ax}function Cg(n){const e=n.mapValue.fields[Ex];return h2(e)?Cg(e):e}function Ld(n){const e=sc(n.mapValue.fields[Nx].timestampValue);return new Zr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t,r,i,s,l,h,c,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=g}}const Ym="(default)";class Dd{constructor(e,t){this.projectId=e,this.database=t||Ym}static empty(){return new Dd("","")}get isDefaultDatabase(){return this.database===Ym}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="__type__",wR="__max__",rm={mapValue:{}},Ix="__vector__",Km="value";function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?h2(n)?4:xR(n)?9007199254740991:SR(n)?10:11:Nt(28295,{value:n})}function ol(n,e){if(n===e)return!0;const t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ld(n).isEqual(Ld(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=sc(i.timestampValue),h=sc(s.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return oc(i.bytesValue).isEqual(oc(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Br(i.geoPointValue.latitude)===Br(s.geoPointValue.latitude)&&Br(i.geoPointValue.longitude)===Br(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Br(i.integerValue)===Br(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Br(i.doubleValue),h=Br(s.doubleValue);return l===h?$m(l)===$m(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return nf(n.arrayValue.values||[],e.arrayValue.values||[],ol);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},h=s.mapValue.fields||{};if(s_(l)!==s_(h))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(h[c]===void 0||!ol(l[c],h[c])))return!1;return!0}(n,e);default:return Nt(52216,{left:n})}}function Od(n,e){return(n.values||[]).find(t=>ol(t,e))!==void 0}function rf(n,e){if(n===e)return 0;const t=lc(n),r=lc(e);if(t!==r)return rn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(s,l){const h=Br(s.integerValue||s.doubleValue),c=Br(l.integerValue||l.doubleValue);return h<c?-1:h>c?1:h===c?0:isNaN(h)?isNaN(c)?0:-1:1}(n,e);case 3:return l_(n.timestampValue,e.timestampValue);case 4:return l_(Ld(n),Ld(e));case 5:return a1(n.stringValue,e.stringValue);case 6:return function(s,l){const h=oc(s),c=oc(l);return h.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const h=s.split("/"),c=l.split("/");for(let d=0;d<h.length&&d<c.length;d++){const g=rn(h[d],c[d]);if(g!==0)return g}return rn(h.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const h=rn(Br(s.latitude),Br(l.latitude));return h!==0?h:rn(Br(s.longitude),Br(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return u_(n.arrayValue,e.arrayValue);case 10:return function(s,l){var h,c,d,g;const b=s.fields||{},S=l.fields||{},_=(h=b[Km])===null||h===void 0?void 0:h.arrayValue,E=(c=S[Km])===null||c===void 0?void 0:c.arrayValue,C=rn(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:u_(_,E)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===rm.mapValue&&l===rm.mapValue)return 0;if(s===rm.mapValue)return 1;if(l===rm.mapValue)return-1;const h=s.fields||{},c=Object.keys(h),d=l.fields||{},g=Object.keys(d);c.sort(),g.sort();for(let b=0;b<c.length&&b<g.length;++b){const S=a1(c[b],g[b]);if(S!==0)return S;const _=rf(h[c[b]],d[g[b]]);if(_!==0)return _}return rn(c.length,g.length)}(n.mapValue,e.mapValue);default:throw Nt(23264,{Pe:t})}}function l_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rn(n,e);const t=sc(n),r=sc(e),i=rn(t.seconds,r.seconds);return i!==0?i:rn(t.nanos,r.nanos)}function u_(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=rf(t[i],r[i]);if(s)return s}return rn(t.length,r.length)}function af(n){return s1(n)}function s1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=sc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ct.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=s1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${s1(t.fields[l])}`;return i+"}"}(n.mapValue):Nt(61005,{value:n})}function Tm(n){switch(lc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cg(n);return e?16+Tm(e):16;case 5:return 2*n.stringValue.length;case 6:return oc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Tm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return mc(r.fields,(s,l)=>{i+=s.length+Tm(l)}),i}(n.mapValue);default:throw Nt(13486,{value:n})}}function o1(n){return!!n&&"integerValue"in n}function f2(n){return!!n&&"arrayValue"in n}function c_(n){return!!n&&"nullValue"in n}function h_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Em(n){return!!n&&"mapValue"in n}function SR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cx])===null||t===void 0?void 0:t.stringValue)===Ix}function _d(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_d(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_d(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.value=e}static empty(){return new ma({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Em(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_d(t)}setAll(e){let t=Mi.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=_d(l):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Em(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ol(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ma(_d(this.value))}}function Rx(n){const e=[];return mc(n.fields,(t,r)=>{const i=new Mi([t]);if(Em(r)){const s=Rx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new is(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t,r,i,s,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Ei(e,0,Vt.min(),Vt.min(),Vt.min(),ma.empty(),0)}static newFoundDocument(e,t,r,i){return new Ei(e,1,t,Vt.min(),r,i,0)}static newNoDocument(e,t){return new Ei(e,2,t,Vt.min(),Vt.min(),ma.empty(),0)}static newUnknownDocument(e,t){return new Ei(e,3,t,Vt.min(),Vt.min(),ma.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ma.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ma.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t){this.position=e,this.inclusive=t}}function f_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=Ct.comparator(Ct.fromName(l.referenceValue),t.key):r=rf(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ol(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t="asc"){this.field=e,this.dir=t}}function AR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{}class ui extends Px{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ER(e,t,r):t==="array-contains"?new IR(e,r):t==="in"?new RR(e,r):t==="not-in"?new PR(e,r):t==="array-contains-any"?new LR(e,r):new ui(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new NR(e,r):new CR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rf(t,this.value)):t!==null&&lc(this.value)===lc(t)&&this.matchesComparison(rf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ll extends Px{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ll(e,t)}matches(e){return Lx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Lx(n){return n.op==="and"}function Dx(n){return TR(n)&&Lx(n)}function TR(n){for(const e of n.filters)if(e instanceof ll)return!1;return!0}function l1(n){if(n instanceof ui)return n.field.canonicalString()+n.op.toString()+af(n.value);if(Dx(n))return n.filters.map(e=>l1(e)).join(",");{const e=n.filters.map(t=>l1(t)).join(",");return`${n.op}(${e})`}}function Ox(n,e){return n instanceof ui?function(r,i){return i instanceof ui&&r.op===i.op&&r.field.isEqual(i.field)&&ol(r.value,i.value)}(n,e):n instanceof ll?function(r,i){return i instanceof ll&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,h)=>s&&Ox(l,i.filters[h]),!0):!1}(n,e):void Nt(19439)}function kx(n){return n instanceof ui?function(t){return`${t.field.canonicalString()} ${t.op} ${af(t.value)}`}(n):n instanceof ll?function(t){return t.op.toString()+" {"+t.getFilters().map(kx).join(" ,")+"}"}(n):"Filter"}class ER extends ui{constructor(e,t,r){super(e,t,r),this.key=Ct.fromName(r.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class NR extends ui{constructor(e,t){super(e,"in",t),this.keys=jx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CR extends ui{constructor(e,t){super(e,"not-in",t),this.keys=jx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ct.fromName(r.referenceValue))}class IR extends ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f2(t)&&Od(t.arrayValue,this.value)}}class RR extends ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Od(this.value.arrayValue,t)}}class PR extends ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Od(this.value.arrayValue,t)}}class LR extends ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f2(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t=null,r=[],i=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=h,this.Ie=null}}function p_(n,e=null,t=[],r=[],i=null,s=null,l=null){return new DR(n,e,t,r,i,s,l)}function d2(n){const e=Gt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>l1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>af(r)).join(",")),e.Ie=t}return e.Ie}function p2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ox(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d_(n.startAt,e.startAt)&&d_(n.endAt,e.endAt)}function u1(n){return Ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t=null,r=[],i=[],s=null,l="F",h=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OR(n,e,t,r,i,s,l,h){return new Ig(n,e,t,r,i,s,l,h)}function m2(n){return new Ig(n)}function m_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kR(n){return n.collectionGroup!==null}function wd(n){const e=Gt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new ci(Mi.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Xm(s,r))}),t.has(Mi.keyField().canonicalString())||e.Ee.push(new Xm(Mi.keyField(),r))}return e.Ee}function il(n){const e=Gt(n);return e.de||(e.de=jR(e,wd(n))),e.de}function jR(n,e){if(n.limitType==="F")return p_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xm(i.field,s)});const t=n.endAt?new Qm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qm(n.startAt.position,n.startAt.inclusive):null;return p_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function c1(n,e,t){return new Ig(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rg(n,e){return p2(il(n),il(e))&&n.limitType===e.limitType}function Mx(n){return`${d2(il(n))}|lt:${n.limitType}`}function kh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>kx(i)).join(", ")}]`),Yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>af(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>af(i)).join(",")),`Target(${r})`}(il(n))}; limitType=${n.limitType})`}function Pg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of wd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,h,c){const d=f_(l,h,c);return l.inclusive?d<=0:d<0}(r.startAt,wd(r),i)||r.endAt&&!function(l,h,c){const d=f_(l,h,c);return l.inclusive?d>=0:d>0}(r.endAt,wd(r),i))}(n,e)}function MR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fx(n){return(e,t)=>{let r=!1;for(const i of wd(n)){const s=FR(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FR(n,e,t){const r=n.field.isKeyField()?Ct.comparator(e.key,t.key):function(s,l,h){const c=l.data.field(s),d=h.data.field(s);return c!==null&&d!==null?rf(c,d):Nt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Nt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Sx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new br(Ct.comparator);function eu(){return VR}const Vx=new br(Ct.comparator);function md(...n){let e=Vx;for(const t of n)e=e.insert(t.key,t);return e}function Bx(n){let e=Vx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zc(){return Sd()}function Ux(){return Sd()}function Sd(){return new Zc(n=>n.toString(),(n,e)=>n.isEqual(e))}const BR=new br(Ct.comparator),UR=new ci(Ct.comparator);function dn(...n){let e=UR;for(const t of n)e=e.add(t);return e}const qR=new ci(rn);function zR(){return qR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$m(e)?"-0":e}}function qx(n){return{integerValue:""+n}}function HR(n,e){return gR(e)?qx(e):g2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this._=void 0}}function WR(n,e,t){return n instanceof Jm?function(i,s){const l={fields:{[Tx]:{stringValue:Ax},[Nx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&h2(s)&&(s=Cg(s)),s&&(l.fields[Ex]=s),{mapValue:l}}(t,e):n instanceof kd?Hx(n,e):n instanceof jd?Wx(n,e):function(i,s){const l=zx(i,s),h=g_(l)+g_(i.Re);return o1(l)&&o1(i.Re)?qx(h):g2(i.serializer,h)}(n,e)}function GR(n,e,t){return n instanceof kd?Hx(n,e):n instanceof jd?Wx(n,e):t}function zx(n,e){return n instanceof Zm?function(r){return o1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jm extends Lg{}class kd extends Lg{constructor(e){super(),this.elements=e}}function Hx(n,e){const t=Gx(e);for(const r of n.elements)t.some(i=>ol(i,r))||t.push(r);return{arrayValue:{values:t}}}class jd extends Lg{constructor(e){super(),this.elements=e}}function Wx(n,e){let t=Gx(e);for(const r of n.elements)t=t.filter(i=>!ol(i,r));return{arrayValue:{values:t}}}class Zm extends Lg{constructor(e,t){super(),this.serializer=e,this.Re=t}}function g_(n){return Br(n.integerValue||n.doubleValue)}function Gx(n){return f2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $R(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof kd&&i instanceof kd||r instanceof jd&&i instanceof jd?nf(r.elements,i.elements,ol):r instanceof Zm&&i instanceof Zm?ol(r.Re,i.Re):r instanceof Jm&&i instanceof Jm}(n.transform,e.transform)}class YR{constructor(e,t){this.version=e,this.transformResults=t}}class Fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dg{}function $x(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Og(n.key,Fi.none()):new Kd(n.key,n.data,Fi.none());{const t=n.data,r=ma.empty();let i=new ci(Mi.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new gc(n.key,r,new is(i.toArray()),Fi.none())}}function KR(n,e,t){n instanceof Kd?function(i,s,l){const h=i.value.clone(),c=y_(i.fieldTransforms,s,l.transformResults);h.setAll(c),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof gc?function(i,s,l){if(!Nm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const h=y_(i.fieldTransforms,s,l.transformResults),c=s.data;c.setAll(Yx(i)),c.setAll(h),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function xd(n,e,t,r){return n instanceof Kd?function(s,l,h,c){if(!Nm(s.precondition,l))return h;const d=s.value.clone(),g=b_(s.fieldTransforms,c,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof gc?function(s,l,h,c){if(!Nm(s.precondition,l))return h;const d=b_(s.fieldTransforms,c,l),g=l.data;return g.setAll(Yx(s)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(s,l,h){return Nm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(n,e,t)}function QR(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=zx(r.transform,i||null);s!=null&&(t===null&&(t=ma.empty()),t.set(r.field,s))}return t||null}function v_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nf(r,i,(s,l)=>$R(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kd extends Dg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gc extends Dg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Yx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function y_(n,e,t){const r=new Map;wn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,h=e.data.field(s.field);r.set(s.field,GR(l,h,t[i]))}return r}function b_(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,WR(s,l,e))}return r}class Og extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kx extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KR(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ux();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=t.has(i.key)?null:h;const c=$x(l,h);c!==null&&r.set(i.key,c),l.isValidDocument()||l.convertToNoDocument(Vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&nf(this.mutations,e.mutations,(t,r)=>v_(t,r))&&nf(this.baseMutations,e.baseMutations,(t,r)=>v_(t,r))}}class v2{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return BR}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new v2(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr,bn;function Qx(n){switch(n){case Ke.OK:return Nt(64938);case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0;default:return Nt(15467,{code:n})}}function Xx(n){if(n===void 0)return Zl("GRPC error has no .code"),Ke.UNKNOWN;switch(n){case Xr.OK:return Ke.OK;case Xr.CANCELLED:return Ke.CANCELLED;case Xr.UNKNOWN:return Ke.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return Ke.INTERNAL;case Xr.UNAVAILABLE:return Ke.UNAVAILABLE;case Xr.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Xr.NOT_FOUND:return Ke.NOT_FOUND;case Xr.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Xr.ABORTED:return Ke.ABORTED;case Xr.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Xr.DATA_LOSS:return Ke.DATA_LOSS;default:return Nt(39323,{code:n})}}(bn=Xr||(Xr={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new nc([4294967295,4294967295],0);function __(n){const e=bx().encode(n),t=new hx;return t.update(e),new Uint8Array(t.digest())}function w_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new nc([t,r],0),new nc([i,s],0)]}class y2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new gd(`Invalid padding: ${t}`);if(r<0)throw new gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new gd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=nc.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(nc.fromNumber(r)));return i.compare(eP)===1&&(i=new nc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=__(e),[r,i]=w_(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new y2(s,i,t);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.pe===0)return;const t=__(e),[r,i]=w_(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kg(Vt.min(),i,new br(rn),eu(),dn())}}class Qd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qd(r,t,dn(),dn(),dn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class Jx{constructor(e,t){this.targetId=e,this.Ce=t}}class Zx{constructor(e,t,r=Vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class S_{constructor(){this.Fe=0,this.Me=x_(),this.xe=Vi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dn(),t=dn(),r=dn();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Nt(38017,{changeType:s})}}),new Qd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=x_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,wn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tP{constructor(e){this.ze=e,this.je=new Map,this.He=eu(),this.Je=im(),this.Ye=im(),this.Ze=new br(rn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Nt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(u1(s))if(r===0){const l=new Ct(s.path);this.tt(t,l,Ei.newNoDocument(l,Vt.min()))}else wn(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const h=this.ct(e),c=h?this.lt(h,e,l):1;if(c!==0){this.st(t);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,h;try{l=oc(r).toUint8Array()}catch(c){if(c instanceof xx)return tf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{h=new y2(l,i,s)}catch(c){return tf(c instanceof gd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ze.Pt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,l)=>{const h=this._t(l);if(h){if(s.current&&u1(h.target)){const c=new Ct(h.target.path);this.Et(c).has(l)||this.dt(l,c)||this.tt(l,c,Ei.newNoDocument(c,e))}s.Le&&(t.set(l,s.qe()),s.Qe())}});let r=dn();this.Ye.forEach((s,l)=>{let h=!0;l.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(s))}),this.He.forEach((s,l)=>l.setReadTime(e));const i=new kg(e,t,this.Ze,this.He,r);return this.He=eu(),this.Je=im(),this.Ye=im(),this.Ze=new br(rn),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new S_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ci(rn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ci(rn),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ht("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new S_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function im(){return new br(Ct.comparator)}function x_(){return new br(Ct.comparator)}const nP={asc:"ASCENDING",desc:"DESCENDING"},rP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iP={and:"AND",or:"OR"};class aP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h1(n,e){return n.useProto3Json||Yd(e)?e:{value:e}}function eg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sP(n,e){return eg(n,e.toTimestamp())}function os(n){return wn(!!n,49232),Vt.fromTimestamp(function(t){const r=sc(t);return new Zr(r.seconds,r.nanos)}(n))}function b2(n,e){return f1(n,e).canonicalString()}function f1(n,e){const t=function(i){return new tr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tA(n){const e=tr.fromString(n);return wn(oA(e),10190,{key:e.toString()}),e}function tg(n,e){return b2(n.databaseId,e.path)}function Ad(n,e){const t=tA(e);if(t.get(1)!==n.databaseId.projectId)throw new yt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new yt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ct(rA(t))}function nA(n,e){return b2(n.databaseId,e)}function oP(n){const e=tA(n);return e.length===4?tr.emptyPath():rA(e)}function d1(n){return new tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rA(n){return wn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function A_(n,e,t){return{name:tg(n,e),fields:t.value.mapValue.fields}}function lP(n,e){return"found"in e?function(r,i){wn(!!i.found,43571),i.found.name,i.found.updateTime;const s=Ad(r,i.found.name),l=os(i.found.updateTime),h=i.found.createTime?os(i.found.createTime):Vt.min(),c=new ma({mapValue:{fields:i.found.fields}});return Ei.newFoundDocument(s,l,h,c)}(n,e):"missing"in e?function(r,i){wn(!!i.missing,3894),wn(!!i.readTime,22933);const s=Ad(r,i.missing),l=os(i.readTime);return Ei.newNoDocument(s,l)}(n,e):Nt(7234,{result:e})}function uP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Nt(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,g){return d.useProto3Json?(wn(g===void 0||typeof g=="string",58123),Vi.fromBase64String(g||"")):(wn(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Vi.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(d){const g=d.code===void 0?Ke.UNKNOWN:Xx(d.code);return new yt(g,d.message||"")}(l);t=new Zx(r,i,s,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ad(n,r.document.name),s=os(r.document.updateTime),l=r.document.createTime?os(r.document.createTime):Vt.min(),h=new ma({mapValue:{fields:r.document.fields}}),c=Ei.newFoundDocument(i,s,l,h),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Cm(d,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ad(n,r.document),s=r.readTime?os(r.readTime):Vt.min(),l=Ei.newNoDocument(i,s),h=r.removedTargetIds||[];t=new Cm([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ad(n,r.document),s=r.removedTargetIds||[];t=new Cm([],s,i,null)}else{if(!("filter"in e))return Nt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new ZR(i,s),h=r.targetId;t=new Jx(h,l)}}return t}function iA(n,e){let t;if(e instanceof Kd)t={update:A_(n,e.key,e.value)};else if(e instanceof Og)t={delete:tg(n,e.key)};else if(e instanceof gc)t={update:A_(n,e.key,e.data),updateMask:yP(e.fieldMask)};else{if(!(e instanceof Kx))return Nt(16599,{ft:e.type});t={verify:tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const h=l.transform;if(h instanceof Jm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof kd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zm)return{fieldPath:l.field.canonicalString(),increment:h.Re};throw Nt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sP(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt(27497)}(n,e.precondition)),t}function cP(n,e){return n&&n.length>0?(wn(e!==void 0,14353),n.map(t=>function(i,s){let l=i.updateTime?os(i.updateTime):os(s);return l.isEqual(Vt.min())&&(l=os(s)),new YR(l,i.transformResults||[])}(t,e))):[]}function hP(n,e){return{documents:[nA(n,e.path)]}}function fP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nA(n,i);const s=function(d){if(d.length!==0)return sA(ll.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(d){if(d.length!==0)return d.map(g=>function(S){return{field:jh(S.field),direction:mP(S.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=h1(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function dP(n){let e=oP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wn(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(b){const S=aA(b);return S instanceof ll&&Dx(S)?S.getFilters():[S]}(t.where));let l=[];t.orderBy&&(l=function(b){return b.map(S=>function(E){return new Xm(Mh(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(S))}(t.orderBy));let h=null;t.limit&&(h=function(b){let S;return S=typeof b=="object"?b.value:b,Yd(S)?null:S}(t.limit));let c=null;t.startAt&&(c=function(b){const S=!!b.before,_=b.values||[];return new Qm(_,S)}(t.startAt));let d=null;return t.endAt&&(d=function(b){const S=!b.before,_=b.values||[];return new Qm(_,S)}(t.endAt)),OR(e,i,l,s,h,"F",c,d)}function pP(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mh(t.unaryFilter.field);return ui.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mh(t.unaryFilter.field);return ui.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mh(t.unaryFilter.field);return ui.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Mh(t.unaryFilter.field);return ui.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(n):n.fieldFilter!==void 0?function(t){return ui.create(Mh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ll.create(t.compositeFilter.filters.map(r=>aA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(t.compositeFilter.op))}(n):Nt(30097,{filter:n})}function mP(n){return nP[n]}function gP(n){return rP[n]}function vP(n){return iP[n]}function jh(n){return{fieldPath:n.canonicalString()}}function Mh(n){return Mi.fromServerFormat(n.fieldPath)}function sA(n){return n instanceof ui?function(t){if(t.op==="=="){if(h_(t.value))return{unaryFilter:{field:jh(t.field),op:"IS_NAN"}};if(c_(t.value))return{unaryFilter:{field:jh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h_(t.value))return{unaryFilter:{field:jh(t.field),op:"IS_NOT_NAN"}};if(c_(t.value))return{unaryFilter:{field:jh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jh(t.field),op:gP(t.op),value:t.value}}}(n):n instanceof ll?function(t){const r=t.getFilters().map(i=>sA(i));return r.length===1?r[0]:{compositeFilter:{op:vP(t.op),filters:r}}}(n):Nt(54877,{filter:n})}function yP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t,r,i,s=Vt.min(),l=Vt.min(),h=Vi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=c}withSequenceNumber(e){return new Qu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.wt=e}}function _P(n){const e=dP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?c1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.yn=new SP}addToCollectionParentIndex(e,t){return this.yn.add(t),$e.resolve()}getCollectionParents(e,t){return $e.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return $e.resolve()}deleteFieldIndex(e,t){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,t){return $e.resolve()}getDocumentsMatchingTarget(e,t){return $e.resolve(null)}getIndexType(e,t){return $e.resolve(0)}getFieldIndexes(e,t){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,t){return $e.resolve(ac.min())}getMinOffsetFromCollectionGroup(e,t){return $e.resolve(ac.min())}updateCollectionGroup(e,t,r){return $e.resolve()}updateIndexEntries(e,t){return $e.resolve()}}class SP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ci(tr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ci(tr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040;class Da{static withCacheSize(e){return new Da(e,Da.DEFAULT_COLLECTION_PERCENTILE,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da.DEFAULT_COLLECTION_PERCENTILE=10,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Da.DEFAULT=new Da(lA,Da.DEFAULT_COLLECTION_PERCENTILE,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Da.DISABLED=new Da(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new sf(0)}static ir(){return new sf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",xP=1048576;function N_([n,e],[t,r]){const i=rn(n,t);return i===0?rn(e,r):i}class AP{constructor(e){this.cr=e,this.buffer=new ci(N_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();N_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ht(E_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vf(t)?ht(E_,"Ignoring IndexedDB error during garbage collection: ",t):await gf(t)}await this.Ir(3e5)})}}class EP{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return $e.resolve(Ng.le);const r=new AP(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(T_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,s,l,h,c,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,l=Date.now(),this.nthSequenceNumber(e,i))).next(b=>(r=b,h=Date.now(),this.removeTargets(e,r,t))).next(b=>(s=b,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(d=Date.now(),Oh()<=fn.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${s} targets in `+(c-h)+`ms
	Removed ${b} documents in `+(d-c)+`ms
Total Duration: ${d-g}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:b})))}}function NP(n,e){return new EP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.changes=new Zc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?$e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&xd(r.mutation,i,is.empty(),Zr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dn()){const i=zc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=md();return s.forEach((h,c)=>{l=l.insert(h,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=zc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,i){let s=eu();const l=Sd(),h=function(){return Sd()}();return t.forEach((c,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof gc)?s=s.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),xd(g.mutation,d,g.mutation.getFieldMask(),Zr.now())):l.set(d.key,is.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,g)=>l.set(d,g)),t.forEach((d,g)=>{var b;return h.set(d,new IP(g,(b=l.get(d))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Sd();let i=new br((l,h)=>l-h),s=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(c=>{const d=t.get(c);if(d===null)return;let g=r.get(c)||is.empty();g=h.applyToLocalView(d,g),r.set(c,g);const b=(i.get(h.batchId)||dn()).add(c);i=i.insert(h.batchId,b)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const c=h.getNext(),d=c.key,g=c.value,b=Ux();g.forEach(S=>{if(!s.has(S)){const _=$x(t.get(S),r.get(S));_!==null&&b.set(S,_),s=s.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,b))}return $e.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ct.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):$e.resolve(zc());let h=Pd,c=s;return l.next(d=>$e.forEach(d,(g,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),s.get(g)?$e.resolve():this.remoteDocumentCache.getEntry(e,g).next(S=>{c=c.insert(g,S)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,dn())).next(g=>({batchId:h,changes:Bx(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ct(t)).next(r=>{let i=md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=md();return this.indexManager.getCollectionParents(e,s).next(h=>$e.forEach(h,c=>{const d=function(b,S){return new Ig(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((b,S)=>{l=l.insert(b,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((c,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,Ei.newInvalidDocument(g)))});let h=md();return l.forEach((c,d)=>{const g=s.get(c);g!==void 0&&xd(g.mutation,d,is.empty(),Zr.now()),Pg(t,d)&&(h=h.insert(c,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return $e.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:os(i.createTime)}}(t)),$e.resolve()}getNamedQuery(e,t){return $e.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:_P(i.bundledQuery),readTime:os(i.readTime)}}(t)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.overlays=new br(Ct.comparator),this.Or=new Map}getOverlay(e,t){return $e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zc();return $e.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),$e.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),$e.resolve()}getOverlaysForCollection(e,t,r){const i=zc(),s=t.length+1,l=new Ct(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const c=h.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new br((d,g)=>d-g);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=s.get(d.largestBatchId);g===null&&(g=zc(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=zc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=i)););return $e.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new JR(t,r));let s=this.Or.get(t);s===void 0&&(s=dn(),this.Or.set(t,s)),this.Or.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Nr=new ci(Ai.Br),this.Lr=new ci(Ai.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Ai(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Ai(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ct(new tr([])),r=new Ai(t,e),i=new Ai(t,e+1),s=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),s.push(l.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ct(new tr([])),r=new Ai(t,e),i=new Ai(t,e+1);let s=dn();return this.Lr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Ai(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ai{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ct.comparator(e.key,t.key)||rn(e.Gr,t.Gr)}static kr(e,t){return rn(e.Gr,t.Gr)||Ct.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new ci(Ai.Br)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new XR(s,t,r,i);this.mutationQueue.push(l);for(const h of i)this.zr=this.zr.add(new Ai(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return $e.resolve(l)}lookupMutationBatch(e,t){return $e.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?c2:this.Jn-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ai(t,0),i=new Ai(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],l=>{const h=this.jr(l.Gr);s.push(h)}),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ci(rn);return t.forEach(i=>{const s=new Ai(i,0),l=new Ai(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,l],h=>{r=r.add(h.Gr)})}),$e.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ct.isDocumentKey(s)||(s=s.child(""));const l=new Ai(new Ct(s),0);let h=new ci(rn);return this.zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(c.Gr)),!0)},l),$e.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){wn(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return $e.forEach(t.mutations,i=>{const s=new Ai(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Ai(t,0),i=this.zr.firstAfterOrEqual(r);return $e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.Zr=e,this.docs=function(){return new br(Ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $e.resolve(r?r.document.mutableCopy():Ei.newInvalidDocument(t))}getEntries(e,t){let r=eu();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ei.newInvalidDocument(i))}),$e.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=eu();const l=t.path,h=new Ct(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(h);for(;c.hasNext();){const{key:d,value:{document:g}}=c.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||fR(hR(g),r)<=0||(i.has(g.key)||Pg(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Nt(9500)}Xr(e,t){return $e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jP(this)}getSize(e){return $e.resolve(this.size)}}class jP extends CP{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),$e.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.persistence=e,this.ei=new Zc(t=>d2(t),p2),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.ti=0,this.ni=new _2,this.targetCount=0,this.ri=sf.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),$e.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new sf(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,$e.resolve()}updateTargetData(e,t){return this.ar(t),$e.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.ei.forEach((l,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),$e.waitFor(s).next(()=>i)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return $e.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),$e.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),$e.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),$e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return $e.resolve(r)}containsKey(e,t){return $e.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.ii={},this.overlays={},this.si=new Ng(0),this.oi=!1,this.oi=!0,this._i=new DP,this.referenceDelegate=e(this),this.ai=new MP(this),this.indexManager=new wP,this.remoteDocumentCache=function(i){return new kP(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new bP(t),this.ci=new PP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new OP(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ht("MemoryPersistence","Starting transaction:",e);const i=new FP(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,t){return $e.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class FP extends pR{constructor(e){super(),this.currentSequenceNumber=e}}class w2{constructor(e){this.persistence=e,this.Ti=new _2,this.Ii=null}static Ei(e){return new w2(e)}get di(){if(this.Ii)return this.Ii;throw Nt(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),$e.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),$e.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.di,r=>{const i=Ct.fromPath(r);return this.Ai(e,i).next(s=>{s||t.removeEntry(i,Vt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return $e.or([()=>$e.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class ng{constructor(e,t){this.persistence=e,this.Ri=new Zc(r=>vR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NP(this,t)}static Ei(e,t){return new ng(e,t)}li(){}hi(e){return $e.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return $e.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?$e.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,t).next(h=>{h||(r++,s.removeEntry(l,Vt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),$e.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),$e.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),$e.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tm(e.data.value)),t}gr(e,t,r){return $e.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return $e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=dn(),i=dn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new S2(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return wN()?8:mR(oa())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Vs(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new VP;return this.fs(e,t,l).next(h=>{if(s.result=h,this.Is)return this.gs(e,t,l,h.size)})}).next(()=>s.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Oh()<=fn.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",kh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),$e.resolve()):(Oh()<=fn.DEBUG&&ht("QueryEngine","Query:",kh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Oh()<=fn.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",kh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,il(t))):$e.resolve())}Rs(e,t){if(m_(t))return $e.resolve(null);let r=il(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=c1(t,null,"F"),r=il(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=dn(...s);return this.As.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ps(t,h);return this.ys(t,d,l,c.readTime)?this.Rs(e,c1(t,null,"F")):this.ws(e,d,t,c)}))})))}Vs(e,t,r,i){return m_(t)||i.isEqual(Vt.min())?$e.resolve(null):this.As.getDocuments(e,r).next(s=>{const l=this.ps(t,s);return this.ys(t,l,r,i)?$e.resolve(null):(Oh()<=fn.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kh(t)),this.ws(e,l,t,cR(i,Pd)).next(h=>h))})}ps(e,t){let r=new ci(Fx(e));return t.forEach((i,s)=>{Pg(e,s)&&(r=r.add(s))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,t,r){return Oh()<=fn.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",kh(t)),this.As.getDocumentsMatchingQuery(e,t,ac.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="LocalStore",UP=3e8;class qP{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new br(rn),this.Ds=new Zc(s=>d2(s),p2),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RP(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function zP(n,e,t,r){return new qP(n,e,t,r)}async function cA(n,e){const t=Gt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],h=[];let c=dn();for(const d of i){l.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}for(const d of s){h.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Ms:d,removedBatchIds:l,addedBatchIds:h}))})})}function HP(n,e){const t=Gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,c,d,g){const b=d.batch,S=b.keys();let _=$e.resolve();return S.forEach(E=>{_=_.next(()=>g.getEntry(c,E)).next(C=>{const R=d.docVersions.get(E);wn(R!==null,48541),C.version.compareTo(R)<0&&(b.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),g.addEntry(C)))})}),_.next(()=>h.mutationQueue.removeMutationBatch(c,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let c=dn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(c=c.add(h.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hA(n){const e=Gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function WP(n,e){const t=Gt(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const h=[];e.targetChanges.forEach((g,b)=>{const S=i.get(b);if(!S)return;h.push(t.ai.removeMatchingKeys(s,g.removedDocuments,b).next(()=>t.ai.addMatchingKeys(s,g.addedDocuments,b)));let _=S.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(b)!==null?_=_.withResumeToken(Vi.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),i=i.insert(b,_),function(C,R,I){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=UP?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(S,_,g)&&h.push(t.ai.updateTargetData(s,_))});let c=eu(),d=dn();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),h.push(GP(s,l,e.documentUpdates).next(g=>{c=g.xs,d=g.Os})),!r.isEqual(Vt.min())){const g=t.ai.getLastRemoteSnapshotVersion(s).next(b=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(g)}return $e.waitFor(h).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(t.Ss=i,s))}function GP(n,e,t){let r=dn(),i=dn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=eu();return t.forEach((h,c)=>{const d=s.get(h);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),c.isNoDocument()&&c.version.isEqual(Vt.min())?(e.removeEntry(h,c.readTime),l=l.insert(h,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),l=l.insert(h,c)):ht(x2,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",c.version)}),{xs:l,Os:i}})}function $P(n,e){const t=Gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=c2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YP(n,e){const t=Gt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(s=>s?(i=s,$e.resolve(i)):t.ai.allocateTargetId(r).next(l=>(i=new Qu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function p1(n,e,t){const r=Gt(n),i=r.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!vf(l))throw l;ht(x2,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function C_(n,e,t){const r=Gt(n);let i=Vt.min(),s=dn();return r.persistence.runTransaction("Execute query","readwrite",l=>function(c,d,g){const b=Gt(c),S=b.Ds.get(g);return S!==void 0?$e.resolve(b.Ss.get(S)):b.ai.getTargetData(d,g)}(r,l,il(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,h.targetId).next(c=>{s=c})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?i:Vt.min(),t?s:dn())).next(h=>(KP(r,MR(e),h),{documents:h,Ns:s})))}function KP(n,e,t){let r=n.vs.get(e)||Vt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.vs.set(e,r)}class I_{constructor(){this.activeTargetIds=zR()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QP{constructor(){this.So=new I_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new I_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class P_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ht(R_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ht(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am=null;function m1(){return am===null?am=function(){return 268435456+Math.round(2147483648*Math.random())}():am++,"0x"+am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="RestConnection",JP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZP{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Ym?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,s){const l=m1(),h=this.$o(e,t.toUriEncodedString());ht(Sv,`Sending RPC '${e}' ${l}:`,h,r);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(c,i,s);const{host:d}=new URL(h),g=Sg(d);return this.Ko(e,h,c,r,g).then(b=>(ht(Sv,`Received RPC '${e}' ${l}: `,b),b),b=>{throw tf(Sv,`RPC '${e}' ${l} failed with error: `,b,"url: ",h,"request:",r),b})}Wo(e,t,r,i,s,l){return this.Qo(e,t,r,i,s)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,t){const r=JP[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="WebChannelConnection";class tL extends ZP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,s){const l=m1();return new Promise((h,c)=>{const d=new fx;d.setWithCredentials(!0),d.listenOnce(dx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Am.NO_ERROR:const b=d.getResponseJson();ht(Zi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),h(b);break;case Am.TIMEOUT:ht(Zi,`RPC '${e}' ${l} timed out`),c(new yt(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const S=d.getStatus();if(ht(Zi,`RPC '${e}' ${l} failed with status:`,S,"response text:",d.getResponseText()),S>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const C=function(I){const B=I.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(B)>=0?B:Ke.UNKNOWN}(E.status);c(new yt(C,E.message))}else c(new yt(Ke.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new yt(Ke.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{s_:e,streamId:l,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{ht(Zi,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);ht(Zi,`RPC '${e}' ${l} sending request:`,i),d.send(t,"POST",g,r,15)})}a_(e,t,r){const i=m1(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gx(),h=mx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const g=s.join("");ht(Zi,`Creating RPC '${e}' stream ${i}: ${g}`,c);const b=l.createWebChannel(g,c);let S=!1,_=!1;const E=new eL({Go:R=>{_?ht(Zi,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(S||(ht(Zi,`Opening RPC '${e}' stream ${i} transport.`),b.open(),S=!0),ht(Zi,`RPC '${e}' stream ${i} sending:`,R),b.send(R))},zo:()=>b.close()}),C=(R,I,B)=>{R.listen(I,H=>{try{B(H)}catch(ae){setTimeout(()=>{throw ae},0)}})};return C(b,pd.EventType.OPEN,()=>{_||(ht(Zi,`RPC '${e}' stream ${i} transport opened.`),E.t_())}),C(b,pd.EventType.CLOSE,()=>{_||(_=!0,ht(Zi,`RPC '${e}' stream ${i} transport closed`),E.r_())}),C(b,pd.EventType.ERROR,R=>{_||(_=!0,tf(Zi,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),E.r_(new yt(Ke.UNAVAILABLE,"The operation could not be completed")))}),C(b,pd.EventType.MESSAGE,R=>{var I;if(!_){const B=R.data[0];wn(!!B,16349);const H=B,ae=(H==null?void 0:H.error)||((I=H[0])===null||I===void 0?void 0:I.error);if(ae){ht(Zi,`RPC '${e}' stream ${i} received error:`,ae);const $=ae.status;let ce=function(F){const W=Xr[F];if(W!==void 0)return Xx(W)}($),U=ae.message;ce===void 0&&(ce=Ke.INTERNAL,U="Unknown error status: "+$+" with message "+ae.message),_=!0,E.r_(new yt(ce,U)),b.close()}else ht(Zi,`RPC '${e}' stream ${i} received:`,B),E.i_(B)}}),C(h,px.STAT_EVENT,R=>{R.stat===i1.PROXY?ht(Zi,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===i1.NOPROXY&&ht(Zi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}function xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n){return new aP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class fA{constructor(e,t,r,i,s,l,h,c){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new A2(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Ke.RESOURCE_EXHAUSTED?(Zl(t.toString()),Zl("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new yt(Ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ht(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ht(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nL extends fA{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=uP(this.serializer,e),r=function(s){if(!("targetChange"in s))return Vt.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Vt.min():l.readTime?os(l.readTime):Vt.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=d1(this.serializer),t.addTarget=function(s,l){let h;const c=l.target;if(h=u1(c)?{documents:hP(s,c)}:{query:fP(s,c).gt},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=eA(s,l.resumeToken);const d=h1(s,l.expectedCount);d!==null&&(h.expectedCount=d)}else if(l.snapshotVersion.compareTo(Vt.min())>0){h.readTime=eg(s,l.snapshotVersion.toTimestamp());const d=h1(s,l.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const r=pP(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=d1(this.serializer),t.removeTarget=e,this.F_(t)}}class rL extends fA{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return wn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wn(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){wn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=cP(e.writeResults,e.commitTime),r=os(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=d1(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>iA(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{}class aL extends iL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new yt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Qo(e,f1(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new yt(Ke.UNKNOWN,s.toString())})}Wo(e,t,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(e,f1(t,r),i,l,h,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(Ke.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class sL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Zl(t),this.ea=!1):ht("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="RemoteStore";class oL{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(l=>{r.enqueueAndForget(async()=>{eh(this)&&(ht(Qc,"Restarting streams for network reachability change."),await async function(c){const d=Gt(c);d.aa.add(4),await Xd(d),d.la.set("Unknown"),d.aa.delete(4),await Mg(d)}(this))})}),this.la=new sL(r,i)}}async function Mg(n){if(eh(n))for(const e of n.ua)await e(!0)}async function Xd(n){for(const e of n.ua)await e(!1)}function dA(n,e){const t=Gt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),C2(t)?N2(t):yf(t).b_()&&E2(t,e))}function T2(n,e){const t=Gt(n),r=yf(t);t._a.delete(e),r.b_()&&pA(t,e),t._a.size===0&&(r.b_()?r.v_():eh(t)&&t.la.set("Unknown"))}function E2(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yf(n).U_(e)}function pA(n,e){n.ha.Ke(e),yf(n).K_(e)}function N2(n){n.ha=new tP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),yf(n).start(),n.la.ta()}function C2(n){return eh(n)&&!yf(n).w_()&&n._a.size>0}function eh(n){return Gt(n).aa.size===0}function mA(n){n.ha=void 0}async function lL(n){n.la.set("Online")}async function uL(n){n._a.forEach((e,t)=>{E2(n,e)})}async function cL(n,e){mA(n),C2(n)?(n.la.ia(e),N2(n)):n.la.set("Unknown")}async function hL(n,e,t){if(n.la.set("Online"),e instanceof Zx&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const h of s.targetIds)i._a.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i._a.delete(h),i.ha.removeTarget(h))}(n,e)}catch(r){ht(Qc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rg(n,r)}else if(e instanceof Cm?n.ha.Xe(e):e instanceof Jx?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Vt.min()))try{const r=await hA(n.localStore);t.compareTo(r)>=0&&await function(s,l){const h=s.ha.It(l);return h.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const g=s._a.get(d);g&&s._a.set(d,g.withResumeToken(c.resumeToken,l))}}),h.targetMismatches.forEach((c,d)=>{const g=s._a.get(c);if(!g)return;s._a.set(c,g.withResumeToken(Vi.EMPTY_BYTE_STRING,g.snapshotVersion)),pA(s,c);const b=new Qu(g.target,c,d,g.sequenceNumber);E2(s,b)}),s.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ht(Qc,"Failed to raise snapshot:",r),await rg(n,r)}}async function rg(n,e,t){if(!vf(e))throw e;n.aa.add(1),await Xd(n),n.la.set("Offline"),t||(t=()=>hA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(Qc,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Mg(n)})}function gA(n,e){return e().catch(t=>rg(n,t,e))}async function Fg(n){const e=Gt(n),t=uc(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:c2;for(;fL(e);)try{const i=await $P(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,dL(e,i)}catch(i){await rg(e,i)}vA(e)&&yA(e)}function fL(n){return eh(n)&&n.oa.length<10}function dL(n,e){n.oa.push(e);const t=uc(n);t.b_()&&t.W_&&t.G_(e.mutations)}function vA(n){return eh(n)&&!uc(n).w_()&&n.oa.length>0}function yA(n){uc(n).start()}async function pL(n){uc(n).H_()}async function mL(n){const e=uc(n);for(const t of n.oa)e.G_(t.mutations)}async function gL(n,e,t){const r=n.oa.shift(),i=v2.from(r,e,t);await gA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Fg(n)}async function vL(n,e){e&&uc(n).W_&&await async function(r,i){if(function(l){return Qx(l)&&l!==Ke.ABORTED}(i.code)){const s=r.oa.shift();uc(r).D_(),await gA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fg(r)}}(n,e),vA(n)&&yA(n)}async function D_(n,e){const t=Gt(n);t.asyncQueue.verifyOperationInProgress(),ht(Qc,"RemoteStore received new credentials");const r=eh(t);t.aa.add(3),await Xd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Mg(t)}async function yL(n,e){const t=Gt(n);e?(t.aa.delete(2),await Mg(t)):e||(t.aa.add(2),await Xd(t),t.la.set("Unknown"))}function yf(n){return n.Pa||(n.Pa=function(t,r,i){const s=Gt(t);return s.Y_(),new nL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:lL.bind(null,n),Jo:uL.bind(null,n),Zo:cL.bind(null,n),Q_:hL.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),C2(n)?N2(n):n.la.set("Unknown")):(await n.Pa.stop(),mA(n))})),n.Pa}function uc(n){return n.Ta||(n.Ta=function(t,r,i){const s=Gt(t);return s.Y_(),new rL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:pL.bind(null,n),Zo:vL.bind(null,n),z_:mL.bind(null,n),j_:gL.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Fg(n)):(await n.Ta.stop(),n.oa.length>0&&(ht(Qc,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,h=new I2(e,t,l,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R2(n,e){if(Zl("AsyncQueue",`${e}: ${n}`),vf(n))return new yt(Ke.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{static emptySet(e){return new Gh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ct.comparator(t.key,r.key):(t,r)=>Ct.comparator(t.key,r.key),this.keyedMap=md(),this.sortedSet=new br(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.Ia=new br(Ct.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Nt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class of{constructor(e,t,r,i,s,l,h,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new of(e,t,Gh.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class _L{constructor(){this.queries=k_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=Gt(t),s=i.queries;i.queries=k_(),s.forEach((l,h)=>{for(const c of h.Ra)c.onError(r)})})(this,new yt(Ke.ABORTED,"Firestore shutting down"))}}function k_(){return new Zc(n=>Mx(n),Rg)}async function bA(n,e){const t=Gt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new bL,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await t.onListen(i,!0);break;case 1:s.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const h=R2(l,`Initialization of query '${kh(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&P2(t)}async function _A(n,e){const t=Gt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.Ra.indexOf(e);l>=0&&(s.Ra.splice(l,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wL(n,e){const t=Gt(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const h of l.Ra)h.pa(i)&&(r=!0);l.Aa=i}}r&&P2(t)}function SL(n,e,t){const r=Gt(n),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(t);r.queries.delete(e)}function P2(n){n.fa.forEach(e=>{e.next()})}var g1,j_;(j_=g1||(g1={})).ya="default",j_.Cache="cache";class wA{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new of(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=of.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==g1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.key=e}}class xA{constructor(e){this.key=e}}class xL{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=dn(),this.mutatedKeys=dn(),this.Ua=Fx(e),this.Ka=new Gh(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new O_,i=t?t.Ka:this.Ka;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,b)=>{const S=i.get(g),_=Pg(this.query,b)?b:null,E=!!S&&this.mutatedKeys.has(S.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;S&&_?S.data.isEqual(_.data)?E!==C&&(r.track({type:3,doc:_}),R=!0):this.ja(S,_)||(r.track({type:2,doc:_}),R=!0,(c&&this.Ua(_,c)>0||d&&this.Ua(_,d)<0)&&(h=!0)):!S&&_?(r.track({type:0,doc:_}),R=!0):S&&!_&&(r.track({type:1,doc:S}),R=!0,(c||d)&&(h=!0)),R&&(_?(l=l.add(_),s=C?s.add(g):s.delete(g)):(l=l.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Ka:l,za:r,ys:h,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((g,b)=>function(_,E){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:R})}};return C(_)-C(E)}(g.type,b.type)||this.Ua(g.doc,b.doc)),this.Ha(r),i=i!=null&&i;const h=t&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,d=c!==this.Qa;return this.Qa=c,l.length!==0||d?{snapshot:new of(this.query,e.Ka,s,l,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new O_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=dn(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new xA(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new SA(r))}),t}Xa(e){this.qa=e.Ns,this.$a=dn();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return of.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const L2="SyncEngine";class AL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TL{constructor(e){this.key=e,this.tu=!1}}class EL{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Zc(h=>Mx(h),Rg),this.iu=new Map,this.su=new Set,this.ou=new br(Ct.comparator),this._u=new Map,this.au=new _2,this.uu={},this.cu=new Map,this.lu=sf.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function NL(n,e,t=!0){const r=IA(n);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await AA(r,e,t,!0),i}async function CL(n,e){const t=IA(n);await AA(t,e,!0,!1)}async function AA(n,e,t,r){const i=await YP(n.localStore,il(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let h;return r&&(h=await IL(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&dA(n.remoteStore,i),h}async function IL(n,e,t,r,i){n.Pu=(b,S,_)=>async function(C,R,I,B){let H=R.view.Ga(I);H.ys&&(H=await C_(C.localStore,R.query,!1).then(({documents:U})=>R.view.Ga(U,H)));const ae=B&&B.targetChanges.get(R.targetId),$=B&&B.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(H,C.isPrimaryClient,ae,$);return F_(C,R.targetId,ce.Ya),ce.snapshot}(n,b,S,_);const s=await C_(n.localStore,e,!0),l=new xL(e,s.Ns),h=l.Ga(s.documents),c=Qd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=l.applyChanges(h,n.isPrimaryClient,c);F_(n,t,d.Ya);const g=new AL(e,t,l);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),d.snapshot}async function RL(n,e,t){const r=Gt(n),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(l=>!Rg(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await p1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&T2(r.remoteStore,i.targetId),v1(r,i.targetId)}).catch(gf)):(v1(r,i.targetId),await p1(r.localStore,i.targetId,!0))}async function PL(n,e){const t=Gt(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),T2(t.remoteStore,r.targetId))}async function LL(n,e,t){const r=VL(n);try{const i=await function(l,h){const c=Gt(l),d=Zr.now(),g=h.reduce((_,E)=>_.add(E.key),dn());let b,S;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=eu(),C=dn();return c.Cs.getEntries(_,g).next(R=>{E=R,E.forEach((I,B)=>{B.isValidDocument()||(C=C.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,E)).next(R=>{b=R;const I=[];for(const B of h){const H=QR(B,b.get(B.key).overlayedDocument);H!=null&&I.push(new gc(B.key,H,Rx(H.value.mapValue),Fi.exists(!0)))}return c.mutationQueue.addMutationBatch(_,d,I,h)}).next(R=>{S=R;const I=R.applyToLocalDocumentSet(b,C);return c.documentOverlayCache.saveOverlays(_,R.batchId,I)})}).then(()=>({batchId:S.batchId,changes:Bx(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,h,c){let d=l.uu[l.currentUser.toKey()];d||(d=new br(rn)),d=d.insert(h,c),l.uu[l.currentUser.toKey()]=d}(r,i.batchId,t),await Jd(r,i.changes),await Fg(r.remoteStore)}catch(i){const s=R2(i,"Failed to persist write");t.reject(s)}}async function TA(n,e){const t=Gt(n);try{const r=await WP(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t._u.get(s);l&&(wn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?wn(l.tu,14607):i.removedDocuments.size>0&&(wn(l.tu,42227),l.tu=!1))}),await Jd(t,r,e)}catch(r){await gf(r)}}function M_(n,e,t){const r=Gt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((s,l)=>{const h=l.view.ga(e);h.snapshot&&i.push(h.snapshot)}),function(l,h){const c=Gt(l);c.onlineState=h;let d=!1;c.queries.forEach((g,b)=>{for(const S of b.Ra)S.ga(h)&&(d=!0)}),d&&P2(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DL(n,e,t){const r=Gt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),s=i&&i.key;if(s){let l=new br(Ct.comparator);l=l.insert(s,Ei.newNoDocument(s,Vt.min()));const h=dn().add(s),c=new kg(Vt.min(),new Map,new br(rn),l,h);await TA(r,c),r.ou=r.ou.remove(s),r._u.delete(e),D2(r)}else await p1(r.localStore,e,!1).then(()=>v1(r,e,t)).catch(gf)}async function OL(n,e){const t=Gt(n),r=e.batch.batchId;try{const i=await HP(t.localStore,e);NA(t,r,null),EA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jd(t,i)}catch(i){await gf(i)}}async function kL(n,e,t){const r=Gt(n);try{const i=await function(l,h){const c=Gt(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return c.mutationQueue.lookupMutationBatch(d,h).next(b=>(wn(b!==null,37113),g=b.keys(),c.mutationQueue.removeMutationBatch(d,b))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>c.localDocuments.getDocuments(d,g))})}(r.localStore,e);NA(r,e,t),EA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jd(r,i)}catch(i){await gf(i)}}function EA(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function NA(n,e,t){const r=Gt(n);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function v1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||CA(n,r)})}function CA(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(T2(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),D2(n))}function F_(n,e,t){for(const r of t)r instanceof SA?(n.au.addReference(r.key,e),jL(n,r)):r instanceof xA?(ht(L2,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||CA(n,r.key)):Nt(19791,{Iu:r})}function jL(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ht(L2,"New document in limbo: "+t),n.su.add(r),D2(n))}function D2(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ct(tr.fromString(e)),r=n.lu.next();n._u.set(r,new TL(t)),n.ou=n.ou.insert(t,r),dA(n.remoteStore,new Qu(il(m2(t.path)),r,"TargetPurposeLimboResolution",Ng.le))}}async function Jd(n,e,t){const r=Gt(n),i=[],s=[],l=[];r.ru.isEmpty()||(r.ru.forEach((h,c)=>{l.push(r.Pu(c,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const b=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(c.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(c.targetId,b?"current":"not-current")}if(d){i.push(d);const b=S2.Ps(c.targetId,d);s.push(b)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(c,d){const g=Gt(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$e.forEach(d,S=>$e.forEach(S.ls,_=>g.persistence.referenceDelegate.addReference(b,S.targetId,_)).next(()=>$e.forEach(S.hs,_=>g.persistence.referenceDelegate.removeReference(b,S.targetId,_)))))}catch(b){if(!vf(b))throw b;ht(x2,"Failed to update sequence numbers: "+b)}for(const b of d){const S=b.targetId;if(!b.fromCache){const _=g.Ss.get(S),E=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(E);g.Ss=g.Ss.insert(S,C)}}}(r.localStore,s))}async function ML(n,e){const t=Gt(n);if(!t.currentUser.isEqual(e)){ht(L2,"User change. New user:",e.toKey());const r=await cA(t.localStore,e);t.currentUser=e,function(s,l){s.cu.forEach(h=>{h.forEach(c=>{c.reject(new yt(Ke.CANCELLED,l))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jd(t,r.Ms)}}function FL(n,e){const t=Gt(n),r=t._u.get(e);if(r&&r.tu)return dn().add(r.key);{let i=dn();const s=t.iu.get(e);if(!s)return i;for(const l of s){const h=t.ru.get(l);i=i.unionWith(h.view.Wa)}return i}}function IA(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DL.bind(null,e),e.nu.Q_=wL.bind(null,e.eventManager),e.nu.Tu=SL.bind(null,e.eventManager),e}function VL(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kL.bind(null,e),e}class ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jg(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return zP(this.persistence,new BP,e.initialUser,this.serializer)}Ru(e){return new uA(w2.Ei,this.serializer)}Au(e){return new QP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ig.provider={build:()=>new ig};class BL extends ig{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){wn(this.persistence.referenceDelegate instanceof ng,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TP(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Da.withCacheSize(this.cacheSizeBytes):Da.DEFAULT;return new uA(r=>ng.Ei(r,t),this.serializer)}}class y1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ML.bind(null,this.syncEngine),await yL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _L}()}createDatastore(e){const t=jg(e.databaseInfo.databaseId),r=function(s){return new tL(s)}(e.databaseInfo);return function(s,l,h,c){return new aL(s,l,h,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,h){return new oL(r,i,s,l,h)}(this.localStore,this.datastore,e.asyncQueue,t=>M_(this.syncEngine,t,0),function(){return P_.C()?new P_:new XP}())}createSyncEngine(e,t){return function(i,s,l,h,c,d,g){const b=new EL(i,s,l,h,c,d);return g&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Gt(i);ht(Qc,"RemoteStore shutting down."),s.aa.add(5),await Xd(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}y1.provider={build:()=>new y1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Zl("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new yt(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=Gt(i),h={documents:s.map(b=>tg(l.serializer,b))},c=await l.Wo("BatchGetDocuments",l.serializer.databaseId,tr.emptyPath(),h,s.length),d=new Map;c.forEach(b=>{const S=lP(l.serializer,b);d.set(S.key.toString(),S)});const g=[];return s.forEach(b=>{const S=d.get(b.toString());wn(!!S,55234,{key:b}),g.push(S)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Og(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=Ct.fromPath(r);this.mutations.push(new Kx(i,this.precondition(i)))}),await async function(r,i){const s=Gt(r),l={writes:i.map(h=>iA(s.serializer,h))};await s.Qo("Commit",s.serializer.databaseId,tr.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nt(50498,{xu:e.constructor.name});t=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new yt(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vt.min())?Fi.exists(!1):Fi.updateTime(t):Fi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new yt(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fi.updateTime(t)}return Fi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Ou=r.maxAttempts,this.y_=new A2(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new UL(this.datastore),t=this.Lu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ku(i)}))}).catch(r=>{this.ku(r)})})}Lu(e){try{const t=this.updateFunction(e);return!Yd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Qx(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="FirestoreClient";class zL{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=aa.UNAUTHENTICATED,this.clientId=_x.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{ht(cc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ht(cc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=R2(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Av(n,e){n.asyncQueue.verifyOperationInProgress(),ht(cc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function V_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HL(n);ht(cc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>D_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>D_(e.remoteStore,i)),n._onlineComponents=e}async function HL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(cc,"Using user provided OfflineComponentProvider");try{await Av(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ke.FAILED_PRECONDITION||i.code===Ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;tf("Error using user provided cache. Falling back to memory cache: "+t),await Av(n,new ig)}}else ht(cc,"Using default OfflineComponentProvider"),await Av(n,new BL(void 0));return n._offlineComponents}async function O2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(cc,"Using user provided OnlineComponentProvider"),await V_(n,n._uninitializedComponentsProvider._online)):(ht(cc,"Using default OnlineComponentProvider"),await V_(n,new y1))),n._onlineComponents}function WL(n){return O2(n).then(e=>e.syncEngine)}function GL(n){return O2(n).then(e=>e.datastore)}async function PA(n){const e=await O2(n),t=e.eventManager;return t.onListen=NL.bind(null,e.syncEngine),t.onUnlisten=RL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PL.bind(null,e.syncEngine),t}function $L(n,e,t={}){const r=new rl;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,h,c,d){const g=new RA({next:S=>{g.yu(),l.enqueueAndForget(()=>_A(s,b));const _=S.docs.has(h);!_&&S.fromCache?d.reject(new yt(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&S.fromCache&&c&&c.source==="server"?d.reject(new yt(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(S)},error:S=>d.reject(S)}),b=new wA(m2(h.path),g,{includeMetadataChanges:!0,Fa:!0});return bA(s,b)}(await PA(n),n.asyncQueue,e,t,r)),r.promise}function YL(n,e,t={}){const r=new rl;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,h,c,d){const g=new RA({next:S=>{g.yu(),l.enqueueAndForget(()=>_A(s,b)),S.fromCache&&c.source==="server"?d.reject(new yt(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(S)},error:S=>d.reject(S)}),b=new wA(h,g,{includeMetadataChanges:!0,Fa:!0});return bA(s,b)}(await PA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e,t){if(!t)throw new yt(Ke.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KL(n,e,t,r){if(e===!0&&r===!0)throw new yt(Ke.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function U_(n){if(!Ct.isDocumentKey(n))throw new yt(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function q_(n){if(Ct.isDocumentKey(n))throw new yt(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function k2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Nt(12329,{type:typeof n})}function Ls(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new yt(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=k2(n);throw new yt(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",z_=!0;class H_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=z_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xP)throw new yt(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tR;switch(r.type){case"firstParty":return new aR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=B_.get(t);r&&(ht("ComponentProvider","Removing Datastore"),B_.delete(t),r.terminate())}(this),Promise.resolve()}}function QL(n,e,t,r={}){var i;n=Ls(n,Vg);const s=Sg(e),l=n._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&TS(`https://${c}`),l.host!==OA&&l.host!==c&&tf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:c,ssl:s,emulatorOptions:r});if(!Gc(d,h)&&(n._setSettings(d),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=aa.MOCK_USER;else{g=pN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new yt(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new aa(S)}n._authCredentials=new nR(new yx(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bg(this.firestore,e,this._query)}}class ga{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ga(this.firestore,e,this._key)}}class rc extends Bg{constructor(e,t,r){super(e,t,m2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ga(this.firestore,null,new Ct(e))}withConverter(e){return new rc(this.firestore,e,this._path)}}function Hr(n,e,...t){if(n=hi(n),DA("collection","path",e),n instanceof Vg){const r=tr.fromString(e,...t);return q_(r),new rc(n,null,r)}{if(!(n instanceof ga||n instanceof rc))throw new yt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tr.fromString(e,...t));return q_(r),new rc(n.firestore,null,r)}}function Jn(n,e,...t){if(n=hi(n),arguments.length===1&&(e=_x.newId()),DA("doc","path",e),n instanceof Vg){const r=tr.fromString(e,...t);return U_(r),new ga(n,null,new Ct(r))}{if(!(n instanceof ga||n instanceof rc))throw new yt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tr.fromString(e,...t));return U_(r),new ga(n.firestore,n instanceof rc?n.converter:null,new Ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new A2(this,"async_queue_retry"),this.ju=()=>{const r=xv();r&&ht(W_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=xv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=xv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new rl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vf(e))throw e;ht(W_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Zl("INTERNAL UNHANDLED ERROR: ",$_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=I2.createAndSchedule(this,e,t,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Nt(47125,{ec:$_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function $_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class vc extends Vg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new G_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function XL(n,e){const t=typeof n=="object"?n:IS(),r=typeof n=="string"?n:Ym,i=Z1(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fN("firestore");s&&QL(i,...s)}return i}function Ug(n){if(n._terminated)throw new yt(Ke.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JL(n),n._firestoreClient}function JL(n){var e,t,r;const i=n._freezeSettings(),s=function(h,c,d,g){return new _R(h,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,LA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new zL(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(h){const c=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(Vi.fromBase64String(e))}catch(t){throw new yt(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xc(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new yt(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yt(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yt(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^__.*__$/;class e8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new gc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kd(e,this.data,t,this.fieldTransforms)}}class kA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{oc:n})}}class V2{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new V2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ag(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(jA(this.oc)&&ZL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class t8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jg(e)}dc(e,t,r,i=!1){return new V2({oc:e,methodName:t,Ec:r,path:Mi.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(n){const e=n._freezeSettings(),t=jg(n._databaseId);return new t8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function B2(n,e,t,r,i,s={}){const l=n.dc(s.merge||s.mergeFields?2:0,e,t,i);U2("Data must be an object, but it was:",l,r);const h=VA(r,l);let c,d;if(s.merge)c=new is(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const g=[];for(const b of s.mergeFields){const S=b1(e,b,t);if(!l.contains(S))throw new yt(Ke.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);UA(g,S)||g.push(S)}c=new is(g),d=l.fieldTransforms.filter(b=>c.covers(b.field))}else c=null,d=l.fieldTransforms;return new e8(new ma(h),c,d)}class zg extends j2{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zg}}function MA(n,e,t,r){const i=n.dc(1,e,t);U2("Data must be an object, but it was:",i,r);const s=[],l=ma.empty();mc(r,(c,d)=>{const g=q2(e,c,t);d=hi(d);const b=i.hc(g);if(d instanceof zg)s.push(g);else{const S=Hg(d,b);S!=null&&(s.push(g),l.set(g,S))}});const h=new is(s);return new kA(l,h,i.fieldTransforms)}function FA(n,e,t,r,i,s){const l=n.dc(1,e,t),h=[b1(e,r,t)],c=[i];if(s.length%2!=0)throw new yt(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)h.push(b1(e,s[S])),c.push(s[S+1]);const d=[],g=ma.empty();for(let S=h.length-1;S>=0;--S)if(!UA(d,h[S])){const _=h[S];let E=c[S];E=hi(E);const C=l.hc(_);if(E instanceof zg)d.push(_);else{const R=Hg(E,C);R!=null&&(d.push(_),g.set(_,R))}}const b=new is(d);return new kA(g,b,l.fieldTransforms)}function Hg(n,e){if(BA(n=hi(n)))return U2("Unsupported field value:",e,n),VA(n,e);if(n instanceof j2)return function(r,i){if(!jA(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const h of r){let c=Hg(h,i.Pc(l));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=hi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zr.fromDate(r);return{timestampValue:eg(i.serializer,s)}}if(r instanceof Zr){const s=new Zr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eg(i.serializer,s)}}if(r instanceof M2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xc)return{bytesValue:eA(i.serializer,r._byteString)};if(r instanceof ga){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof F2)return function(l,h){return{mapValue:{fields:{[Cx]:{stringValue:Ix},[Km]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw h.Tc("VectorValues must only contain numeric values.");return g2(h.serializer,d)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${k2(r)}`)}(n,e)}function VA(n,e){const t={};return Sx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mc(n,(r,i)=>{const s=Hg(i,e.uc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function BA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zr||n instanceof M2||n instanceof Xc||n instanceof ga||n instanceof j2||n instanceof F2)}function U2(n,e,t){if(!BA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=k2(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function b1(n,e,t){if((e=hi(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return q2(n,e);throw ag("Field path arguments must be of type string or ",n,!1,void 0,t)}const n8=new RegExp("[~\\*/\\[\\]]");function q2(n,e,t){if(e.search(n8)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zd(...e.split("."))._internalPath}catch{throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ag(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let c="";return(s||l)&&(c+=" (found",s&&(c+=` in field ${r}`),l&&(c+=` in document ${i}`),c+=")"),new yt(Ke.INVALID_ARGUMENT,h+n+c)}function UA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ga(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class r8 extends sg{data(){return super.data()}}function qA(n,e){return typeof e=="string"?q2(n,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zA{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Km].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Br(l.doubleValue));return new F2(s)}convertGeoPoint(e){return new M2(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const t=sc(e);return new Zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tr.fromString(e);wn(oA(r),9688,{name:e});const i=new Dd(r.get(1),r.get(3)),s=new Ct(r.popFirst(5));return i.isEqual(t)||Zl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class a8 extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ga(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H2 extends sg{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Im extends H2{data(e={}){return super.data(e)}}class s8{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Im(this._firestore,this._userDataWriter,r.key,r,new Uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yt(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(h=>{const c=new Im(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Uh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>s||h.type!==3).map(h=>{const c=new Im(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Uh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return h.type!==0&&(d=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:o8(h.type),doc:c,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n){n=Ls(n,ga);const e=Ls(n.firestore,vc);return $L(Ug(e),n._key).then(t=>u8(e,n,t))}class W2 extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ga(this.firestore,null,t)}}function ei(n){n=Ls(n,Bg);const e=Ls(n.firestore,vc),t=Ug(e),r=new W2(e);return i8(n._query),YL(t,n._query).then(i=>new s8(e,r,n,i))}function G2(n,e,t){n=Ls(n,ga);const r=Ls(n.firestore,vc),i=z2(n.converter,e,t);return Gg(r,[B2(qg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Fi.none())])}function ep(n,e,t,...r){n=Ls(n,ga);const i=Ls(n.firestore,vc),s=qg(i);let l;return l=typeof(e=hi(e))=="string"||e instanceof Zd?FA(s,"updateDoc",n._key,e,t,r):MA(s,"updateDoc",n._key,e),Gg(i,[l.toMutation(n._key,Fi.exists(!0))])}function Wg(n){return Gg(Ls(n.firestore,vc),[new Og(n._key,Fi.none())])}function l8(n,e){const t=Ls(n.firestore,vc),r=Jn(n),i=z2(n.converter,e);return Gg(t,[B2(qg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Fi.exists(!1))]).then(()=>r)}function Gg(n,e){return function(r,i){const s=new rl;return r.asyncQueue.enqueueAndForget(async()=>LL(await WL(r),i,s)),s.promise}(Ug(n),e)}function u8(n,e,t){const r=t.docs.get(e._key),i=new W2(n);return new H2(n,i,e._key,r,new Uh(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8={maxAttempts:5};function vd(n,e){if((n=hi(n)).firestore!==e)throw new yt(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qg(e)}get(e){const t=vd(e,this._firestore),r=new a8(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Nt(24041);const s=i[0];if(s.isFoundDocument())return new sg(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new sg(this._firestore,r,t._key,null,t.converter);throw Nt(18433,{doc:s})})}set(e,t,r){const i=vd(e,this._firestore),s=z2(i.converter,t,r),l=B2(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=vd(e,this._firestore);let l;return l=typeof(t=hi(t))=="string"||t instanceof Zd?FA(this._dataReader,"Transaction.update",s._key,t,r,i):MA(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=vd(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8 extends h8{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=vd(e,this._firestore),r=new W2(this._firestore);return super.get(e).then(i=>new H2(this._firestore,r,t._key,i._document,new Uh(!1,!1),t.converter))}}function HA(n,e,t){n=Ls(n,vc);const r=Object.assign(Object.assign({},c8),t);return function(s){if(s.maxAttempts<1)throw new yt(Ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,h){const c=new rl;return s.asyncQueue.enqueueAndForget(async()=>{const d=await GL(s);new qL(s.asyncQueue,d,h,l,c).Nu()}),c.promise}(Ug(n),i=>e(new f8(n,i)),r)}(function(e,t=!0){(function(i){mf=i})(ff),Zh(new $c("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),h=new vc(new rR(r.getProvider("auth-internal")),new sR(l,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new yt(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(d.options.projectId,g)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),ec(J5,Z5,e),ec(J5,Z5,"esm2017")})();const d8={apiKey:"AIzaSyAoVDfwji6ueGndkRANbCeAx93PVu9BqZU",authDomain:"wt-invoices.firebaseapp.com",projectId:"wt-invoices",storageBucket:"wt-invoices.appspot.com",messagingSenderId:"6264858046",appId:"1:6264858046:web:ab835097cb4d0b5ebc45ef"},WA=CS(d8),Ut=XL(WA),$2=XI(WA);function p8(){const[n,e]=ne.useState(""),[t,r]=ne.useState(""),[i,s]=ne.useState(""),l=fi(),h=async c=>{c.preventDefault();try{await jC($2,n,t),l("/dashboard")}catch{s("Invalid credentials. Please try again.")}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#3b5999]",children:A.jsxs("form",{onSubmit:h,className:"bg-[#3b5999] p-8 rounded shadow-md w-96 loginform",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-[#ffffff]",children:"Login"}),i&&A.jsx("p",{className:"text-red-500 text-sm mb-4",children:i}),A.jsxs("div",{className:"mb-4 text-[#ffffff]",children:[A.jsx("label",{className:"block mb-1",children:"Email"}),A.jsx("input",{type:"email",value:n,onChange:c=>e(c.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),A.jsxs("div",{className:"mb-6 text-[#ffffff]",children:[A.jsx("label",{className:"block mb-1",children:"Password"}),A.jsx("input",{type:"password",value:t,onChange:c=>r(c.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),A.jsx("button",{type:"submit",className:"w-full bg-white text-[#3b5999] px-4 py-2 rounded",children:"Sign In"})]})})}function m8(){const n=fi(),e=ru(),[t,r]=ne.useState(!1);ne.useEffect(()=>{const h=document.documentElement,c=document.body;return t?(h.style.overflow="hidden",c.style.overflow="hidden",c.style.touchAction="none"):(h.style.overflow="",c.style.overflow="",c.style.touchAction=""),()=>{h.style.overflow="",c.style.overflow="",c.style.touchAction=""}},[t]),ne.useEffect(()=>r(!1),[e.pathname]);const i=async()=>{await BC($2),n("/login")},s=()=>A.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":"true",children:A.jsx("path",{d:"M4 7h16M4 12h16M4 17h16",stroke:"black",strokeWidth:"2.5",strokeLinecap:"round"})}),l=()=>A.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":"true",children:A.jsx("path",{d:"M6 6l12 12M18 6l-12 12",stroke:"black",strokeWidth:"2.5",strokeLinecap:"round"})});return A.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[A.jsx("header",{className:"sticky top-0 z-40 bg-white",children:A.jsxs("div",{className:"h-[100px] min-[1025px]:h-16 max-w-7xl mx-auto px-4 md:px-6 flex items-center justify-between overflow-visible",children:[A.jsx("div",{className:"invoices-logo select-none",children:A.jsx("img",{src:"/invoice-logo.png",alt:"Logo",style:{width:"100px",height:"auto"},draggable:"false"})}),A.jsxs("nav",{className:"hidden min-[1025px]:flex items-center space-x-6 xl:space-x-10 2xl:space-x-12 relative z-[70]",children:[A.jsx(Y_,{to:"/dashboard/home",children:"Home"}),A.jsxs(sm,{label:"Project Management",children:[A.jsx(zu,{to:"/dashboard/add-project",children:"Add Project"}),A.jsx(zu,{to:"/dashboard/all-projects",children:"All Projects"})]}),A.jsxs(sm,{label:"Client Registration",children:[A.jsx(zu,{to:"/dashboard/add-client",children:"Register Client"}),A.jsx(zu,{to:"/dashboard/all-clients",children:"Client List"})]}),A.jsxs(sm,{label:"Invoice Generation",children:[A.jsx(zu,{to:"/dashboard/create-invoice",children:"Create Invoice"}),A.jsx(zu,{to:"/dashboard/all-invoices",children:"Invoice List"})]}),A.jsxs(sm,{label:"Quotation Generation",children:[A.jsx(zu,{to:"/dashboard/create-quotation",children:"Create Quotation"}),A.jsx(zu,{to:"/dashboard/quotations",children:"Quotations List"})]}),A.jsx(Y_,{to:"/dashboard/invoice-summary",children:"Invoice Summary"}),A.jsx("button",{onClick:i,className:"logout ml-2 inline-flex items-center justify-center rounded-md px-4 py-2 text-white bg-gradient-to-b from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700",children:"Logout"})]}),A.jsx("button",{onClick:()=>r(!0),className:`min-[1025px]:hidden inline-flex items-center justify-center w-10 h-10 rounded-md hover:bg-slate-100 ${t?"hidden":""}`,"aria-label":"Open menu","aria-expanded":t,children:A.jsx(s,{})})]})}),t&&A.jsx("div",{className:"fixed inset-0 z-50 min-[1025px]:hidden",children:A.jsx("div",{className:"fixed inset-0 bg-[#ffffff] text-slate-800 overflow-y-auto menu-block",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-5 pt-4 pb-8",children:[A.jsxs("div",{className:"h-12 flex items-center justify-between",children:[A.jsx("span",{className:"text-[15px] font-semibold tracking-wide text-slate-700",children:"Menu"}),A.jsx("button",{onClick:()=>r(!1),className:"w-10 h-10 inline-flex items-center justify-center rounded-md hover:bg-slate-100 close-menu-btn","aria-label":"Close menu",children:A.jsx(l,{})})]}),A.jsxs("nav",{className:"mt-2",children:[A.jsx(Wc,{className:"block w-full px-3 py-3 rounded-lg text-[15px] font-medium hover:bg-slate-50",to:"/dashboard/home",children:"Home"}),A.jsx(om,{title:"Project Management",items:[{label:"Add Project",to:"/dashboard/add-project"},{label:"All Projects",to:"/dashboard/all-projects"}]}),A.jsx(om,{title:"Client Registration",items:[{label:"Register Client",to:"/dashboard/add-client"},{label:"Client List",to:"/dashboard/all-clients"}]}),A.jsx(om,{title:"Invoice Generation",items:[{label:"Create Invoice",to:"/dashboard/create-invoice"},{label:"Invoice List",to:"/dashboard/all-invoices"}]}),A.jsx(om,{title:"Quotation Generation",items:[{label:"Create Quotation",to:"/dashboard/create-quotation"},{label:"Quotations List",to:"/dashboard/quotations"}]}),A.jsx(Wc,{className:"block w-full mt-1 px-3 py-3 rounded-lg text-[15px] font-medium hover:bg-slate-50",to:"/dashboard/invoice-summary",children:"Invoice Summary"}),A.jsx("button",{onClick:i,className:"logout mt-6 w-full inline-flex items-center justify-center rounded-lg px-4 py-3 text-sm font-semibold text-white bg-gradient-to-b from-rose-500 to-rose-600 hover:from-rose-600 hover:to-rose-700",children:"Logout"})]})]})})}),A.jsx("main",{className:"flex-1",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-6",children:A.jsx(pE,{})})})]})}function Y_({to:n,children:e}){return A.jsx(Wc,{to:n,className:"px-3 py-2 rounded-md text-slate-700 hover:bg-slate-50",children:e})}function sm({label:n,children:e}){return A.jsxs("div",{className:"relative group",children:[A.jsxs("button",{className:"inline-flex items-center gap-1 px-3 py-2 rounded-md text-slate-700 hover:bg-slate-50 focus:outline-none",type:"button",children:[n," ▾"]}),A.jsx("div",{className:`\r
          absolute left-0 top-full mt-0 hidden group-hover:block z-[100] min-w-full\r
          pointer-events-none group-hover:pointer-events-auto\r
          `,children:A.jsx("div",{className:"relative before:content-[''] before:absolute before:-top-2 before:left-0 before:right-0 before:h-2",children:A.jsx("div",{className:"bg-white rounded-xl shadow-xl py-1",children:A.jsx("div",{className:"flex flex-col w-full gap-1",children:e})})})})]})}function zu({to:n,children:e}){return A.jsx(Wc,{to:n,className:"block w-full px-3 py-2 rounded-lg text-slate-700 hover:bg-slate-50",children:e})}function g8({open:n}){return A.jsx("svg",{width:"30",height:"30",viewBox:"0 0 24 24",className:`transition-transform ${n?"rotate-180":""}`,"aria-hidden":"true",children:A.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"})})}function om({title:n,items:e}){const[t,r]=ne.useState(!1);return A.jsxs("div",{className:"mt-1",children:[A.jsxs("button",{onClick:()=>r(i=>!i),className:"w-full px-3 py-3 flex items-center justify-between gap-3 text-[15px] font-semibold text-slate-800 rounded-lg hover:bg-slate-50","aria-expanded":t,children:[A.jsx("span",{children:n}),A.jsx(g8,{open:t})]}),A.jsx("div",{className:`grid transition-[grid-template-rows] duration-200 ${t?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:A.jsx("div",{className:"overflow-hidden",children:A.jsx("div",{className:"py-1",children:e.map(i=>A.jsx(Wc,{to:i.to,className:"block w-full px-5 py-2.5 rounded-lg text-slate-700 hover:bg-slate-50",children:i.label},i.to))})})})]})}const Tv=({label:n,count:e,total:t,color:r})=>{const i=t>0?Math.round(e/t*100):0;return A.jsxs("div",{className:"mb-6",children:[A.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:n}),A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-8 relative overflow-hidden",children:A.jsx("div",{className:"h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold bar-colour",style:{width:`${i}%`,backgroundColor:r,transition:"width 0.5s ease"},children:A.jsxs("span",{children:[i,"%"]})})})]})};function v8(){const[n,e]=ne.useState([]);ne.useEffect(()=>{(async()=>{const c=(await ei(Hr(Ut,"invoices"))).docs.map(d=>d.data());e(c)})()},[]);const t=n.length,r=n.filter(l=>l.payment_status==="Paid").length,i=n.filter(l=>l.payment_status==="Pending").length,s=n.filter(l=>l.payment_status==="Partial").length;return A.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center px-4 py-10",children:A.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-md rounded-md p-8",children:[A.jsx("h2",{className:"text-2xl font-bold text-center mb-8 text-black",children:"Payment Status"}),A.jsxs("div",{className:"grid grid-cols-4 text-center mb-8",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-500 font-bold text-[#037595]",children:"Total"}),A.jsx("p",{className:"text-lg font-bold text-black",children:t})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-500 text-[#16a34a] font-bold",children:"Paid"}),A.jsx("p",{className:"text-lg font-bold text-green-600",children:r})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-500 font-bold text-[#dc2626]",children:"Pending"}),A.jsx("p",{className:"text-lg font-bold text-red-600",children:i})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-500 font-bold text-[#2563eb]",children:"Partial"}),A.jsx("p",{className:"text-lg font-bold text-blue-600",children:s})]})]}),A.jsx(Tv,{label:"Paid",count:r,total:t,color:"#16a34a"}),A.jsx(Tv,{label:"Pending",count:i,total:t,color:"#dc2626"}),A.jsx(Tv,{label:"Partial",count:s,total:t,color:"#2563eb"})]})})}const K_={India:["Andhra Pradesh","Telangana","Tamil Nadu","Maharashtra","Karnataka","Uttar Pradesh","Rajasthan","West Bengal","Madhya Pradesh","Gujarat","Bihar","Odisha","Jharkhand","Chhattisgarh","Haryana","Punjab","Assam","Uttarakhand","Himachal Pradesh","Tripura","Meghalaya","Manipur","Nagaland","Goa","Arunachal Pradesh","Mizoram","Sikkim","Delhi","Jammu and Kashmir","Ladakh","Puducherry","Chandigarh","Andaman and Nicobar Islands","Dadra and Nagar Haveli and Daman and Diu","Lakshadweep"],"United States":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],Canada:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan"],Australia:["New South Wales","Victoria","Queensland","Western Australia","South Australia","Tasmania","Australian Capital Territory","Northern Territory"],Germany:["Baden-Württemberg","Bavaria","Berlin","Brandenburg","Bremen","Hamburg","Hesse","Lower Saxony","Mecklenburg-Vorpommern","North Rhine-Westphalia","Rhineland-Palatinate","Saarland","Saxony","Saxony-Anhalt","Schleswig-Holstein","Thuringia"],"United Kingdom":["England","Scotland","Wales","Northern Ireland"],France:["Auvergne-Rhône-Alpes","Bourgogne-Franche-Comté","Brittany","Centre-Val de Loire","Corsica","Grand Est","Hauts-de-France","Île-de-France","Normandy","Nouvelle-Aquitaine","Occitanie","Pays de la Loire","Provence-Alpes-Côte d'Azur"],Brazil:["Acre","Alagoas","Amapá","Amazonas","Bahia","Ceará","Distrito Federal","Espírito Santo","Goiás","Maranhão","Mato Grosso","Mato Grosso do Sul","Minas Gerais","Pará","Paraíba","Paraná","Pernambuco","Piauí","Rio de Janeiro","Rio Grande do Norte","Rio Grande do Sul","Rondônia","Roraima","Santa Catarina","São Paulo","Sergipe","Tocantins"],Japan:["Hokkaido","Aomori","Iwate","Miyagi","Akita","Yamagata","Fukushima","Ibaraki","Tochigi","Gunma","Saitama","Chiba","Tokyo","Kanagawa","Niigata","Toyama","Ishikawa","Fukui","Yamanashi","Nagano","Gifu","Shizuoka","Aichi","Mie","Shiga","Kyoto","Osaka","Hyogo","Nara","Wakayama","Tottori","Shimane","Okayama","Hiroshima","Yamaguchi","Tokushima","Kagawa","Ehime","Kochi","Fukuoka","Saga","Nagasaki","Kumamoto","Oita","Miyazaki","Kagoshima","Okinawa"],UAE:["Abu Dhabi","Dubai","Sharjah","Ajman","Umm Al-Quwain","Ras Al Khaimah","Fujairah"],Singapore:[],Nepal:[],Bangladesh:[],"Sri Lanka":[],Pakistan:[],China:[],"South Africa":[],"Saudi Arabia":[],Russia:[],Italy:[],Spain:[],Mexico:[],Thailand:[],Malaysia:[],Indonesia:[],Vietnam:[],Philippines:[],"New Zealand":[],Nigeria:[],Turkey:[],"South Korea":[],Egypt:[],Argentina:[],Israel:[]};function y8(){const[n,e]=ne.useState({client_name:"",company_name:"",poc:"",phone:"",email:"",address:"",country:"",state:"",pan_number:"",gst_number:""}),t=fi(),r=h=>{const{name:c,value:d}=h.target;e(c==="country"?g=>({...g,country:d,state:""}):g=>({...g,[c]:d}))},i=async h=>{h.preventDefault();const c=["client_name","company_name","poc","phone","email","address","pan_number"];for(let b of c)if(!n[b].trim()){alert(`Please fill ${b.replace("_"," ")}`);return}const d=`${n.company_name}_${n.client_name}`.replace(/\s+/g,"_"),g={...n,gst_number:n.gst_number.trim()===""?"NA":n.gst_number,created_at:Zr.now()};try{await G2(Jn(Ut,"clients",d),g),t("/dashboard/all-clients")}catch{alert("Submission failed.")}},s=Object.keys(K_),l=K_[n.country]||[];return A.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 font-inter",children:A.jsxs("form",{onSubmit:i,className:"shadow-lg rounded-lg p-8 max-w-md w-full space-y-4 bg-white text-black",children:[A.jsx("h2",{className:"text-2xl font-bold text-center",children:"Client Registration Form"}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-semibold",children:"Client Name"}),A.jsx("input",{name:"client_name",value:n.client_name,onChange:r,className:"w-full border border-gray-300 px-4 py-2 rounded",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-semibold",children:"Select Company"}),A.jsxs("select",{name:"company_name",value:n.company_name,onChange:r,className:"w-full border border-gray-300 px-4 py-2 rounded bg-white",required:!0,children:[A.jsx("option",{value:"",children:"Select Company"}),A.jsx("option",{value:"WT",children:"WT"}),A.jsx("option",{value:"WTPL",children:"WTPL"}),A.jsx("option",{value:"WTX",children:"WTX"}),A.jsx("option",{value:"WTXPL",children:"WTXPL"})]})]}),[{name:"poc",label:"POC"},{name:"phone",label:"Phone Number"},{name:"email",label:"Email"}].map(({name:h,label:c})=>A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-semibold",children:c}),A.jsx("input",{name:h,value:n[h],onChange:r,className:"w-full border border-gray-300 px-4 py-2 rounded",required:!0})]},h)),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-semibold",children:"Country"}),A.jsxs("select",{name:"country",value:n.country,onChange:r,className:"w-full border border-gray-300 px-4 py-2 rounded bg-white",required:!0,children:[A.jsx("option",{value:"",children:"Select Country"}),s.map(h=>A.jsx("option",{value:h,children:h},h))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-semibold",children:"State"}),l.length>0?A.jsxs("select",{name:"state",value:n.state,onChange:r,className:"w-full border border-gray-300 px-4 py-2 rounded bg-white",required:!0,children:[A.jsx("option",{value:"",children:"Select State"}),l.map(h=>A.jsx("option",{value:h,children:h},h))]}):A.jsx("input",{name:"state",value:n.state,onChange:r,placeholder:"State / Region",className:"w-full border border-gray-300 px-4 py-2 rounded",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-semibold",children:"Address"}),A.jsx("input",{name:"address",value:n.address,onChange:r,className:"w-full border border-gray-300 px-4 py-2 rounded",required:!0})]}),[{name:"pan_number",label:"PAN Number"},{name:"gst_number",label:"GST Number"}].map(({name:h,label:c})=>A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-semibold",children:c}),A.jsx("input",{name:h,value:n[h],onChange:r,className:"w-full border border-gray-300 px-4 py-2 rounded",required:h==="pan_number"})]},h)),A.jsx("button",{type:"submit",className:"w-full bg-black text-white font-semibold py-2 rounded transition cursor-pointer signup-btn",children:"Submit"})]})})}function b8(){const[n,e]=ne.useState([]),t=fi();ne.useEffect(()=>{(async()=>{const l=(await ei(Hr(Ut,"clients"))).docs.map(h=>({id:h.id,...h.data()}));e(l)})()},[]);const r=async i=>{confirm("Are you sure you want to delete this client?")&&(await Wg(Jn(Ut,"clients",i)),e(n.filter(s=>s.id!==i)))};return A.jsxs("div",{className:"p-6 overflow-x-auto all-clients",children:[A.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Clients"}),A.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 text-left",children:[A.jsx("th",{className:"p-2 border",children:"Client Name"}),A.jsx("th",{className:"p-2 border",children:"Company"}),A.jsx("th",{className:"p-2 border",children:"POC"}),A.jsx("th",{className:"p-2 border",children:"Phone"}),A.jsx("th",{className:"p-2 border",children:"Email"}),A.jsx("th",{className:"p-2 border",children:"Country"}),A.jsx("th",{className:"p-2 border",children:"State"}),A.jsx("th",{className:"p-2 border",children:"Address"}),A.jsx("th",{className:"p-2 border",children:"PAN"}),A.jsx("th",{className:"p-2 border",children:"GST"}),A.jsx("th",{className:"p-2 border",children:"Actions"})]})}),A.jsx("tbody",{children:n.map(i=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"p-2 border",children:i.client_name}),A.jsx("td",{className:"p-2 border",children:i.company_name}),A.jsx("td",{className:"p-2 border",children:i.poc}),A.jsx("td",{className:"p-2 border",children:i.phone}),A.jsx("td",{className:"p-2 border",children:i.email}),A.jsx("td",{className:"p-2 border",children:i.country}),A.jsx("td",{className:"p-2 border",children:i.state}),A.jsx("td",{className:"p-2 border",children:i.address}),A.jsx("td",{className:"p-2 border",children:i.pan_number}),A.jsx("td",{className:"p-2 border",children:i.gst_number}),A.jsxs("td",{className:"p-2 border whitespace-nowrap",children:[A.jsx("button",{onClick:()=>t(`/dashboard/edit-client/${i.id}`),className:"mr-2 text-blue-600 hover:underline edit",children:"Edit"}),A.jsx("button",{onClick:()=>r(i.id),className:"mr-2 text-red-600 hover:underline edit",children:"Delete"}),A.jsx("button",{onClick:()=>t(`/dashboard/client-preview/${i.id}`),className:"text-green-600 hover:underline edit",children:"Preview"})]})]},i.id))})]})]})}function _n(n){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(n)}function _8(n,e){if(_n(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(_n(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GA(n){var e=_8(n,"string");return _n(e)=="symbol"?e:e+""}function yd(n,e,t){return(e=GA(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Q_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(t),!0).forEach(function(r){yd(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w8(n){if(Array.isArray(n))return n}function S8(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,l,h=[],c=!0,d=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=s.call(t)).done)&&(h.push(r.value),h.length!==e);c=!0);}catch(g){d=!0,i=g}finally{try{if(!c&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(d)throw i}}return h}}function _1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function $A(n,e){if(n){if(typeof n=="string")return _1(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_1(n,e):void 0}}function x8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kl(n,e){return w8(n)||S8(n,e)||$A(n,e)||x8()}function A8(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function au(n,e){if(n==null)return{};var t,r,i=A8(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var T8=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function E8(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,i=r===void 0?!1:r,s=n.defaultValue,l=s===void 0?null:s,h=n.inputValue,c=n.menuIsOpen,d=n.onChange,g=n.onInputChange,b=n.onMenuClose,S=n.onMenuOpen,_=n.value,E=au(n,T8),C=ne.useState(h!==void 0?h:t),R=Kl(C,2),I=R[0],B=R[1],H=ne.useState(c!==void 0?c:i),ae=Kl(H,2),$=ae[0],ce=ae[1],U=ne.useState(_!==void 0?_:l),L=Kl(U,2),F=L[0],W=L[1],P=ne.useCallback(function(he,_e){typeof d=="function"&&d(he,_e),W(he)},[d]),O=ne.useCallback(function(he,_e){var Q;typeof g=="function"&&(Q=g(he,_e)),B(Q!==void 0?Q:he)},[g]),j=ne.useCallback(function(){typeof S=="function"&&S(),ce(!0)},[S]),se=ne.useCallback(function(){typeof b=="function"&&b(),ce(!1)},[b]),Se=h!==void 0?h:I,re=c!==void 0?c:$,le=_!==void 0?_:F;return Rt(Rt({},E),{},{inputValue:Se,menuIsOpen:re,onChange:P,onInputChange:O,onMenuClose:se,onMenuOpen:j,value:le})}function jt(){return jt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jt.apply(null,arguments)}function N8(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function X_(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,GA(r.key),r)}}function C8(n,e,t){return e&&X_(n.prototype,e),t&&X_(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function w1(n,e){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},w1(n,e)}function I8(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&w1(n,e)}function og(n){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},og(n)}function YA(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YA=function(){return!!n})()}function R8(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function P8(n,e){if(e&&(_n(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R8(n)}function L8(n){var e=YA();return function(){var t,r=og(n);if(e){var i=og(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return P8(this,t)}}function D8(n){if(Array.isArray(n))return _1(n)}function O8(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function k8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2(n){return D8(n)||O8(n)||$A(n)||k8()}function j8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function M8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var F8=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(M8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=j8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ia="-ms-",lg="-moz-",Dn="-webkit-",KA="comm",K2="rule",Q2="decl",V8="@import",QA="@keyframes",B8="@layer",U8=Math.abs,$g=String.fromCharCode,q8=Object.assign;function z8(n,e){return ji(n,0)^45?(((e<<2^ji(n,0))<<2^ji(n,1))<<2^ji(n,2))<<2^ji(n,3):0}function XA(n){return n.trim()}function H8(n,e){return(n=e.exec(n))?n[0]:n}function On(n,e,t){return n.replace(e,t)}function S1(n,e){return n.indexOf(e)}function ji(n,e){return n.charCodeAt(e)|0}function Md(n,e,t){return n.slice(e,t)}function Jo(n){return n.length}function X2(n){return n.length}function lm(n,e){return e.push(n),n}function W8(n,e){return n.map(e).join("")}var Yg=1,lf=1,JA=0,Oa=0,Jr=0,bf="";function Kg(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Yg,column:lf,length:l,return:""}}function ld(n,e){return q8(Kg("",null,null,"",null,null,0),n,{length:-n.length},e)}function G8(){return Jr}function $8(){return Jr=Oa>0?ji(bf,--Oa):0,lf--,Jr===10&&(lf=1,Yg--),Jr}function ls(){return Jr=Oa<JA?ji(bf,Oa++):0,lf++,Jr===10&&(lf=1,Yg++),Jr}function al(){return ji(bf,Oa)}function Rm(){return Oa}function tp(n,e){return Md(bf,n,e)}function Fd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZA(n){return Yg=lf=1,JA=Jo(bf=n),Oa=0,[]}function e4(n){return bf="",n}function Pm(n){return XA(tp(Oa-1,x1(n===91?n+2:n===40?n+1:n)))}function Y8(n){for(;(Jr=al())&&Jr<33;)ls();return Fd(n)>2||Fd(Jr)>3?"":" "}function K8(n,e){for(;--e&&ls()&&!(Jr<48||Jr>102||Jr>57&&Jr<65||Jr>70&&Jr<97););return tp(n,Rm()+(e<6&&al()==32&&ls()==32))}function x1(n){for(;ls();)switch(Jr){case n:return Oa;case 34:case 39:n!==34&&n!==39&&x1(Jr);break;case 40:n===41&&x1(n);break;case 92:ls();break}return Oa}function Q8(n,e){for(;ls()&&n+Jr!==57;)if(n+Jr===84&&al()===47)break;return"/*"+tp(e,Oa-1)+"*"+$g(n===47?n:ls())}function X8(n){for(;!Fd(al());)ls();return tp(n,Oa)}function J8(n){return e4(Lm("",null,null,null,[""],n=ZA(n),0,[0],n))}function Lm(n,e,t,r,i,s,l,h,c){for(var d=0,g=0,b=l,S=0,_=0,E=0,C=1,R=1,I=1,B=0,H="",ae=i,$=s,ce=r,U=H;R;)switch(E=B,B=ls()){case 40:if(E!=108&&ji(U,b-1)==58){S1(U+=On(Pm(B),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:U+=Pm(B);break;case 9:case 10:case 13:case 32:U+=Y8(E);break;case 92:U+=K8(Rm()-1,7);continue;case 47:switch(al()){case 42:case 47:lm(Z8(Q8(ls(),Rm()),e,t),c);break;default:U+="/"}break;case 123*C:h[d++]=Jo(U)*I;case 125*C:case 59:case 0:switch(B){case 0:case 125:R=0;case 59+g:I==-1&&(U=On(U,/\f/g,"")),_>0&&Jo(U)-b&&lm(_>32?Z_(U+";",r,t,b-1):Z_(On(U," ","")+";",r,t,b-2),c);break;case 59:U+=";";default:if(lm(ce=J_(U,e,t,d,g,i,h,H,ae=[],$=[],b),s),B===123)if(g===0)Lm(U,e,ce,ce,ae,s,b,h,$);else switch(S===99&&ji(U,3)===110?100:S){case 100:case 108:case 109:case 115:Lm(n,ce,ce,r&&lm(J_(n,ce,ce,0,0,i,h,H,i,ae=[],b),$),i,$,b,h,r?ae:$);break;default:Lm(U,ce,ce,ce,[""],$,0,h,$)}}d=g=_=0,C=I=1,H=U="",b=l;break;case 58:b=1+Jo(U),_=E;default:if(C<1){if(B==123)--C;else if(B==125&&C++==0&&$8()==125)continue}switch(U+=$g(B),B*C){case 38:I=g>0?1:(U+="\f",-1);break;case 44:h[d++]=(Jo(U)-1)*I,I=1;break;case 64:al()===45&&(U+=Pm(ls())),S=al(),g=b=Jo(H=U+=X8(Rm())),B++;break;case 45:E===45&&Jo(U)==2&&(C=0)}}return s}function J_(n,e,t,r,i,s,l,h,c,d,g){for(var b=i-1,S=i===0?s:[""],_=X2(S),E=0,C=0,R=0;E<r;++E)for(var I=0,B=Md(n,b+1,b=U8(C=l[E])),H=n;I<_;++I)(H=XA(C>0?S[I]+" "+B:On(B,/&\f/g,S[I])))&&(c[R++]=H);return Kg(n,e,t,i===0?K2:h,c,d,g)}function Z8(n,e,t){return Kg(n,e,t,KA,$g(G8()),Md(n,2,-2),0)}function Z_(n,e,t,r){return Kg(n,e,t,Q2,Md(n,0,r),Md(n,r+1,-1),r)}function $h(n,e){for(var t="",r=X2(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function eD(n,e,t,r){switch(n.type){case B8:if(n.children.length)break;case V8:case Q2:return n.return=n.return||n.value;case KA:return"";case QA:return n.return=n.value+"{"+$h(n.children,r)+"}";case K2:n.value=n.props.join(",")}return Jo(t=$h(n.children,r))?n.return=n.value+"{"+t+"}":""}function tD(n){var e=X2(n);return function(t,r,i,s){for(var l="",h=0;h<e;h++)l+=n[h](t,r,i,s)||"";return l}}function nD(n){return function(e){e.root||(e=e.return)&&n(e)}}function rD(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var iD=function(e,t,r){for(var i=0,s=0;i=s,s=al(),i===38&&s===12&&(t[r]=1),!Fd(s);)ls();return tp(e,Oa)},aD=function(e,t){var r=-1,i=44;do switch(Fd(i)){case 0:i===38&&al()===12&&(t[r]=1),e[r]+=iD(Oa-1,t,r);break;case 2:e[r]+=Pm(i);break;case 4:if(i===44){e[++r]=al()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=$g(i)}while(i=ls());return e},sD=function(e,t){return e4(aD(ZA(e),t))},ew=new WeakMap,oD=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!ew.get(r))&&!i){ew.set(e,!0);for(var s=[],l=sD(t,s),h=r.props,c=0,d=0;c<l.length;c++)for(var g=0;g<h.length;g++,d++)e.props[d]=s[c]?l[c].replace(/&\f/g,h[g]):h[g]+" "+l[c]}}},lD=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function t4(n,e){switch(z8(n,e)){case 5103:return Dn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Dn+n+lg+n+ia+n+n;case 6828:case 4268:return Dn+n+ia+n+n;case 6165:return Dn+n+ia+"flex-"+n+n;case 5187:return Dn+n+On(n,/(\w+).+(:[^]+)/,Dn+"box-$1$2"+ia+"flex-$1$2")+n;case 5443:return Dn+n+ia+"flex-item-"+On(n,/flex-|-self/,"")+n;case 4675:return Dn+n+ia+"flex-line-pack"+On(n,/align-content|flex-|-self/,"")+n;case 5548:return Dn+n+ia+On(n,"shrink","negative")+n;case 5292:return Dn+n+ia+On(n,"basis","preferred-size")+n;case 6060:return Dn+"box-"+On(n,"-grow","")+Dn+n+ia+On(n,"grow","positive")+n;case 4554:return Dn+On(n,/([^-])(transform)/g,"$1"+Dn+"$2")+n;case 6187:return On(On(On(n,/(zoom-|grab)/,Dn+"$1"),/(image-set)/,Dn+"$1"),n,"")+n;case 5495:case 3959:return On(n,/(image-set\([^]*)/,Dn+"$1$`$1");case 4968:return On(On(n,/(.+:)(flex-)?(.*)/,Dn+"box-pack:$3"+ia+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dn+n+n;case 4095:case 3583:case 4068:case 2532:return On(n,/(.+)-inline(.+)/,Dn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jo(n)-1-e>6)switch(ji(n,e+1)){case 109:if(ji(n,e+4)!==45)break;case 102:return On(n,/(.+:)(.+)-([^]+)/,"$1"+Dn+"$2-$3$1"+lg+(ji(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~S1(n,"stretch")?t4(On(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ji(n,e+1)!==115)break;case 6444:switch(ji(n,Jo(n)-3-(~S1(n,"!important")&&10))){case 107:return On(n,":",":"+Dn)+n;case 101:return On(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Dn+(ji(n,14)===45?"inline-":"")+"box$3$1"+Dn+"$2$3$1"+ia+"$2box$3")+n}break;case 5936:switch(ji(n,e+11)){case 114:return Dn+n+ia+On(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Dn+n+ia+On(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Dn+n+ia+On(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Dn+n+ia+n+n}return n}var uD=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Q2:e.return=t4(e.value,e.length);break;case QA:return $h([ld(e,{value:On(e.value,"@","@"+Dn)})],i);case K2:if(e.length)return W8(e.props,function(s){switch(H8(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $h([ld(e,{props:[On(s,/:(read-\w+)/,":"+lg+"$1")]})],i);case"::placeholder":return $h([ld(e,{props:[On(s,/:(plac\w+)/,":"+Dn+"input-$1")]}),ld(e,{props:[On(s,/:(plac\w+)/,":"+lg+"$1")]}),ld(e,{props:[On(s,/:(plac\w+)/,ia+"input-$1")]})],i)}return""})}},cD=[uD],hD=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var R=C.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=e.stylisPlugins||cD,s={},l,h=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(C){for(var R=C.getAttribute("data-emotion").split(" "),I=1;I<R.length;I++)s[R[I]]=!0;h.push(C)});var c,d=[oD,lD];{var g,b=[eD,nD(function(C){g.insert(C)})],S=tD(d.concat(i,b)),_=function(R){return $h(J8(R),S)};c=function(R,I,B,H){g=B,_(R?R+"{"+I.styles+"}":I.styles),H&&(E.inserted[I.name]=!0)}}var E={key:t,sheet:new F8({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return E.sheet.hydrate(h),E},Ev={exports:{}},Mn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function fD(){if(tw)return Mn;tw=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,_=n?Symbol.for("react.memo"):60115,E=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,R=n?Symbol.for("react.fundamental"):60117,I=n?Symbol.for("react.responder"):60118,B=n?Symbol.for("react.scope"):60119;function H($){if(typeof $=="object"&&$!==null){var ce=$.$$typeof;switch(ce){case e:switch($=$.type,$){case c:case d:case r:case s:case i:case b:return $;default:switch($=$&&$.$$typeof,$){case h:case g:case E:case _:case l:return $;default:return ce}}case t:return ce}}}function ae($){return H($)===d}return Mn.AsyncMode=c,Mn.ConcurrentMode=d,Mn.ContextConsumer=h,Mn.ContextProvider=l,Mn.Element=e,Mn.ForwardRef=g,Mn.Fragment=r,Mn.Lazy=E,Mn.Memo=_,Mn.Portal=t,Mn.Profiler=s,Mn.StrictMode=i,Mn.Suspense=b,Mn.isAsyncMode=function($){return ae($)||H($)===c},Mn.isConcurrentMode=ae,Mn.isContextConsumer=function($){return H($)===h},Mn.isContextProvider=function($){return H($)===l},Mn.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===e},Mn.isForwardRef=function($){return H($)===g},Mn.isFragment=function($){return H($)===r},Mn.isLazy=function($){return H($)===E},Mn.isMemo=function($){return H($)===_},Mn.isPortal=function($){return H($)===t},Mn.isProfiler=function($){return H($)===s},Mn.isStrictMode=function($){return H($)===i},Mn.isSuspense=function($){return H($)===b},Mn.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===r||$===d||$===s||$===i||$===b||$===S||typeof $=="object"&&$!==null&&($.$$typeof===E||$.$$typeof===_||$.$$typeof===l||$.$$typeof===h||$.$$typeof===g||$.$$typeof===R||$.$$typeof===I||$.$$typeof===B||$.$$typeof===C)},Mn.typeOf=H,Mn}var nw;function dD(){return nw||(nw=1,Ev.exports=fD()),Ev.exports}var Nv,rw;function pD(){if(rw)return Nv;rw=1;var n=dD(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function l(E){return n.isMemo(E)?i:s[E.$$typeof]||e}var h=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,S=Object.prototype;function _(E,C,R){if(typeof C!="string"){if(S){var I=b(C);I&&I!==S&&_(E,I,R)}var B=c(C);d&&(B=B.concat(d(C)));for(var H=l(E),ae=l(C),$=0;$<B.length;++$){var ce=B[$];if(!t[ce]&&!(R&&R[ce])&&!(ae&&ae[ce])&&!(H&&H[ce])){var U=g(C,ce);try{h(E,ce,U)}catch{}}}}return E}return Nv=_,Nv}pD();var mD=!0;function gD(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var n4=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||mD===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},vD=function(e,t,r){n4(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function yD(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var bD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_D=/[A-Z]|^ms/g,wD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,r4=function(e){return e.charCodeAt(1)===45},iw=function(e){return e!=null&&typeof e!="boolean"},Cv=rD(function(n){return r4(n)?n:n.replace(_D,"-$&").toLowerCase()}),aw=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(wD,function(r,i,s){return Zo={name:i,styles:s,next:Zo},i})}return bD[e]!==1&&!r4(e)&&typeof t=="number"&&t!==0?t+"px":t};function Vd(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Zo={name:i.name,styles:i.styles,next:Zo},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Zo={name:l.name,styles:l.styles,next:Zo},l=l.next;var h=s.styles+";";return h}return SD(n,e,t)}case"function":{if(n!==void 0){var c=Zo,d=t(n);return Zo=c,Vd(n,e,d)}break}}var g=t;return g}function SD(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Vd(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var h=l;iw(h)&&(r+=Cv(s)+":"+aw(s,h)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var c=0;c<l.length;c++)iw(l[c])&&(r+=Cv(s)+":"+aw(s,l[c])+";");else{var d=Vd(n,e,l);switch(s){case"animation":case"animationName":{r+=Cv(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var sw=/label:\s*([^\s;{]+)\s*(;|$)/g,Zo;function i4(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Zo=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Vd(t,e,s);else{var l=s;i+=l[0]}for(var h=1;h<n.length;h++)if(i+=Vd(t,e,n[h]),r){var c=s;i+=c[h]}sw.lastIndex=0;for(var d="",g;(g=sw.exec(i))!==null;)d+="-"+g[1];var b=yD(i)+d;return{name:b,styles:i,next:Zo}}var xD=function(e){return e()},AD=l5.useInsertionEffect?l5.useInsertionEffect:!1,TD=AD||xD,a4=ne.createContext(typeof HTMLElement<"u"?hD({key:"css"}):null);a4.Provider;var ED=function(e){return ne.forwardRef(function(t,r){var i=ne.useContext(a4);return e(t,i,r)})},ND=ne.createContext({}),J2={}.hasOwnProperty,A1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",CD=function(e,t){var r={};for(var i in t)J2.call(t,i)&&(r[i]=t[i]);return r[A1]=e,r},ID=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return n4(t,r,i),TD(function(){return vD(t,r,i)}),null},RD=ED(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[A1],s=[r],l="";typeof n.className=="string"?l=gD(e.registered,s,n.className):n.className!=null&&(l=n.className+" ");var h=i4(s,void 0,ne.useContext(ND));l+=e.key+"-"+h.name;var c={};for(var d in n)J2.call(n,d)&&d!=="css"&&d!==A1&&(c[d]=n[d]);return c.className=l,t&&(c.ref=t),ne.createElement(ne.Fragment,null,ne.createElement(ID,{cache:e,serialized:h,isStringTag:typeof i=="string"}),ne.createElement(i,c))}),PD=RD,Tt=function(e,t){var r=arguments;if(t==null||!J2.call(t,"css"))return ne.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=PD,s[1]=CD(e,t);for(var l=2;l<i;l++)s[l]=r[l];return ne.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Tt||(Tt={}));function Z2(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return i4(e)}function LD(){var n=Z2.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function DD(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const OD=Math.min,kD=Math.max,ug=Math.round,um=Math.floor,cg=n=>({x:n,y:n});function jD(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Qg(){return typeof window<"u"}function s4(n){return l4(n)?(n.nodeName||"").toLowerCase():"#document"}function tu(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function o4(n){var e;return(e=(l4(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function l4(n){return Qg()?n instanceof Node||n instanceof tu(n).Node:!1}function MD(n){return Qg()?n instanceof Element||n instanceof tu(n).Element:!1}function ey(n){return Qg()?n instanceof HTMLElement||n instanceof tu(n).HTMLElement:!1}function ow(n){return!Qg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof tu(n).ShadowRoot}function u4(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ty(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function FD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function VD(n){return["html","body","#document"].includes(s4(n))}function ty(n){return tu(n).getComputedStyle(n)}function BD(n){if(s4(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ow(n)&&n.host||o4(n);return ow(e)?e.host:e}function c4(n){const e=BD(n);return VD(e)?n.ownerDocument?n.ownerDocument.body:n.body:ey(e)&&u4(e)?e:c4(e)}function hg(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=c4(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),l=tu(i);if(s){const h=T1(l);return e.concat(l,l.visualViewport||[],u4(i)?i:[],h&&t?hg(h):[])}return e.concat(i,hg(i,[],t))}function T1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function UD(n){const e=ty(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ey(n),s=i?n.offsetWidth:t,l=i?n.offsetHeight:r,h=ug(t)!==s||ug(r)!==l;return h&&(t=s,r=l),{width:t,height:r,$:h}}function ny(n){return MD(n)?n:n.contextElement}function lw(n){const e=ny(n);if(!ey(e))return cg(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=UD(e);let l=(s?ug(t.width):t.width)/r,h=(s?ug(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!h||!Number.isFinite(h))&&(h=1),{x:l,y:h}}const qD=cg(0);function zD(n){const e=tu(n);return!FD()||!e.visualViewport?qD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HD(n,e,t){return!1}function uw(n,e,t,r){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=ny(n);let l=cg(1);e&&(l=lw(n));const h=HD()?zD(s):cg(0);let c=(i.left+h.x)/l.x,d=(i.top+h.y)/l.y,g=i.width/l.x,b=i.height/l.y;if(s){const S=tu(s),_=r;let E=S,C=T1(E);for(;C&&r&&_!==E;){const R=lw(C),I=C.getBoundingClientRect(),B=ty(C),H=I.left+(C.clientLeft+parseFloat(B.paddingLeft))*R.x,ae=I.top+(C.clientTop+parseFloat(B.paddingTop))*R.y;c*=R.x,d*=R.y,g*=R.x,b*=R.y,c+=H,d+=ae,E=tu(C),C=T1(E)}}return jD({width:g,height:b,x:c,y:d})}function h4(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function WD(n,e){let t=null,r;const i=o4(n);function s(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function l(h,c){h===void 0&&(h=!1),c===void 0&&(c=1),s();const d=n.getBoundingClientRect(),{left:g,top:b,width:S,height:_}=d;if(h||e(),!S||!_)return;const E=um(b),C=um(i.clientWidth-(g+S)),R=um(i.clientHeight-(b+_)),I=um(g),H={rootMargin:-E+"px "+-C+"px "+-R+"px "+-I+"px",threshold:kD(0,OD(1,c))||1};let ae=!0;function $(ce){const U=ce[0].intersectionRatio;if(U!==c){if(!ae)return l();U?l(!1,U):r=setTimeout(()=>{l(!1,1e-7)},1e3)}U===1&&!h4(d,n.getBoundingClientRect())&&l(),ae=!1}try{t=new IntersectionObserver($,{...H,root:i.ownerDocument})}catch{t=new IntersectionObserver($,H)}t.observe(n)}return l(!0),s}function GD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=ny(n),g=i||s?[...d?hg(d):[],...hg(e)]:[];g.forEach(I=>{i&&I.addEventListener("scroll",t,{passive:!0}),s&&I.addEventListener("resize",t)});const b=d&&h?WD(d,t):null;let S=-1,_=null;l&&(_=new ResizeObserver(I=>{let[B]=I;B&&B.target===d&&_&&(_.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var H;(H=_)==null||H.observe(e)})),t()}),d&&!c&&_.observe(d),_.observe(e));let E,C=c?uw(n):null;c&&R();function R(){const I=uw(n);C&&!h4(C,I)&&t(),C=I,E=requestAnimationFrame(R)}return t(),()=>{var I;g.forEach(B=>{i&&B.removeEventListener("scroll",t),s&&B.removeEventListener("resize",t)}),b==null||b(),(I=_)==null||I.disconnect(),_=null,c&&cancelAnimationFrame(E)}}var E1=ne.useLayoutEffect,$D=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],fg=function(){};function YD(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function KD(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&n)for(var l in e)e.hasOwnProperty(l)&&e[l]&&s.push("".concat(YD(n,l)));return s.filter(function(h){return h}).map(function(h){return String(h).trim()}).join(" ")}var cw=function(e){return iO(e)?e.filter(Boolean):_n(e)==="object"&&e!==null?[e]:[]},f4=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=au(e,$D);return Rt({},t)},Ir=function(e,t,r){var i=e.cx,s=e.getStyles,l=e.getClassNames,h=e.className;return{css:s(t,e),className:i(r??{},l(t,e),h)}};function Xg(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function QD(n){return Xg(n)?window.innerHeight:n.clientHeight}function d4(n){return Xg(n)?window.pageYOffset:n.scrollTop}function dg(n,e){if(Xg(n)){window.scrollTo(0,e);return}n.scrollTop=e}function XD(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=n;i=i.parentElement;)if(e=getComputedStyle(i),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function JD(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function cm(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fg,i=d4(n),s=e-i,l=10,h=0;function c(){h+=l;var d=JD(h,i,s,t);dg(n,d),h<t?window.requestAnimationFrame(c):r(n)}c()}function hw(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>t.bottom?dg(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+i,n.scrollHeight)):r.top-i<t.top&&dg(n,Math.max(e.offsetTop-i,0))}function ZD(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function fw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function eO(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var p4=!1,tO={get passive(){return p4=!0}},hm=typeof window<"u"?window:{};hm.addEventListener&&hm.removeEventListener&&(hm.addEventListener("p",fg,tO),hm.removeEventListener("p",fg,!1));var nO=p4;function rO(n){return n!=null}function iO(n){return Array.isArray(n)}function fm(n,e,t){return n?e:t}var aO=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(l){var h=Kl(l,1),c=h[0];return!r.includes(c)});return s.reduce(function(l,h){var c=Kl(h,2),d=c[0],g=c[1];return l[d]=g,l},{})},sO=["children","innerProps"],oO=["children","innerProps"];function lO(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,i=n.placement,s=n.shouldScroll,l=n.isFixedPosition,h=n.controlHeight,c=XD(t),d={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return d;var g=c.getBoundingClientRect(),b=g.height,S=t.getBoundingClientRect(),_=S.bottom,E=S.height,C=S.top,R=t.offsetParent.getBoundingClientRect(),I=R.top,B=l?window.innerHeight:QD(c),H=d4(c),ae=parseInt(getComputedStyle(t).marginBottom,10),$=parseInt(getComputedStyle(t).marginTop,10),ce=I-$,U=B-C,L=ce+H,F=b-H-C,W=_-B+H+ae,P=H+C-$,O=160;switch(i){case"auto":case"bottom":if(U>=E)return{placement:"bottom",maxHeight:e};if(F>=E&&!l)return s&&cm(c,W,O),{placement:"bottom",maxHeight:e};if(!l&&F>=r||l&&U>=r){s&&cm(c,W,O);var j=l?U-ae:F-ae;return{placement:"bottom",maxHeight:j}}if(i==="auto"||l){var se=e,Se=l?ce:L;return Se>=r&&(se=Math.min(Se-ae-h,e)),{placement:"top",maxHeight:se}}if(i==="bottom")return s&&dg(c,W),{placement:"bottom",maxHeight:e};break;case"top":if(ce>=E)return{placement:"top",maxHeight:e};if(L>=E&&!l)return s&&cm(c,P,O),{placement:"top",maxHeight:e};if(!l&&L>=r||l&&ce>=r){var re=e;return(!l&&L>=r||l&&ce>=r)&&(re=l?ce-$:L-$),s&&cm(c,P,O),{placement:"top",maxHeight:re}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function uO(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var m4=function(e){return e==="auto"?"bottom":e},cO=function(e,t){var r,i=e.placement,s=e.theme,l=s.borderRadius,h=s.spacing,c=s.colors;return Rt((r={label:"menu"},yd(r,uO(i),"100%"),yd(r,"position","absolute"),yd(r,"width","100%"),yd(r,"zIndex",1),r),t?{}:{backgroundColor:c.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},g4=ne.createContext(null),hO=function(e){var t=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,l=e.menuPosition,h=e.menuShouldScrollIntoView,c=e.theme,d=ne.useContext(g4)||{},g=d.setPortalPlacement,b=ne.useRef(null),S=ne.useState(i),_=Kl(S,2),E=_[0],C=_[1],R=ne.useState(null),I=Kl(R,2),B=I[0],H=I[1],ae=c.spacing.controlHeight;return E1(function(){var $=b.current;if($){var ce=l==="fixed",U=h&&!ce,L=lO({maxHeight:i,menuEl:$,minHeight:r,placement:s,shouldScroll:U,isFixedPosition:ce,controlHeight:ae});C(L.maxHeight),H(L.placement),g==null||g(L.placement)}},[i,s,l,h,r,g,ae]),t({ref:b,placerProps:Rt(Rt({},e),{},{placement:B||m4(s),maxHeight:E})})},fO=function(e){var t=e.children,r=e.innerRef,i=e.innerProps;return Tt("div",jt({},Ir(e,"menu",{menu:!0}),{ref:r},i),t)},dO=fO,pO=function(e,t){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Rt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},mO=function(e){var t=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Tt("div",jt({},Ir(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),t)},v4=function(e,t){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Rt({textAlign:"center"},t?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},gO=v4,vO=v4,yO=function(e){var t=e.children,r=t===void 0?"No options":t,i=e.innerProps,s=au(e,sO);return Tt("div",jt({},Ir(Rt(Rt({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},bO=function(e){var t=e.children,r=t===void 0?"Loading...":t,i=e.innerProps,s=au(e,oO);return Tt("div",jt({},Ir(Rt(Rt({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},_O=function(e){var t=e.rect,r=e.offset,i=e.position;return{left:t.left,position:i,top:r,width:t.width,zIndex:1}},wO=function(e){var t=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,l=e.menuPlacement,h=e.menuPosition,c=ne.useRef(null),d=ne.useRef(null),g=ne.useState(m4(l)),b=Kl(g,2),S=b[0],_=b[1],E=ne.useMemo(function(){return{setPortalPlacement:_}},[]),C=ne.useState(null),R=Kl(C,2),I=R[0],B=R[1],H=ne.useCallback(function(){if(i){var U=ZD(i),L=h==="fixed"?0:window.pageYOffset,F=U[S]+L;(F!==(I==null?void 0:I.offset)||U.left!==(I==null?void 0:I.rect.left)||U.width!==(I==null?void 0:I.rect.width))&&B({offset:F,rect:U})}},[i,h,S,I==null?void 0:I.offset,I==null?void 0:I.rect.left,I==null?void 0:I.rect.width]);E1(function(){H()},[H]);var ae=ne.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&c.current&&(d.current=GD(i,c.current,H,{elementResize:"ResizeObserver"in window}))},[i,H]);E1(function(){ae()},[ae]);var $=ne.useCallback(function(U){c.current=U,ae()},[ae]);if(!t&&h!=="fixed"||!I)return null;var ce=Tt("div",jt({ref:$},Ir(Rt(Rt({},e),{},{offset:I.offset,position:h,rect:I.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Tt(g4.Provider,{value:E},t?XE.createPortal(ce,t):ce)},SO=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},xO=function(e){var t=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Tt("div",jt({},Ir(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),t)},AO=function(e,t){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,l=e.selectProps.controlShouldRenderValue;return Rt({alignItems:"center",display:i&&s&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},TO=function(e){var t=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Tt("div",jt({},Ir(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),t)},EO=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},NO=function(e){var t=e.children,r=e.innerProps;return Tt("div",jt({},Ir(e,"indicatorsContainer",{indicators:!0}),r),t)},dw,CO=["size"],IO=["innerProps","isRtl","size"],RO={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},y4=function(e){var t=e.size,r=au(e,CO);return Tt("svg",jt({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:RO},r))},ry=function(e){return Tt(y4,jt({size:20},e),Tt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},b4=function(e){return Tt(y4,jt({size:20},e),Tt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},_4=function(e,t){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,l=i.colors;return Rt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?l.neutral60:l.neutral20,padding:s*2,":hover":{color:r?l.neutral80:l.neutral40}})},PO=_4,LO=function(e){var t=e.children,r=e.innerProps;return Tt("div",jt({},Ir(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Tt(b4,null))},DO=_4,OO=function(e){var t=e.children,r=e.innerProps;return Tt("div",jt({},Ir(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Tt(ry,null))},kO=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,l=i.colors;return Rt({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:s*2,marginTop:s*2})},jO=function(e){var t=e.innerProps;return Tt("span",jt({},t,Ir(e,"indicatorSeparator",{"indicator-separator":!0})))},MO=LD(dw||(dw=DD([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),FO=function(e,t){var r=e.isFocused,i=e.size,s=e.theme,l=s.colors,h=s.spacing.baseUnit;return Rt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?l.neutral60:l.neutral20,padding:h*2})},Iv=function(e){var t=e.delay,r=e.offset;return Tt("span",{css:Z2({animation:"".concat(MO," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},VO=function(e){var t=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,l=au(e,IO);return Tt("div",jt({},Ir(Rt(Rt({},l),{},{innerProps:t,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Tt(Iv,{delay:0,offset:r}),Tt(Iv,{delay:160,offset:!0}),Tt(Iv,{delay:320,offset:!r}))},BO=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.theme,l=s.colors,h=s.borderRadius,c=s.spacing;return Rt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:h,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},UO=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,l=e.innerProps,h=e.menuIsOpen;return Tt("div",jt({ref:s},Ir(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":h}),l,{"aria-disabled":r||void 0}),t)},qO=UO,zO=["data"],HO=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},WO=function(e){var t=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,l=e.Heading,h=e.headingProps,c=e.innerProps,d=e.label,g=e.theme,b=e.selectProps;return Tt("div",jt({},Ir(e,"group",{group:!0}),c),Tt(l,jt({},h,{selectProps:b,theme:g,getStyles:i,getClassNames:s,cx:r}),d),Tt("div",null,t))},GO=function(e,t){var r=e.theme,i=r.colors,s=r.spacing;return Rt({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},$O=function(e){var t=f4(e);t.data;var r=au(t,zO);return Tt("div",jt({},Ir(e,"groupHeading",{"group-heading":!0}),r))},YO=WO,KO=["innerRef","isDisabled","isHidden","inputClassName"],QO=function(e,t){var r=e.isDisabled,i=e.value,s=e.theme,l=s.spacing,h=s.colors;return Rt(Rt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},XO),t?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:h.neutral80})},w4={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},XO={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Rt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},w4)},JO=function(e){return Rt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},w4)},ZO=function(e){var t=e.cx,r=e.value,i=f4(e),s=i.innerRef,l=i.isDisabled,h=i.isHidden,c=i.inputClassName,d=au(i,KO);return Tt("div",jt({},Ir(e,"input",{"input-container":!0}),{"data-value":r||""}),Tt("input",jt({className:t({input:!0},c),ref:s,style:JO(h),disabled:l},d)))},e7=ZO,t7=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,l=r.colors;return Rt({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:l.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},n7=function(e,t){var r=e.theme,i=r.borderRadius,s=r.colors,l=e.cropWithEllipsis;return Rt({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},r7=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,l=r.colors,h=e.isFocused;return Rt({alignItems:"center",display:"flex"},t?{}:{borderRadius:s/2,backgroundColor:h?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},S4=function(e){var t=e.children,r=e.innerProps;return Tt("div",r,t)},i7=S4,a7=S4;function s7(n){var e=n.children,t=n.innerProps;return Tt("div",jt({role:"button"},t),e||Tt(ry,{size:14}))}var o7=function(e){var t=e.children,r=e.components,i=e.data,s=e.innerProps,l=e.isDisabled,h=e.removeProps,c=e.selectProps,d=r.Container,g=r.Label,b=r.Remove;return Tt(d,{data:i,innerProps:Rt(Rt({},Ir(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),s),selectProps:c},Tt(g,{data:i,innerProps:Rt({},Ir(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},t),Tt(b,{data:i,innerProps:Rt(Rt({},Ir(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},h),selectProps:c}))},l7=o7,u7=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,l=e.theme,h=l.spacing,c=l.colors;return Rt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:s?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(h.baseUnit*2,"px ").concat(h.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?c.primary:c.primary50}})},c7=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,l=e.innerRef,h=e.innerProps;return Tt("div",jt({},Ir(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:l,"aria-disabled":r},h),t)},h7=c7,f7=function(e,t){var r=e.theme,i=r.spacing,s=r.colors;return Rt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},d7=function(e){var t=e.children,r=e.innerProps;return Tt("div",jt({},Ir(e,"placeholder",{placeholder:!0}),r),t)},p7=d7,m7=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing,l=i.colors;return Rt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?l.neutral40:l.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},g7=function(e){var t=e.children,r=e.isDisabled,i=e.innerProps;return Tt("div",jt({},Ir(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),t)},v7=g7,y7={ClearIndicator:OO,Control:qO,DropdownIndicator:LO,DownChevron:b4,CrossIcon:ry,Group:YO,GroupHeading:$O,IndicatorsContainer:NO,IndicatorSeparator:jO,Input:e7,LoadingIndicator:VO,Menu:dO,MenuList:mO,MenuPortal:wO,LoadingMessage:bO,NoOptionsMessage:yO,MultiValue:l7,MultiValueContainer:i7,MultiValueLabel:a7,MultiValueRemove:s7,Option:h7,Placeholder:p7,SelectContainer:xO,SingleValue:v7,ValueContainer:TO},b7=function(e){return Rt(Rt({},y7),e.components)},pw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function _7(n,e){return!!(n===e||pw(n)&&pw(e))}function w7(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!_7(n[t],e[t]))return!1;return!0}function S7(n,e){e===void 0&&(e=w7);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var l=n.apply(this,i);return t={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){t=null},r}var x7={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},A7=function(e){return Tt("span",jt({css:x7},e))},mw=A7,T7={guidance:function(e){var t=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,l=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,l=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,i=e.options,s=e.label,l=s===void 0?"":s,h=e.selectValue,c=e.isDisabled,d=e.isSelected,g=e.isAppleDevice,b=function(C,R){return C&&C.length?"".concat(C.indexOf(R)+1," of ").concat(C.length):""};if(t==="value"&&h)return"value ".concat(l," focused, ").concat(b(h,r),".");if(t==="menu"&&g){var S=c?" disabled":"",_="".concat(d?" selected":"").concat(S);return"".concat(l).concat(_,", ").concat(b(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},E7=function(e){var t=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,l=e.isFocused,h=e.selectValue,c=e.selectProps,d=e.id,g=e.isAppleDevice,b=c.ariaLiveMessages,S=c.getOptionLabel,_=c.inputValue,E=c.isMulti,C=c.isOptionDisabled,R=c.isSearchable,I=c.menuIsOpen,B=c.options,H=c.screenReaderStatus,ae=c.tabSelectsValue,$=c.isLoading,ce=c["aria-label"],U=c["aria-live"],L=ne.useMemo(function(){return Rt(Rt({},T7),b||{})},[b]),F=ne.useMemo(function(){var Se="";if(t&&L.onChange){var re=t.option,le=t.options,he=t.removedValue,_e=t.removedValues,Q=t.value,xe=function(Te){return Array.isArray(Te)?null:Te},M=he||re||xe(Q),K=M?S(M):"",te=le||_e||void 0,ue=te?te.map(S):[],fe=Rt({isDisabled:M&&C(M,h),label:K,labels:ue},t);Se=L.onChange(fe)}return Se},[t,L,C,h,S]),W=ne.useMemo(function(){var Se="",re=r||i,le=!!(r&&h&&h.includes(r));if(re&&L.onFocus){var he={focused:re,label:S(re),isDisabled:C(re,h),isSelected:le,options:s,context:re===r?"menu":"value",selectValue:h,isAppleDevice:g};Se=L.onFocus(he)}return Se},[r,i,S,C,L,s,h,g]),P=ne.useMemo(function(){var Se="";if(I&&B.length&&!$&&L.onFilter){var re=H({count:s.length});Se=L.onFilter({inputValue:_,resultsMessage:re})}return Se},[s,_,I,L,B,H,$]),O=(t==null?void 0:t.action)==="initial-input-focus",j=ne.useMemo(function(){var Se="";if(L.guidance){var re=i?"value":I?"menu":"input";Se=L.guidance({"aria-label":ce,context:re,isDisabled:r&&C(r,h),isMulti:E,isSearchable:R,tabSelectsValue:ae,isInitialFocus:O})}return Se},[ce,r,i,E,C,R,I,L,h,ae,O]),se=Tt(ne.Fragment,null,Tt("span",{id:"aria-selection"},F),Tt("span",{id:"aria-focused"},W),Tt("span",{id:"aria-results"},P),Tt("span",{id:"aria-guidance"},j));return Tt(ne.Fragment,null,Tt(mw,{id:d},O&&se),Tt(mw,{"aria-live":U,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!O&&se))},N7=E7,N1=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],C7=new RegExp("["+N1.map(function(n){return n.letters}).join("")+"]","g"),x4={};for(var Rv=0;Rv<N1.length;Rv++)for(var Pv=N1[Rv],Lv=0;Lv<Pv.letters.length;Lv++)x4[Pv.letters[Lv]]=Pv.base;var A4=function(e){return e.replace(C7,function(t){return x4[t]})},I7=S7(A4),gw=function(e){return e.replace(/^\s+|\s+$/g,"")},R7=function(e){return"".concat(e.label," ").concat(e.value)},P7=function(e){return function(t,r){if(t.data.__isNew__)return!0;var i=Rt({ignoreCase:!0,ignoreAccents:!0,stringify:R7,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,l=i.ignoreAccents,h=i.stringify,c=i.trim,d=i.matchFrom,g=c?gw(r):r,b=c?gw(h(t)):h(t);return s&&(g=g.toLowerCase(),b=b.toLowerCase()),l&&(g=I7(g),b=A4(b)),d==="start"?b.substr(0,g.length)===g:b.indexOf(g)>-1}},L7=["innerRef"];function D7(n){var e=n.innerRef,t=au(n,L7),r=aO(t,"onExited","in","enter","exit","appear");return Tt("input",jt({ref:e},r,{css:Z2({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var O7=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function k7(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,i=n.onTopArrive,s=n.onTopLeave,l=ne.useRef(!1),h=ne.useRef(!1),c=ne.useRef(0),d=ne.useRef(null),g=ne.useCallback(function(R,I){if(d.current!==null){var B=d.current,H=B.scrollTop,ae=B.scrollHeight,$=B.clientHeight,ce=d.current,U=I>0,L=ae-$-H,F=!1;L>I&&l.current&&(r&&r(R),l.current=!1),U&&h.current&&(s&&s(R),h.current=!1),U&&I>L?(t&&!l.current&&t(R),ce.scrollTop=ae,F=!0,l.current=!0):!U&&-I>H&&(i&&!h.current&&i(R),ce.scrollTop=0,F=!0,h.current=!0),F&&O7(R)}},[t,r,i,s]),b=ne.useCallback(function(R){g(R,R.deltaY)},[g]),S=ne.useCallback(function(R){c.current=R.changedTouches[0].clientY},[]),_=ne.useCallback(function(R){var I=c.current-R.changedTouches[0].clientY;g(R,I)},[g]),E=ne.useCallback(function(R){if(R){var I=nO?{passive:!1}:!1;R.addEventListener("wheel",b,I),R.addEventListener("touchstart",S,I),R.addEventListener("touchmove",_,I)}},[_,S,b]),C=ne.useCallback(function(R){R&&(R.removeEventListener("wheel",b,!1),R.removeEventListener("touchstart",S,!1),R.removeEventListener("touchmove",_,!1))},[_,S,b]);return ne.useEffect(function(){if(e){var R=d.current;return E(R),function(){C(R)}}},[e,E,C]),function(R){d.current=R}}var vw=["boxSizing","height","overflow","paddingRight","position"],yw={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function bw(n){n.cancelable&&n.preventDefault()}function _w(n){n.stopPropagation()}function ww(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function Sw(){return"ontouchstart"in window||navigator.maxTouchPoints}var xw=!!(typeof window<"u"&&window.document&&window.document.createElement),ud=0,Ph={capture:!1,passive:!1};function j7(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,i=ne.useRef({}),s=ne.useRef(null),l=ne.useCallback(function(c){if(xw){var d=document.body,g=d&&d.style;if(r&&vw.forEach(function(E){var C=g&&g[E];i.current[E]=C}),r&&ud<1){var b=parseInt(i.current.paddingRight,10)||0,S=document.body?document.body.clientWidth:0,_=window.innerWidth-S+b||0;Object.keys(yw).forEach(function(E){var C=yw[E];g&&(g[E]=C)}),g&&(g.paddingRight="".concat(_,"px"))}d&&Sw()&&(d.addEventListener("touchmove",bw,Ph),c&&(c.addEventListener("touchstart",ww,Ph),c.addEventListener("touchmove",_w,Ph))),ud+=1}},[r]),h=ne.useCallback(function(c){if(xw){var d=document.body,g=d&&d.style;ud=Math.max(ud-1,0),r&&ud<1&&vw.forEach(function(b){var S=i.current[b];g&&(g[b]=S)}),d&&Sw()&&(d.removeEventListener("touchmove",bw,Ph),c&&(c.removeEventListener("touchstart",ww,Ph),c.removeEventListener("touchmove",_w,Ph)))}},[r]);return ne.useEffect(function(){if(e){var c=s.current;return l(c),function(){h(c)}}},[e,l,h]),function(c){s.current=c}}var M7=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},F7={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function V7(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,i=r===void 0?!0:r,s=n.onBottomArrive,l=n.onBottomLeave,h=n.onTopArrive,c=n.onTopLeave,d=k7({isEnabled:i,onBottomArrive:s,onBottomLeave:l,onTopArrive:h,onTopLeave:c}),g=j7({isEnabled:t}),b=function(_){d(_),g(_)};return Tt(ne.Fragment,null,t&&Tt("div",{onClick:M7,css:F7}),e(b))}var B7={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},U7=function(e){var t=e.name,r=e.onFocus;return Tt("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:B7,value:"",onChange:function(){}})},q7=U7;function iy(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function z7(){return iy(/^iPhone/i)}function T4(){return iy(/^Mac/i)}function H7(){return iy(/^iPad/i)||T4()&&navigator.maxTouchPoints>1}function W7(){return z7()||H7()}function G7(){return T4()||W7()}var $7=function(e){return e.label},Y7=function(e){return e.label},K7=function(e){return e.value},Q7=function(e){return!!e.isDisabled},X7={clearIndicator:DO,container:SO,control:BO,dropdownIndicator:PO,group:HO,groupHeading:GO,indicatorsContainer:EO,indicatorSeparator:kO,input:QO,loadingIndicator:FO,loadingMessage:vO,menu:cO,menuList:pO,menuPortal:_O,multiValue:t7,multiValueLabel:n7,multiValueRemove:r7,noOptionsMessage:gO,option:u7,placeholder:f7,singleValue:m7,valueContainer:AO},J7={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Z7=4,E4=4,ek=38,tk=E4*2,nk={baseUnit:E4,controlHeight:ek,menuGutter:tk},Dv={borderRadius:Z7,colors:J7,spacing:nk},rk={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:fw(),captureMenuScroll:!fw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:P7(),formatGroupLabel:$7,getOptionLabel:Y7,getOptionValue:K7,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Q7,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!eO(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Aw(n,e,t,r){var i=I4(n,e,t),s=R4(n,e,t),l=C4(n,e),h=pg(n,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:l,value:h,index:r}}function Dm(n,e){return n.options.map(function(t,r){if("options"in t){var i=t.options.map(function(l,h){return Aw(n,l,e,h)}).filter(function(l){return Ew(n,l)});return i.length>0?{type:"group",data:t,options:i,index:r}:void 0}var s=Aw(n,t,e,r);return Ew(n,s)?s:void 0}).filter(rO)}function N4(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Y2(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function Tw(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Y2(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function ik(n,e){return N4(Dm(n,e))}function Ew(n,e){var t=n.inputValue,r=t===void 0?"":t,i=e.data,s=e.isSelected,l=e.label,h=e.value;return(!L4(n)||!s)&&P4(n,{label:l,value:h,data:i},r)}function ak(n,e){var t=n.focusedValue,r=n.selectValue,i=r.indexOf(t);if(i>-1){var s=e.indexOf(t);if(s>-1)return t;if(i<e.length)return e[i]}return null}function sk(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Ov=function(e,t){var r,i=(r=e.find(function(s){return s.data===t}))===null||r===void 0?void 0:r.id;return i||null},C4=function(e,t){return e.getOptionLabel(t)},pg=function(e,t){return e.getOptionValue(t)};function I4(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function R4(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=pg(n,e);return t.some(function(i){return pg(n,i)===r})}function P4(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var L4=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},ok=1,D4=function(n){I8(t,n);var e=L8(t);function t(r){var i;if(N8(this,t),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=G7(),i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,d){var g=i.props,b=g.onChange,S=g.name;d.name=S,i.ariaOnChange(c,d),b(c,d)},i.setValue=function(c,d,g){var b=i.props,S=b.closeMenuOnSelect,_=b.isMulti,E=b.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:E}),S&&(i.setState({inputIsHiddenAfterUpdate:!_}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:d,option:g})},i.selectOption=function(c){var d=i.props,g=d.blurInputOnSelect,b=d.isMulti,S=d.name,_=i.state.selectValue,E=b&&i.isOptionSelected(c,_),C=i.isOptionDisabled(c,_);if(E){var R=i.getOptionValue(c);i.setValue(_.filter(function(I){return i.getOptionValue(I)!==R}),"deselect-option",c)}else if(!C)b?i.setValue([].concat(Y2(_),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:S});return}g&&i.blurInput()},i.removeValue=function(c){var d=i.props.isMulti,g=i.state.selectValue,b=i.getOptionValue(c),S=g.filter(function(E){return i.getOptionValue(E)!==b}),_=fm(d,S,S[0]||null);i.onChange(_,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(fm(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,d=i.state.selectValue,g=d[d.length-1],b=d.slice(0,d.length-1),S=fm(c,b,b[0]||null);g&&i.onChange(S,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(c){return Ov(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return Tw(Dm(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];return KD.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(c){return C4(i.props,c)},i.getOptionValue=function(c){return pg(i.props,c)},i.getStyles=function(c,d){var g=i.props.unstyled,b=X7[c](d,g);b.boxSizing="border-box";var S=i.props.styles[c];return S?S(b,d):b},i.getClassNames=function(c,d){var g,b;return(g=(b=i.props.classNames)[c])===null||g===void 0?void 0:g.call(b,d)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return b7(i.props)},i.buildCategorizedOptions=function(){return Dm(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return N4(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,d){i.setState({ariaSelection:Rt({value:c},d)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var d=i.props,g=d.isMulti,b=d.menuIsOpen;i.focusInput(),b?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Xg(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var d=c.touches,g=d&&d.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var d=c.touches,g=d&&d.item(0);if(g){var b=Math.abs(g.clientX-i.initialTouchX),S=Math.abs(g.clientY-i.initialTouchY),_=5;i.userIsDragging=b>_||S>_}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var d=i.props.inputValue,g=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var d=i.getFocusableOptions(),g=d.indexOf(c);i.setState({focusedOption:c,focusedOptionId:g>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return L4(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var d=i.props,g=d.isMulti,b=d.backspaceRemovesValue,S=d.escapeClearsValue,_=d.inputValue,E=d.isClearable,C=d.isDisabled,R=d.menuIsOpen,I=d.onKeyDown,B=d.tabSelectsValue,H=d.openMenuOnFocus,ae=i.state,$=ae.focusedOption,ce=ae.focusedValue,U=ae.selectValue;if(!C&&!(typeof I=="function"&&(I(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!g||_)return;i.focusValue("previous");break;case"ArrowRight":if(!g||_)return;i.focusValue("next");break;case"Delete":case"Backspace":if(_)return;if(ce)i.removeValue(ce);else{if(!b)return;g?i.popValue():E&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!R||!B||!$||H&&i.isOptionSelected($,U))return;i.selectOption($);break;case"Enter":if(c.keyCode===229)break;if(R){if(!$||i.isComposing)return;i.selectOption($);break}return;case"Escape":R?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:_}),i.onMenuClose()):E&&S&&i.clearValue();break;case" ":if(_)return;if(!R){i.openMenu("first");break}if(!$)return;i.selectOption($);break;case"ArrowUp":R?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":R?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!R)return;i.focusOption("pageup");break;case"PageDown":if(!R)return;i.focusOption("pagedown");break;case"Home":if(!R)return;i.focusOption("first");break;case"End":if(!R)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++ok),i.state.selectValue=cw(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),h=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=l[h],i.state.focusedOptionId=Ov(s,l[h])}return i}return C8(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&hw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isDisabled,h=s.menuIsOpen,c=this.state.isFocused;(c&&!l&&i.isDisabled||c&&h&&!i.menuIsOpen)&&this.focusInput(),c&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(hw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,l=this.state,h=l.selectValue,c=l.isFocused,d=this.buildFocusableOptions(),g=i==="first"?0:d.length-1;if(!this.props.isMulti){var b=d.indexOf(h[0]);b>-1&&(g=b)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[g],focusedOptionId:this.getFocusedOptionId(d[g])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,l=s.selectValue,h=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=l.indexOf(h);h||(c=-1);var d=l.length-1,g=-1;if(l.length){switch(i){case"previous":c===0?g=0:c===-1?g=d:g=c-1;break;case"next":c>-1&&c<d&&(g=c+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:l[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,l=this.state.focusedOption,h=this.getFocusableOptions();if(h.length){var c=0,d=h.indexOf(l);l||(d=-1),i==="up"?c=d>0?d-1:h.length-1:i==="down"?c=(d+1)%h.length:i==="pageup"?(c=d-s,c<0&&(c=0)):i==="pagedown"?(c=d+s,c>h.length-1&&(c=h.length-1)):i==="last"&&(c=h.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:h[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(h[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Dv):Rt(Rt({},Dv),this.props.theme):Dv}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,l=this.getStyles,h=this.getClassNames,c=this.getValue,d=this.selectOption,g=this.setValue,b=this.props,S=b.isMulti,_=b.isRtl,E=b.options,C=this.hasValue();return{clearValue:i,cx:s,getStyles:l,getClassNames:h,getValue:c,hasValue:C,isMulti:S,isRtl:_,options:E,selectOption:d,selectProps:b,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,l=i.isMulti;return s===void 0?l:s}},{key:"isOptionDisabled",value:function(i,s){return I4(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return R4(this.props,i,s)}},{key:"filterOption",value:function(i,s){return P4(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,h=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:l,selectValue:h})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,l=i.isSearchable,h=i.inputId,c=i.inputValue,d=i.tabIndex,g=i.form,b=i.menuIsOpen,S=i.required,_=this.getComponents(),E=_.Input,C=this.state,R=C.inputIsHidden,I=C.ariaSelection,B=this.commonProps,H=h||this.getElementId("input"),ae=Rt(Rt(Rt({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":S,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(I==null?void 0:I.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?ne.createElement(E,jt({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:s,isHidden:R,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:g,type:"text",value:c},ae)):ne.createElement(D7,jt({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:fg,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:g,value:""},ae))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),l=s.MultiValue,h=s.MultiValueContainer,c=s.MultiValueLabel,d=s.MultiValueRemove,g=s.SingleValue,b=s.Placeholder,S=this.commonProps,_=this.props,E=_.controlShouldRenderValue,C=_.isDisabled,R=_.isMulti,I=_.inputValue,B=_.placeholder,H=this.state,ae=H.selectValue,$=H.focusedValue,ce=H.isFocused;if(!this.hasValue()||!E)return I?null:ne.createElement(b,jt({},S,{key:"placeholder",isDisabled:C,isFocused:ce,innerProps:{id:this.getElementId("placeholder")}}),B);if(R)return ae.map(function(L,F){var W=L===$,P="".concat(i.getOptionLabel(L),"-").concat(i.getOptionValue(L));return ne.createElement(l,jt({},S,{components:{Container:h,Label:c,Remove:d},isFocused:W,isDisabled:C,key:P,index:F,removeProps:{onClick:function(){return i.removeValue(L)},onTouchEnd:function(){return i.removeValue(L)},onMouseDown:function(j){j.preventDefault()}},data:L}),i.formatOptionLabel(L,"value"))});if(I)return null;var U=ae[0];return ne.createElement(g,jt({},S,{data:U,isDisabled:C}),this.formatOptionLabel(U,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,l=this.commonProps,h=this.props,c=h.isDisabled,d=h.isLoading,g=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||d)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ne.createElement(s,jt({},l,{innerProps:b,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,l=this.commonProps,h=this.props,c=h.isDisabled,d=h.isLoading,g=this.state.isFocused;if(!s||!d)return null;var b={"aria-hidden":"true"};return ne.createElement(s,jt({},l,{innerProps:b,isDisabled:c,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,l=i.IndicatorSeparator;if(!s||!l)return null;var h=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return ne.createElement(l,jt({},h,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var l=this.commonProps,h=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ne.createElement(s,jt({},l,{innerProps:d,isDisabled:h,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),l=s.Group,h=s.GroupHeading,c=s.Menu,d=s.MenuList,g=s.MenuPortal,b=s.LoadingMessage,S=s.NoOptionsMessage,_=s.Option,E=this.commonProps,C=this.state.focusedOption,R=this.props,I=R.captureMenuScroll,B=R.inputValue,H=R.isLoading,ae=R.loadingMessage,$=R.minMenuHeight,ce=R.maxMenuHeight,U=R.menuIsOpen,L=R.menuPlacement,F=R.menuPosition,W=R.menuPortalTarget,P=R.menuShouldBlockScroll,O=R.menuShouldScrollIntoView,j=R.noOptionsMessage,se=R.onMenuScrollToTop,Se=R.onMenuScrollToBottom;if(!U)return null;var re=function(K,te){var ue=K.type,fe=K.data,Ne=K.isDisabled,Te=K.isSelected,Le=K.label,Je=K.value,Qe=C===fe,nt=Ne?void 0:function(){return i.onOptionHover(fe)},et=Ne?void 0:function(){return i.selectOption(fe)},_t="".concat(i.getElementId("option"),"-").concat(te),Fe={id:_t,onClick:et,onMouseMove:nt,onMouseOver:nt,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Te};return ne.createElement(_,jt({},E,{innerProps:Fe,data:fe,isDisabled:Ne,isSelected:Te,key:_t,label:Le,type:ue,value:Je,isFocused:Qe,innerRef:Qe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(K.data,"menu"))},le;if(this.hasOptions())le=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var K=M.data,te=M.options,ue=M.index,fe="".concat(i.getElementId("group"),"-").concat(ue),Ne="".concat(fe,"-heading");return ne.createElement(l,jt({},E,{key:fe,data:K,options:te,Heading:h,headingProps:{id:Ne,data:M.data},label:i.formatGroupLabel(M.data)}),M.options.map(function(Te){return re(Te,"".concat(ue,"-").concat(Te.index))}))}else if(M.type==="option")return re(M,"".concat(M.index))});else if(H){var he=ae({inputValue:B});if(he===null)return null;le=ne.createElement(b,E,he)}else{var _e=j({inputValue:B});if(_e===null)return null;le=ne.createElement(S,E,_e)}var Q={minMenuHeight:$,maxMenuHeight:ce,menuPlacement:L,menuPosition:F,menuShouldScrollIntoView:O},xe=ne.createElement(hO,jt({},E,Q),function(M){var K=M.ref,te=M.placerProps,ue=te.placement,fe=te.maxHeight;return ne.createElement(c,jt({},E,Q,{innerRef:K,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:H,placement:ue}),ne.createElement(V7,{captureEnabled:I,onTopArrive:se,onBottomArrive:Se,lockEnabled:P},function(Ne){return ne.createElement(d,jt({},E,{innerRef:function(Le){i.getMenuListRef(Le),Ne(Le)},innerProps:{role:"listbox","aria-multiselectable":E.isMulti,id:i.getElementId("listbox")},isLoading:H,maxHeight:fe,focusedOption:C}),le)}))});return W||F==="fixed"?ne.createElement(g,jt({},E,{appendTo:W,controlElement:this.controlRef,menuPlacement:L,menuPosition:F}),xe):xe}},{key:"renderFormField",value:function(){var i=this,s=this.props,l=s.delimiter,h=s.isDisabled,c=s.isMulti,d=s.name,g=s.required,b=this.state.selectValue;if(g&&!this.hasValue()&&!h)return ne.createElement(q7,{name:d,onFocus:this.onValueInputFocus});if(!(!d||h))if(c)if(l){var S=b.map(function(C){return i.getOptionValue(C)}).join(l);return ne.createElement("input",{name:d,type:"hidden",value:S})}else{var _=b.length>0?b.map(function(C,R){return ne.createElement("input",{key:"i-".concat(R),name:d,type:"hidden",value:i.getOptionValue(C)})}):ne.createElement("input",{name:d,type:"hidden",value:""});return ne.createElement("div",null,_)}else{var E=b[0]?this.getOptionValue(b[0]):"";return ne.createElement("input",{name:d,type:"hidden",value:E})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,l=s.ariaSelection,h=s.focusedOption,c=s.focusedValue,d=s.isFocused,g=s.selectValue,b=this.getFocusableOptions();return ne.createElement(N7,jt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:h,focusedValue:c,isFocused:d,selectValue:g,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,l=i.IndicatorsContainer,h=i.SelectContainer,c=i.ValueContainer,d=this.props,g=d.className,b=d.id,S=d.isDisabled,_=d.menuIsOpen,E=this.state.isFocused,C=this.commonProps=this.getCommonProps();return ne.createElement(h,jt({},C,{className:g,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:E}),this.renderLiveRegion(),ne.createElement(s,jt({},C,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:E,menuIsOpen:_}),ne.createElement(c,jt({},C,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),ne.createElement(l,jt({},C,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var l=s.prevProps,h=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,g=s.isFocused,b=s.prevWasFocused,S=s.instancePrefix,_=i.options,E=i.value,C=i.menuIsOpen,R=i.inputValue,I=i.isMulti,B=cw(E),H={};if(l&&(E!==l.value||_!==l.options||C!==l.menuIsOpen||R!==l.inputValue)){var ae=C?ik(i,B):[],$=C?Tw(Dm(i,B),"".concat(S,"-option")):[],ce=h?ak(s,B):null,U=sk(s,ae),L=Ov($,U);H={selectValue:B,focusedOption:U,focusedOptionId:L,focusableOptionsWithIds:$,focusedValue:ce,clearFocusValueOnUpdate:!1}}var F=c!=null&&i!==l?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},W=d,P=g&&b;return g&&!P&&(W={value:fm(I,B,B[0]||null),options:B,action:"initial-input-focus"},P=!b),(d==null?void 0:d.action)==="initial-input-focus"&&(W=null),Rt(Rt(Rt({},H),F),{},{prevProps:i,ariaSelection:W,prevWasFocused:P})}}]),t}(ne.Component);D4.defaultProps=rk;var lk=ne.forwardRef(function(n,e){var t=E8(n);return ne.createElement(D4,jt({ref:e},t))}),as=lk;function uk(){const[n,e]=ne.useState(""),[t,r]=ne.useState([]),[i,s]=ne.useState([]),[l,h]=ne.useState(""),[c,d]=ne.useState(null),[g,b]=ne.useState(null),[S,_]=ne.useState(""),[E,C]=ne.useState(()=>new Date().toISOString().split("T")[0]),[R,I]=ne.useState(""),[B,H]=ne.useState([]),[ae,$]=ne.useState("Pending"),ce=fi(),U=[{label:"Lyrical Videos",value:"Lyrical Videos"},{label:"Posters",value:"Posters"},{label:"Digital Creatives",value:"Digital Creatives"},{label:"Motion Posters",value:"Motion Posters"},{label:"Title Animations",value:"Title Animations"},{label:"Marketing",value:"Marketing"},{label:"Editing",value:"Editing"},{label:"Teaser",value:"Teaser"},{label:"Trailer",value:"Trailer"},{label:"Promos",value:"Promos"},{label:"Google Ads",value:"Google Ads"},{label:"YouTube Ads",value:"YouTube Ads"},{label:"Influencer Marketing",value:"Influencer Marketing"},{label:"Meme Marketing",value:"Meme Marketing"},{label:"Open and end titles",value:"Open and end titles"},{label:"Pitch Deck",value:"Pitch Deck"},{label:"Branding",value:"Branding"},{label:"Strategy & Marketing",value:"Strategy & Marketing"},{label:"Creative design & editing",value:"Creative design & editing"},{label:"Digital Marketing",value:"Digital Marketing"},{label:"Content & video production",value:"Content & video production"},{label:"Performance Marketing",value:"Performance Marketing"},{label:"Web Development",value:"Web Development"},{label:"Ad Film",value:"Ad Film"},{label:"⁠Brand Film",value:"⁠Brand Film"},{label:"⁠⁠Corporate Film",value:"⁠Corporate Film"},{label:"⁠Teaser + Trailer + Business cut",value:"⁠Teaser + Trailer + Business cut"}];ne.useEffect(()=>{(async()=>{const _e=(await ei(Hr(Ut,"clients"))).docs.map(M=>({id:M.id,...M.data()}));r(_e);const xe=(await ei(Hr(Ut,"projects"))).docs.map(M=>({value:M.id,label:M.data().projectName}));s(xe)})()},[]),ne.useEffect(()=>{n&&E&&L(n)},[n,E]);const L=async le=>{const[he,_e,Q]=E.split("-"),M=`${he.slice(2)}${_e}`,K=`${le}_${M}`,te=Jn(Ut,"invoice_counters",K);try{const ue=await HA(Ut,async Ne=>{const Te=await Ne.get(te),Je=(Te.exists()?Te.data().count:0)+1;return Ne.set(te,{count:Je}),Je}),fe=`${le}${M}INV${String(ue).padStart(3,"0")}`;_(fe)}catch(ue){console.error("❌ Error generating invoice ID:",ue)}},F=B.reduce((le,he)=>le+Number(he.amount||0),0),W=()=>{if(!c)return{cgst:0,sgst:0,igst:0,totalTax:0,totalAmount:0};const le=c.country==="India",he=c.state==="Telangana",_e=le&&he?F*.09:0,Q=le&&he?F*.09:0,xe=le&&!he?F*.18:0,M=_e+Q+xe,K=Number(F)+M;return{cgst:_e,sgst:Q,igst:xe,totalTax:M,totalAmount:K}},{cgst:P,sgst:O,igst:j,totalTax:se,totalAmount:Se}=W(),re=async le=>{if(le.preventDefault(),!c||!E||!S||!R||B.length===0){alert("Please fill in all required fields.");return}const he={invoice_id:S,client_id:l,project_id:g?g.value:"",invoice_type:n,invoice_title:R,invoice_date:E,services:B,subtotal:Number(F),cgst:P,sgst:O,igst:j,tax_amount:se,tax_type:c.country!=="India"?"None":c.state==="Telangana"?"GST":"IGST",total_amount:Se,payment_status:ae,payment_date:null,pdf_url:"",created_at:new Date};try{await G2(Jn(Ut,"invoices",S),he),ce(`/dashboard/invoice/${S}`)}catch(_e){console.error("❌ Error creating invoice:",_e),alert("Failed to create invoice.")}};return A.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center",padding:"2rem"},children:A.jsxs("form",{onSubmit:re,style:{background:"#fff",borderRadius:"10px",padding:"30px",width:"100%",maxWidth:"700px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[A.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"30px"},children:"Create Invoice"}),A.jsx("label",{style:{fontWeight:"600"},children:"Select Company"}),A.jsxs("select",{value:n,onChange:le=>e(le.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"20px"},children:[A.jsx("option",{value:"",children:"Select Company"}),A.jsx("option",{value:"WT",children:"WT"}),A.jsx("option",{value:"WTPL",children:"WTPL"}),A.jsx("option",{value:"WTX",children:"WTX"}),A.jsx("option",{value:"WTXPL",children:"WTXPL"})]}),A.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{fontWeight:"600"},children:"Invoice Date"}),A.jsx("input",{type:"date",value:E,onChange:le=>C(le.target.value),required:!0,style:{width:"100%",padding:"10px"}})]}),A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{fontWeight:"600"},children:"Title of Invoice"}),A.jsx("input",{type:"text",value:R,onChange:le=>I(le.target.value),required:!0,style:{width:"100%",padding:"10px"}})]})]}),A.jsx("label",{style:{fontWeight:"600"},children:"Invoice Number"}),A.jsx("input",{type:"text",value:S,disabled:!0,style:{width:"100%",padding:"10px",marginBottom:"20px",background:"#eee",fontWeight:"bold"}}),A.jsx("label",{style:{fontWeight:"600"},children:"Select Client"}),A.jsx(as,{options:t.map(le=>({value:le.id,label:`${le.company_name} — ${le.client_name}`})),value:t.find(le=>le.id===l)?{value:l,label:`${c==null?void 0:c.company_name} — ${c==null?void 0:c.client_name}`}:null,onChange:le=>{h(le.value);const he=t.find(_e=>_e.id===le.value);d(he)},placeholder:"Select Client...",isSearchable:!0}),A.jsx("label",{style:{fontWeight:"600",marginTop:"20px",display:"block"},children:"Link Project"}),A.jsx(as,{options:i,value:g,onChange:le=>b(le),placeholder:"Select Project...",isSearchable:!0,styles:{control:le=>({...le,padding:"2px",marginBottom:"20px"})}}),A.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",marginTop:"30px"},children:"Services"}),B.map((le,he)=>A.jsxs("div",{style:{marginBottom:"25px",padding:"20px",background:"#fafafa",border:"1px solid #ddd",borderRadius:"8px"},children:[A.jsxs("div",{style:{marginBottom:"15px"},children:[A.jsxs("label",{style:{fontWeight:"600",display:"block",marginBottom:"6px"},children:["Service Name ",he+1]}),A.jsx(as,{isMulti:!0,options:U,value:le.name.map(_e=>U.find(Q=>Q.value===_e)),onChange:_e=>{const Q=[...B];Q[he].name=_e.map(xe=>xe.value),H(Q)},placeholder:"Select Service(s)",isSearchable:!0,styles:{control:_e=>({..._e,minHeight:"44px",padding:"2px",borderColor:"#ccc"})}})]}),A.jsxs("div",{style:{marginBottom:"15px"},children:[A.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"6px"},children:"Service Description"}),A.jsx("textarea",{value:le.description,onChange:_e=>{const Q=[...B];Q[he].description=_e.target.value,H(Q)},placeholder:"Enter Service Description",style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"},rows:3,required:!0})]}),A.jsxs("div",{style:{marginBottom:"15px"},children:[A.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"6px"},children:"Service Amount ₹"}),A.jsx("input",{type:"number",value:le.amount,onChange:_e=>{const Q=[...B];Q[he].amount=_e.target.value,H(Q)},placeholder:"Enter Amount",style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"},required:!0})]}),B.length>1&&A.jsx("button",{type:"button",onClick:()=>{const _e=[...B];_e.splice(he,1),H(_e)},style:{backgroundColor:"#dc3545",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"Remove Service"})]},he)),A.jsx("button",{type:"button",onClick:()=>H([...B,{name:[],description:"",amount:""}]),style:{marginBottom:"20px",padding:"10px 20px",background:"#000",color:"#fff",borderRadius:"5px",fontWeight:"bold"},children:"Add Another Service"}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsx("label",{style:{fontWeight:"600"},children:"Payment Status"}),A.jsxs("select",{value:ae,onChange:le=>$(le.target.value),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"},children:[A.jsx("option",{value:"Pending",children:"Pending"}),A.jsx("option",{value:"Paid",children:"Paid"}),A.jsx("option",{value:"Partial",children:"Partial"})]})]}),A.jsxs("div",{style:{background:"#f9f9f9",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[A.jsxs("p",{children:["Subtotal: ₹",F.toFixed(2)]}),A.jsxs("p",{children:["CGST (9%): ₹",P.toFixed(2)]}),A.jsxs("p",{children:["SGST (9%): ₹",O.toFixed(2)]}),A.jsxs("p",{children:["IGST (18%): ₹",j.toFixed(2)]}),A.jsxs("p",{children:[A.jsx("b",{children:"Total Tax:"})," ₹",se.toFixed(2)]}),A.jsxs("p",{children:[A.jsx("b",{children:"Total Amount:"})," ₹",Se.toFixed(2)]})]}),A.jsx("button",{type:"submit",style:{width:"100%",padding:"15px",background:"#000000",color:"#fff",borderRadius:"5px",fontWeight:"bold",fontSize:"16px"},children:"Submit Invoice"})]})})}function ck(){const[n,e]=ne.useState([]),t=fi();ne.useEffect(()=>{(async()=>{const c=(await ei(Hr(Ut,"invoices"))).docs.map(d=>({id:d.id,...d.data()}));e(c)})()},[]);const r=async l=>{window.confirm("Are you sure you want to delete this invoice?")&&(await Wg(Jn(Ut,"invoices",l)),e(h=>h.filter(c=>c.id!==l)))},i=l=>{if(!Array.isArray(l))return"—";const h=l.filter(c=>c&&Array.isArray(c.name)).flatMap(c=>c.name).filter(c=>typeof c=="string"&&c.trim()!=="");return h.length>0?h.join(", "):"—"},s=l=>{const h=(l||"").toLowerCase(),c="px-2 py-1 rounded-full text-xs font-semibold";return h==="paid"?A.jsx("span",{className:`${c} bg-green-100 text-green-800`,children:"Paid"}):h==="pending"?A.jsx("span",{className:`${c} bg-red-100 text-red-800`,children:"Pending"}):h==="partial"?A.jsx("span",{className:`${c} bg-yellow-100 text-yellow-800`,children:"Partial"}):A.jsx("span",{className:`${c} bg-gray-100 text-gray-800`,children:"—"})};return A.jsxs("div",{className:"p-6 all-invoices",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"All Invoices"}),n.length===0?A.jsx("p",{children:"No invoices found."}):A.jsxs("table",{className:"table-auto border border-gray-300 text-sm w-full",children:[A.jsx("thead",{className:"bg-gray-100",children:A.jsxs("tr",{children:[A.jsx("th",{className:"border px-4 py-2",children:"Invoice ID"}),A.jsx("th",{className:"border px-4 py-2",children:"Client ID"}),A.jsx("th",{className:"border px-4 py-2",children:"Title"}),A.jsx("th",{className:"border px-4 py-2",children:"Service(s)"}),A.jsx("th",{className:"border px-4 py-2",children:"Amount"}),A.jsx("th",{className:"border px-4 py-2",children:"Status"}),A.jsx("th",{className:"border px-4 py-2",children:"Actions"})]})}),A.jsx("tbody",{children:n.map(l=>A.jsxs("tr",{children:[A.jsx("td",{className:"border px-4 py-2",children:l.invoice_id||"—"}),A.jsx("td",{className:"border px-4 py-2",children:l.client_id||"—"}),A.jsx("td",{className:"border px-4 py-2",children:l.invoice_title||"—"}),A.jsx("td",{className:"border px-4 py-2",children:i(l.services)}),A.jsxs("td",{className:"border px-4 py-2",children:["₹",l.total_amount?l.total_amount.toLocaleString():"0"]}),A.jsx("td",{className:"border px-4 py-2 text-center",children:s(l.payment_status)}),A.jsxs("td",{className:"border px-4 py-2 space-x-2",children:[A.jsx("button",{onClick:()=>t(`/dashboard/edit-invoice/${l.id}`),className:"bg-blue-600 text-white px-3 py-1 rounded edit",children:"Edit"}),A.jsx("button",{onClick:()=>r(l.id),className:"bg-red-600 text-white px-3 py-1 rounded edit",children:"Delete"}),A.jsx("button",{onClick:()=>t(`/dashboard/invoice-preview/${l.id}`),className:"bg-green-600 text-white px-3 py-1 rounded edit",children:"Preview"})]})]},l.id))})]})]})}const hk="modulepreload",fk=function(n){return"/invoices/"+n},Nw={},C1=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=l(t.map(d=>{if(d=fk(d),d in Nw)return;Nw[d]=!0;const g=d.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":hk,g||(S.as="script"),S.crossOrigin="",S.href=d,c&&S.setAttribute("nonce",c),document.head.appendChild(S),g)return new Promise((_,E)=>{S.addEventListener("load",_),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return i.then(l=>{for(const h of l||[])h.status==="rejected"&&s(h.reason);return e().catch(s)})};var sa=Uint8Array,ss=Uint16Array,ay=Int32Array,Jg=new sa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zg=new sa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),I1=new sa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O4=function(n,e){for(var t=new ss(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new ay(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},k4=O4(Jg,2),j4=k4.b,R1=k4.r;j4[28]=258,R1[258]=28;var M4=O4(Zg,0),dk=M4.b,Cw=M4.r,P1=new ss(32768);for(var ir=0;ir<32768;++ir){var Hu=(ir&43690)>>1|(ir&21845)<<1;Hu=(Hu&52428)>>2|(Hu&13107)<<2,Hu=(Hu&61680)>>4|(Hu&3855)<<4,P1[ir]=((Hu&65280)>>8|(Hu&255)<<8)>>1}var sl=function(n,e,t){for(var r=n.length,i=0,s=new ss(e);i<r;++i)n[i]&&++s[n[i]-1];var l=new ss(e);for(i=1;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var h;if(t){h=new ss(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],g=e-n[i],b=l[n[i]-1]++<<g,S=b|(1<<g)-1;b<=S;++b)h[P1[b]>>c]=d}else for(h=new ss(r),i=0;i<r;++i)n[i]&&(h[i]=P1[l[n[i]-1]++]>>15-n[i]);return h},hc=new sa(288);for(var ir=0;ir<144;++ir)hc[ir]=8;for(var ir=144;ir<256;++ir)hc[ir]=9;for(var ir=256;ir<280;++ir)hc[ir]=7;for(var ir=280;ir<288;++ir)hc[ir]=8;var Bd=new sa(32);for(var ir=0;ir<32;++ir)Bd[ir]=5;var pk=sl(hc,9,0),mk=sl(hc,9,1),gk=sl(Bd,5,0),vk=sl(Bd,5,1),kv=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},oo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},jv=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},sy=function(n){return(n+7)/8|0},F4=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new sa(n.subarray(e,t))},yk=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],co=function(n,e,t){var r=new Error(e||yk[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,co),!t)throw r;return r},bk=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new sa(0);var l=!t,h=l||e.i!=2,c=e.i;l&&(t=new sa(i*3));var d=function(Qe){var nt=t.length;if(Qe>nt){var et=new sa(Math.max(nt*2,Qe));et.set(t),t=et}},g=e.f||0,b=e.p||0,S=e.b||0,_=e.l,E=e.d,C=e.m,R=e.n,I=i*8;do{if(!_){g=oo(n,b,1);var B=oo(n,b+1,3);if(b+=3,B)if(B==1)_=mk,E=vk,C=9,R=5;else if(B==2){var ce=oo(n,b,31)+257,U=oo(n,b+10,15)+4,L=ce+oo(n,b+5,31)+1;b+=14;for(var F=new sa(L),W=new sa(19),P=0;P<U;++P)W[I1[P]]=oo(n,b+P*3,7);b+=U*3;for(var O=kv(W),j=(1<<O)-1,se=sl(W,O,1),P=0;P<L;){var Se=se[oo(n,b,j)];b+=Se&15;var H=Se>>4;if(H<16)F[P++]=H;else{var re=0,le=0;for(H==16?(le=3+oo(n,b,3),b+=2,re=F[P-1]):H==17?(le=3+oo(n,b,7),b+=3):H==18&&(le=11+oo(n,b,127),b+=7);le--;)F[P++]=re}}var he=F.subarray(0,ce),_e=F.subarray(ce);C=kv(he),R=kv(_e),_=sl(he,C,1),E=sl(_e,R,1)}else co(1);else{var H=sy(b)+4,ae=n[H-4]|n[H-3]<<8,$=H+ae;if($>i){c&&co(0);break}h&&d(S+ae),t.set(n.subarray(H,$),S),e.b=S+=ae,e.p=b=$*8,e.f=g;continue}if(b>I){c&&co(0);break}}h&&d(S+131072);for(var Q=(1<<C)-1,xe=(1<<R)-1,M=b;;M=b){var re=_[jv(n,b)&Q],K=re>>4;if(b+=re&15,b>I){c&&co(0);break}if(re||co(2),K<256)t[S++]=K;else if(K==256){M=b,_=null;break}else{var te=K-254;if(K>264){var P=K-257,ue=Jg[P];te=oo(n,b,(1<<ue)-1)+j4[P],b+=ue}var fe=E[jv(n,b)&xe],Ne=fe>>4;fe||co(3),b+=fe&15;var _e=dk[Ne];if(Ne>3){var ue=Zg[Ne];_e+=jv(n,b)&(1<<ue)-1,b+=ue}if(b>I){c&&co(0);break}h&&d(S+131072);var Te=S+te;if(S<_e){var Le=s-_e,Je=Math.min(_e,Te);for(Le+S<0&&co(3);S<Je;++S)t[S]=r[Le+S]}for(;S<Te;++S)t[S]=t[S-_e]}}e.l=_,e.p=M,e.b=S,e.f=g,_&&(g=1,e.m=C,e.d=E,e.n=R)}while(!g);return S!=t.length&&l?F4(t,0,S):t.subarray(0,S)},Ul=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},cd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Mv=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:B4,l:0};if(i==1){var l=new sa(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function($,ce){return $.f-ce.f}),t.push({s:-1,f:25001});var h=t[0],c=t[1],d=0,g=1,b=2;for(t[0]={s:-1,f:h.f+c.f,l:h,r:c};g!=i-1;)h=t[t[d].f<t[b].f?d++:b++],c=t[d!=g&&t[d].f<t[b].f?d++:b++],t[g++]={s:-1,f:h.f+c.f,l:h,r:c};for(var S=s[0].s,r=1;r<i;++r)s[r].s>S&&(S=s[r].s);var _=new ss(S+1),E=L1(t[g-1],_,0);if(E>e){var r=0,C=0,R=E-e,I=1<<R;for(s.sort(function(ce,U){return _[U.s]-_[ce.s]||ce.f-U.f});r<i;++r){var B=s[r].s;if(_[B]>e)C+=I-(1<<E-_[B]),_[B]=e;else break}for(C>>=R;C>0;){var H=s[r].s;_[H]<e?C-=1<<e-_[H]++-1:++r}for(;r>=0&&C;--r){var ae=s[r].s;_[ae]==e&&(--_[ae],++C)}E=e}return{t:new sa(_),l:E}},L1=function(n,e,t){return n.s==-1?Math.max(L1(n.l,e,t+1),L1(n.r,e,t+1)):e[n.s]=t},Iw=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ss(++e),r=0,i=n[0],s=1,l=function(c){t[r++]=c},h=1;h<=e;++h)if(n[h]==i&&h!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=n[h]}return{c:t.subarray(0,r),n:e}},hd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},V4=function(n,e,t){var r=t.length,i=sy(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},Rw=function(n,e,t,r,i,s,l,h,c,d,g){Ul(e,g++,t),++i[256];for(var b=Mv(i,15),S=b.t,_=b.l,E=Mv(s,15),C=E.t,R=E.l,I=Iw(S),B=I.c,H=I.n,ae=Iw(C),$=ae.c,ce=ae.n,U=new ss(19),L=0;L<B.length;++L)++U[B[L]&31];for(var L=0;L<$.length;++L)++U[$[L]&31];for(var F=Mv(U,7),W=F.t,P=F.l,O=19;O>4&&!W[I1[O-1]];--O);var j=d+5<<3,se=hd(i,hc)+hd(s,Bd)+l,Se=hd(i,S)+hd(s,C)+l+14+3*O+hd(U,W)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&j<=se&&j<=Se)return V4(e,g,n.subarray(c,c+d));var re,le,he,_e;if(Ul(e,g,1+(Se<se)),g+=2,Se<se){re=sl(S,_,0),le=S,he=sl(C,R,0),_e=C;var Q=sl(W,P,0);Ul(e,g,H-257),Ul(e,g+5,ce-1),Ul(e,g+10,O-4),g+=14;for(var L=0;L<O;++L)Ul(e,g+3*L,W[I1[L]]);g+=3*O;for(var xe=[B,$],M=0;M<2;++M)for(var K=xe[M],L=0;L<K.length;++L){var te=K[L]&31;Ul(e,g,Q[te]),g+=W[te],te>15&&(Ul(e,g,K[L]>>5&127),g+=K[L]>>12)}}else re=pk,le=hc,he=gk,_e=Bd;for(var L=0;L<h;++L){var ue=r[L];if(ue>255){var te=ue>>18&31;cd(e,g,re[te+257]),g+=le[te+257],te>7&&(Ul(e,g,ue>>23&31),g+=Jg[te]);var fe=ue&31;cd(e,g,he[fe]),g+=_e[fe],fe>3&&(cd(e,g,ue>>5&8191),g+=Zg[fe])}else cd(e,g,re[ue]),g+=le[ue]}return cd(e,g,re[256]),g+le[256]},_k=new ay([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),B4=new sa(0),wk=function(n,e,t,r,i,s){var l=s.z||n.length,h=new sa(r+l+5*(1+Math.ceil(l/7e3))+i),c=h.subarray(r,h.length-i),d=s.l,g=(s.r||0)&7;if(e){g&&(c[0]=s.r>>3);for(var b=_k[e-1],S=b>>13,_=b&8191,E=(1<<t)-1,C=s.p||new ss(32768),R=s.h||new ss(E+1),I=Math.ceil(t/3),B=2*I,H=function(_t){return(n[_t]^n[_t+1]<<I^n[_t+2]<<B)&E},ae=new ay(25e3),$=new ss(288),ce=new ss(32),U=0,L=0,F=s.i||0,W=0,P=s.w||0,O=0;F+2<l;++F){var j=H(F),se=F&32767,Se=R[j];if(C[se]=Se,R[j]=se,P<=F){var re=l-F;if((U>7e3||W>24576)&&(re>423||!d)){g=Rw(n,c,0,ae,$,ce,L,W,O,F-O,g),W=U=L=0,O=F;for(var le=0;le<286;++le)$[le]=0;for(var le=0;le<30;++le)ce[le]=0}var he=2,_e=0,Q=_,xe=se-Se&32767;if(re>2&&j==H(F-xe))for(var M=Math.min(S,re)-1,K=Math.min(32767,F),te=Math.min(258,re);xe<=K&&--Q&&se!=Se;){if(n[F+he]==n[F+he-xe]){for(var ue=0;ue<te&&n[F+ue]==n[F+ue-xe];++ue);if(ue>he){if(he=ue,_e=xe,ue>M)break;for(var fe=Math.min(xe,ue-2),Ne=0,le=0;le<fe;++le){var Te=F-xe+le&32767,Le=C[Te],Je=Te-Le&32767;Je>Ne&&(Ne=Je,Se=Te)}}}se=Se,Se=C[se],xe+=se-Se&32767}if(_e){ae[W++]=268435456|R1[he]<<18|Cw[_e];var Qe=R1[he]&31,nt=Cw[_e]&31;L+=Jg[Qe]+Zg[nt],++$[257+Qe],++ce[nt],P=F+he,++U}else ae[W++]=n[F],++$[n[F]]}}for(F=Math.max(F,P);F<l;++F)ae[W++]=n[F],++$[n[F]];g=Rw(n,c,d,ae,$,ce,L,W,O,F-O,g),d||(s.r=g&7|c[g/8|0]<<3,g-=7,s.h=R,s.p=C,s.i=F,s.w=P)}else{for(var F=s.w||0;F<l+d;F+=65535){var et=F+65535;et>=l&&(c[g/8|0]=d,et=l),g=V4(c,g+1,n.subarray(F,et))}s.i=l}return F4(h,0,r+sy(g)+i)},U4=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,l=0;l!=s;){for(var h=Math.min(l+2655,s);l<h;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Sk=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),l=new sa(s.length+n.length);l.set(s),l.set(n,s.length),n=l,i.w=s.length}return wk(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},q4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},xk=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=U4();i.p(e.dictionary),q4(n,2,i.d())}},Ak=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&co(6,"invalid zlib data"),(n[1]>>5&1)==1&&co(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function D1(n,e){e||(e={});var t=U4();t.p(n);var r=Sk(n,e,e.dictionary?6:2,4);return xk(r,e),q4(r,r.length-4,t.d()),r}function Tk(n,e){return bk(n.subarray(Ak(n),-4),{i:2},e,e)}var Ek=typeof TextDecoder<"u"&&new TextDecoder,Nk=0;try{Ek.decode(B4,{stream:!0}),Nk=1}catch{}var Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Fv(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Xn={log:Fv,warn:function(n){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):Fv.call(null,arguments))},error:function(n){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):Fv(n))}};function Vv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Uc(r.response,e,t)},r.onerror=function(){Xn.error("could not download file")},r.send()}function Pw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Td,O1,Uc=Ft.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ft.URL||Ft.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Pw(i.href)?Vv(n,e,t):dm(i,i.target="_blank"):dm(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){dm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Pw(n))Vv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){dm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:_n(s)!=="object"&&(Xn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Vv(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ft.HTMLElement)||Ft.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var g=h.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},h.readAsDataURL(n)}else{var c=Ft.URL||Ft.webkitURL,d=c.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function z4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,l=i.exec(n);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+h+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Bv(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ea(t,r,i,s,e[0],7,-680876936),s=ea(s,t,r,i,e[1],12,-389564586),i=ea(i,s,t,r,e[2],17,606105819),r=ea(r,i,s,t,e[3],22,-1044525330),t=ea(t,r,i,s,e[4],7,-176418897),s=ea(s,t,r,i,e[5],12,1200080426),i=ea(i,s,t,r,e[6],17,-1473231341),r=ea(r,i,s,t,e[7],22,-45705983),t=ea(t,r,i,s,e[8],7,1770035416),s=ea(s,t,r,i,e[9],12,-1958414417),i=ea(i,s,t,r,e[10],17,-42063),r=ea(r,i,s,t,e[11],22,-1990404162),t=ea(t,r,i,s,e[12],7,1804603682),s=ea(s,t,r,i,e[13],12,-40341101),i=ea(i,s,t,r,e[14],17,-1502002290),t=ta(t,r=ea(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ta(s,t,r,i,e[6],9,-1069501632),i=ta(i,s,t,r,e[11],14,643717713),r=ta(r,i,s,t,e[0],20,-373897302),t=ta(t,r,i,s,e[5],5,-701558691),s=ta(s,t,r,i,e[10],9,38016083),i=ta(i,s,t,r,e[15],14,-660478335),r=ta(r,i,s,t,e[4],20,-405537848),t=ta(t,r,i,s,e[9],5,568446438),s=ta(s,t,r,i,e[14],9,-1019803690),i=ta(i,s,t,r,e[3],14,-187363961),r=ta(r,i,s,t,e[8],20,1163531501),t=ta(t,r,i,s,e[13],5,-1444681467),s=ta(s,t,r,i,e[2],9,-51403784),i=ta(i,s,t,r,e[7],14,1735328473),t=na(t,r=ta(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=na(s,t,r,i,e[8],11,-2022574463),i=na(i,s,t,r,e[11],16,1839030562),r=na(r,i,s,t,e[14],23,-35309556),t=na(t,r,i,s,e[1],4,-1530992060),s=na(s,t,r,i,e[4],11,1272893353),i=na(i,s,t,r,e[7],16,-155497632),r=na(r,i,s,t,e[10],23,-1094730640),t=na(t,r,i,s,e[13],4,681279174),s=na(s,t,r,i,e[0],11,-358537222),i=na(i,s,t,r,e[3],16,-722521979),r=na(r,i,s,t,e[6],23,76029189),t=na(t,r,i,s,e[9],4,-640364487),s=na(s,t,r,i,e[12],11,-421815835),i=na(i,s,t,r,e[15],16,530742520),t=ra(t,r=na(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ra(s,t,r,i,e[7],10,1126891415),i=ra(i,s,t,r,e[14],15,-1416354905),r=ra(r,i,s,t,e[5],21,-57434055),t=ra(t,r,i,s,e[12],6,1700485571),s=ra(s,t,r,i,e[3],10,-1894986606),i=ra(i,s,t,r,e[10],15,-1051523),r=ra(r,i,s,t,e[1],21,-2054922799),t=ra(t,r,i,s,e[8],6,1873313359),s=ra(s,t,r,i,e[15],10,-30611744),i=ra(i,s,t,r,e[6],15,-1560198380),r=ra(r,i,s,t,e[13],21,1309151649),t=ra(t,r,i,s,e[4],6,-145523070),s=ra(s,t,r,i,e[11],10,-1120210379),i=ra(i,s,t,r,e[2],15,718787259),r=ra(r,i,s,t,e[9],21,-343485551),n[0]=Xu(t,n[0]),n[1]=Xu(r,n[1]),n[2]=Xu(i,n[2]),n[3]=Xu(s,n[3])}function e0(n,e,t,r,i,s){return e=Xu(Xu(e,n),Xu(r,s)),Xu(e<<i|e>>>32-i,t)}function ea(n,e,t,r,i,s,l){return e0(e&t|~e&r,n,e,i,s,l)}function ta(n,e,t,r,i,s,l){return e0(e&r|t&~r,n,e,i,s,l)}function na(n,e,t,r,i,s,l){return e0(e^t^r,n,e,i,s,l)}function ra(n,e,t,r,i,s,l){return e0(t^(e|~r),n,e,i,s,l)}function H4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Bv(r,Ck(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Bv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Bv(r,i),r}function Ck(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Td=Ft.atob.bind(Ft),O1=Ft.btoa.bind(Ft);var Lw="0123456789abcdef".split("");function Ik(n){for(var e="",t=0;t<4;t++)e+=Lw[n>>8*t+4&15]+Lw[n>>8*t&15];return e}function Rk(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function k1(n){return H4(n).map(Rk).join("")}var Pk=function(n){for(var e=0;e<n.length;e++)n[e]=Ik(n[e]);return n.join("")}(H4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xu(n,e){if(Pk){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j1(n,e){var t,r,i,s;if(n!==t){for(var l=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),h=[],c=0;c<256;c++)h[c]=c;var d=0;for(c=0;c<256;c++){var g=h[c];d=(d+g+l.charCodeAt(c))%256,h[c]=h[d],h[d]=g}t=n,r=h}else h=r;var b=e.length,S=0,_=0,E="";for(c=0;c<b;c++)_=(_+(g=h[S=(S+1)%256]))%256,h[S]=h[_],h[_]=g,l=h[(h[S]+h[_])%256],E+=String.fromCharCode(e.charCodeAt(c)^l);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Dw={print:4,modify:8,copy:16,"annot-forms":32};function Fh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(h){if(Dw.perm!==void 0)throw new Error("Invalid permission: "+h);i+=Dw[h]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=k1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=j1(this.encryptionKey,this.padding)}function Vh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function Ow(n){if(_n(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var l=e[t][s];try{l[0].apply(n,r)}catch(h){Ft.console&&Xn.error("jsPDF PubSub Error",h.message,h)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function mg(n){if(!(this instanceof mg))return new mg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function W4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function qc(n,e,t,r,i){if(!(this instanceof qc))return new qc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,W4.call(this,r,i)}function qh(n,e,t,r,i){if(!(this instanceof qh))return new qh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,W4.call(this,r,i)}function It(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],h=1,c=16,d="S",g=null;_n(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),d=n.defaultPathOperation||"S"),l=n.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,S={},_={internal:{},__private__:{}};_.__private__.PubSub=Ow;var E="1.3",C=_.__private__.getPdfVersion=function(){return E};_.__private__.setPdfVersion=function(x){E=x};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return R};var I=_.__private__.getPageFormat=function(x){return R[x]};i=i||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},H=B.COMPAT;function ae(){this.saveGraphicsState(),de(new ut(lt,0,0,-lt,0,yi()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),d="n",H=B.ADVANCED}function $(){this.restoreGraphicsState(),d="S",H=B.COMPAT}var ce=_.__private__.combineFontStyleAndFontWeight=function(x,z){if(x=="bold"&&z=="normal"||x=="bold"&&z==400||x=="normal"&&z=="italic"||x=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(x=z==400||z==="normal"?x==="italic"?"italic":"normal":z!=700&&z!=="bold"||x!=="normal"?(z==700?"bold":z)+""+x:"bold"),x};_.advancedAPI=function(x){var z=H===B.COMPAT;return z&&ae.call(this),typeof x!="function"||(x(this),z&&$.call(this)),this},_.compatAPI=function(x){var z=H===B.ADVANCED;return z&&$.call(this),typeof x!="function"||(x(this),z&&ae.call(this)),this},_.isAdvancedAPI=function(){return H===B.ADVANCED};var U,L=function(x){if(H!==B.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=_.roundToPrecision=_.__private__.roundToPrecision=function(x,z){var oe=e||z;if(isNaN(x)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(oe).replace(/0+$/,"")};U=_.hpf=_.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return F(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return F(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return F(x,16)};var W=_.f2=_.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return F(x,2)},P=_.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return F(x,3)},O=_.scale=_.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return H===B.COMPAT?x*lt:H===B.ADVANCED?x:void 0},j=function(x){return H===B.COMPAT?yi()-x:H===B.ADVANCED?x:void 0},se=function(x){return O(j(x))};_.__private__.setPrecision=_.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Se,re="00000000000000000000000000000000",le=_.__private__.getFileId=function(){return re},he=_.__private__.setFileId=function(x){return re=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Fn=new Fh(g.userPermissions,g.userPassword,g.ownerPassword,re)),re};_.setFileId=function(x){return he(x),this},_.getFileId=function(){return le()};var _e=_.__private__.convertDateToPDFDate=function(x){var z=x.getTimezoneOffset(),oe=z<0?"+":"-",me=Math.floor(Math.abs(z/60)),Ae=Math.abs(z%60),Ve=[oe,te(me),"'",te(Ae),"'"].join("");return["D:",x.getFullYear(),te(x.getMonth()+1),te(x.getDate()),te(x.getHours()),te(x.getMinutes()),te(x.getSeconds()),Ve].join("")},Q=_.__private__.convertPDFDateToDate=function(x){var z=parseInt(x.substr(2,4),10),oe=parseInt(x.substr(6,2),10)-1,me=parseInt(x.substr(8,2),10),Ae=parseInt(x.substr(10,2),10),Ve=parseInt(x.substr(12,2),10),Ye=parseInt(x.substr(14,2),10);return new Date(z,oe,me,Ae,Ve,Ye,0)},xe=_.__private__.setCreationDate=function(x){var z;if(x===void 0&&(x=new Date),x instanceof Date)z=_e(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=x}return Se=z},M=_.__private__.getCreationDate=function(x){var z=Se;return x==="jsDate"&&(z=Q(Se)),z};_.setCreationDate=function(x){return xe(x),this},_.getCreationDate=function(x){return M(x)};var K,te=_.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ue=_.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},fe=0,Ne=[],Te=[],Le=0,Je=[],Qe=[],nt=!1,et=Te,_t=function(){fe=0,Le=0,Te=[],Ne=[],Je=[],Ni=or(),Wr=or()};_.__private__.setCustomOutputDestination=function(x){nt=!0,et=x};var Fe=function(x){nt||(et=x)};_.__private__.resetCustomOutputDestination=function(){nt=!1,et=Te};var de=_.__private__.out=function(x){return x=x.toString(),Le+=x.length+1,et.push(x),et},xt=_.__private__.write=function(x){return de(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},ft=_.__private__.getArrayBuffer=function(x){for(var z=x.length,oe=new ArrayBuffer(z),me=new Uint8Array(oe);z--;)me[z]=x.charCodeAt(z);return oe},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Ze};var tt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(x){return tt=H===B.ADVANCED?x/lt:x,this};var st,ot=_.__private__.getFontSize=_.getFontSize=function(){return H===B.COMPAT?tt:tt*lt},vt=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(x){return vt=x,this},_.__private__.getR2L=_.getR2L=function(){return vt};var Ot,zt=_.__private__.setZoomMode=function(x){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))st=x;else if(isNaN(x)){if(z.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');st=x}else st=parseInt(x,10)};_.__private__.getZoomMode=function(){return st};var bt,gt=_.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Ot=x};_.__private__.getPageMode=function(){return Ot};var Yt=_.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');bt=x};_.__private__.getLayoutMode=function(){return bt},_.__private__.setDisplayMode=_.setDisplayMode=function(x,z,oe){return zt(x),Yt(z),gt(oe),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(x){if(Object.keys(dt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[x]},_.__private__.getDocumentProperties=function(){return dt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(x){for(var z in dt)dt.hasOwnProperty(z)&&x[z]&&(dt[z]=x[z]);return this},_.__private__.setDocumentProperty=function(x,z){if(Object.keys(dt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[x]=z};var Kt,lt,ar,Jt,ti,en={},Rn={},di=[],cn={},ja={},qn={},Rr={},ni=null,zn=0,At=[],hn=new Ow(_),Bi=n.hotfixes||[],sr={},ri={},la=[],ut=function x(z,oe,me,Ae,Ve,Ye){if(!(this instanceof x))return new x(z,oe,me,Ae,Ve,Ye);isNaN(z)&&(z=1),isNaN(oe)&&(oe=0),isNaN(me)&&(me=0),isNaN(Ae)&&(Ae=1),isNaN(Ve)&&(Ve=0),isNaN(Ye)&&(Ye=0),this._matrix=[z,oe,me,Ae,Ve,Ye]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(x)},ut.prototype.multiply=function(x){var z=x.sx*this.sx+x.shy*this.shx,oe=x.sx*this.shy+x.shy*this.sy,me=x.shx*this.sx+x.sy*this.shx,Ae=x.shx*this.shy+x.sy*this.sy,Ve=x.tx*this.sx+x.ty*this.shx+this.tx,Ye=x.tx*this.shy+x.ty*this.sy+this.ty;return new ut(z,oe,me,Ae,Ve,Ye)},ut.prototype.decompose=function(){var x=this.sx,z=this.shy,oe=this.shx,me=this.sy,Ae=this.tx,Ve=this.ty,Ye=Math.sqrt(x*x+z*z),it=(x/=Ye)*oe+(z/=Ye)*me;oe-=x*it,me-=z*it;var m=Math.sqrt(oe*oe+me*me);return it/=m,x*(me/=m)<z*(oe/=m)&&(x=-x,z=-z,it=-it,Ye=-Ye),{scale:new ut(Ye,0,0,m,0,0),translate:new ut(1,0,0,1,Ae,Ve),rotate:new ut(x,z,-z,x,0,0),skew:new ut(1,0,it,1,0,0)}},ut.prototype.toString=function(x){return this.join(" ")},ut.prototype.inversed=function(){var x=this.sx,z=this.shy,oe=this.shx,me=this.sy,Ae=this.tx,Ve=this.ty,Ye=1/(x*me-z*oe),it=me*Ye,m=-z*Ye,N=-oe*Ye,k=x*Ye;return new ut(it,m,N,k,-it*Ae-N*Ve,-m*Ae-k*Ve)},ut.prototype.applyToPoint=function(x){var z=x.x*this.sx+x.y*this.shx+this.tx,oe=x.x*this.shy+x.y*this.sy+this.ty;return new qs(z,oe)},ut.prototype.applyToRectangle=function(x){var z=this.applyToPoint(x),oe=this.applyToPoint(new qs(x.x+x.w,x.y+x.h));return new To(z.x,z.y,oe.x-z.x,oe.y-z.y)},ut.prototype.clone=function(){var x=this.sx,z=this.shy,oe=this.shx,me=this.sy,Ae=this.tx,Ve=this.ty;return new ut(x,z,oe,me,Ae,Ve)},_.Matrix=ut;var Pn=_.matrixMult=function(x,z){return z.multiply(x)},Ln=new ut(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ln;var Kn=function(x,z){if(!ja[x]){var oe=(z instanceof qc?"Sh":"P")+(Object.keys(cn).length+1).toString(10);z.id=oe,ja[x]=oe,cn[oe]=z,hn.publish("addPattern",z)}};_.ShadingPattern=qc,_.TilingPattern=qh,_.addShadingPattern=function(x,z){return L("addShadingPattern()"),Kn(x,z),this},_.beginTilingPattern=function(x){L("beginTilingPattern()"),ys(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},_.endTilingPattern=function(x,z){L("endTilingPattern()"),z.stream=Qe[K].join(`
`),Kn(x,z),hn.publish("endTilingPattern",z),la.pop().restore()};var nr=_.__private__.newObject=function(){var x=or();return _r(x,!0),x},or=_.__private__.newObjectDeferred=function(){return fe++,Ne[fe]=function(){return Le},fe},_r=function(x,z){return z=typeof z=="boolean"&&z,Ne[x]=Le,z&&de(x+" 0 obj"),x},ks=_.__private__.newAdditionalObject=function(){var x={objId:or(),content:""};return Je.push(x),x},Ni=or(),Wr=or(),Pr=_.__private__.decodeColorString=function(x){var z=x.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var oe=parseFloat(z[0]);z=[oe,oe,oe,"r"]}for(var me="#",Ae=0;Ae<3;Ae++)me+=("0"+Math.floor(255*parseFloat(z[Ae])).toString(16)).slice(-2);return me},wr=_.__private__.encodeColorString=function(x){var z;typeof x=="string"&&(x={ch1:x});var oe=x.ch1,me=x.ch2,Ae=x.ch3,Ve=x.ch4,Ye=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var it=new z4(oe);if(it.ok)oe=it.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var m=parseInt(oe.substr(1),16);oe=m>>16&255,me=m>>8&255,Ae=255&m}if(me===void 0||Ve===void 0&&oe===me&&me===Ae)if(typeof oe=="string")z=oe+" "+Ye[0];else switch(x.precision){case 2:z=W(oe/255)+" "+Ye[0];break;case 3:default:z=P(oe/255)+" "+Ye[0]}else if(Ve===void 0||_n(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return z=["1.","1.","1.",Ye[1]].join(" ");if(typeof oe=="string")z=[oe,me,Ae,Ye[1]].join(" ");else switch(x.precision){case 2:z=[W(oe/255),W(me/255),W(Ae/255),Ye[1]].join(" ");break;default:case 3:z=[P(oe/255),P(me/255),P(Ae/255),Ye[1]].join(" ")}}else if(typeof oe=="string")z=[oe,me,Ae,Ve,Ye[2]].join(" ");else switch(x.precision){case 2:z=[W(oe),W(me),W(Ae),W(Ve),Ye[2]].join(" ");break;case 3:default:z=[P(oe),P(me),P(Ae),P(Ve),Ye[2]].join(" ")}return z},Lr=_.__private__.getFilters=function(){return l},Hn=_.__private__.putStream=function(x){var z=(x=x||{}).data||"",oe=x.filters||Lr(),me=x.alreadyAppliedFilters||[],Ae=x.addLength1||!1,Ve=z.length,Ye=x.objectId,it=function(Lt){return Lt};if(g!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(it=Fn.encryptor(Ye,0));var m={};oe===!0&&(oe=["FlateEncode"]);var N=x.additionalKeyValues||[],k=(m=It.API.processDataByFilters!==void 0?It.API.processDataByFilters(z,oe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(m.data.length!==0&&(N.push({key:"Length",value:m.data.length}),Ae===!0&&N.push({key:"Length1",value:Ve})),k.length!=0)if(k.split("/").length-1==1)N.push({key:"Filter",value:k});else{N.push({key:"Filter",value:"["+k+"]"});for(var J=0;J<N.length;J+=1)if(N[J].key==="DecodeParms"){for(var we=[],De=0;De<m.reverseChain.split("/").length-1;De+=1)we.push("null");we.push(N[J].value),N[J].value="["+we.join(" ")+"]"}}de("<<");for(var Xe=0;Xe<N.length;Xe++)de("/"+N[Xe].key+" "+N[Xe].value);de(">>"),m.data.length!==0&&(de("stream"),de(it(m.data)),de("endstream"))},xn=_.__private__.putPage=function(x){var z=x.number,oe=x.data,me=x.objId,Ae=x.contentsObjId;_r(me,!0),de("<</Type /Page"),de("/Parent "+x.rootDictionaryObjId+" 0 R"),de("/Resources "+x.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(U(x.mediaBox.bottomLeftX))+" "+parseFloat(U(x.mediaBox.bottomLeftY))+" "+U(x.mediaBox.topRightX)+" "+U(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&de("/CropBox ["+U(x.cropBox.bottomLeftX)+" "+U(x.cropBox.bottomLeftY)+" "+U(x.cropBox.topRightX)+" "+U(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&de("/BleedBox ["+U(x.bleedBox.bottomLeftX)+" "+U(x.bleedBox.bottomLeftY)+" "+U(x.bleedBox.topRightX)+" "+U(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&de("/TrimBox ["+U(x.trimBox.bottomLeftX)+" "+U(x.trimBox.bottomLeftY)+" "+U(x.trimBox.topRightX)+" "+U(x.trimBox.topRightY)+"]"),x.artBox!==null&&de("/ArtBox ["+U(x.artBox.bottomLeftX)+" "+U(x.artBox.bottomLeftY)+" "+U(x.artBox.topRightX)+" "+U(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&de("/UserUnit "+x.userUnit),hn.publish("putPage",{objId:me,pageContext:At[z],pageNumber:z,page:oe}),de("/Contents "+Ae+" 0 R"),de(">>"),de("endobj");var Ve=oe.join(`
`);return H===B.ADVANCED&&(Ve+=`
Q`),_r(Ae,!0),Hn({data:Ve,filters:Lr(),objectId:Ae}),de("endobj"),me},Ma=_.__private__.putPages=function(){var x,z,oe=[];for(x=1;x<=zn;x++)At[x].objId=or(),At[x].contentsObjId=or();for(x=1;x<=zn;x++)oe.push(xn({number:x,data:Qe[x],objId:At[x].objId,contentsObjId:At[x].contentsObjId,mediaBox:At[x].mediaBox,cropBox:At[x].cropBox,bleedBox:At[x].bleedBox,trimBox:At[x].trimBox,artBox:At[x].artBox,userUnit:At[x].userUnit,rootDictionaryObjId:Ni,resourceDictionaryObjId:Wr}));_r(Ni,!0),de("<</Type /Pages");var me="/Kids [";for(z=0;z<zn;z++)me+=oe[z]+" 0 R ";de(me+"]"),de("/Count "+zn),de(">>"),de("endobj"),hn.publish("postPutPages")},Fa=function(x){hn.publish("putFont",{font:x,out:de,newObject:nr,putStream:Hn}),x.isAlreadyPutted!==!0&&(x.objectNumber=nr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Vh(x.postScriptName)),de("/Subtype /Type1"),typeof x.encoding=="string"&&de("/Encoding /"+x.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},pi=function(){for(var x in en)en.hasOwnProperty(x)&&(b===!1||b===!0&&S.hasOwnProperty(x))&&Fa(en[x])},Ui=function(x){x.objectNumber=nr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[U(x.x),U(x.y),U(x.x+x.width),U(x.y+x.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var oe=x.pages[1].join(`
`);Hn({data:oe,additionalKeyValues:z,objectId:x.objectNumber}),de("endobj")},js=function(){for(var x in sr)sr.hasOwnProperty(x)&&Ui(sr[x])},cl=function(x,z){var oe,me=[],Ae=1/(z-1);for(oe=0;oe<1;oe+=Ae)me.push(oe);if(me.push(1),x[0].offset!=0){var Ve={offset:0,color:x[0].color};x.unshift(Ve)}if(x[x.length-1].offset!=1){var Ye={offset:1,color:x[x.length-1].color};x.push(Ye)}for(var it="",m=0,N=0;N<me.length;N++){for(oe=me[N];oe>x[m+1].offset;)m++;var k=x[m].offset,J=(oe-k)/(x[m+1].offset-k),we=x[m].color,De=x[m+1].color;it+=ue(Math.round((1-J)*we[0]+J*De[0]).toString(16))+ue(Math.round((1-J)*we[1]+J*De[1]).toString(16))+ue(Math.round((1-J)*we[2]+J*De[2]).toString(16))}return it.trim()},Ms=function(x,z){z||(z=21);var oe=nr(),me=cl(x.colors,z),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+z+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:me,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),de("endobj"),x.objectNumber=nr(),de("<< /ShadingType "+x.type),de("/ColorSpace /DeviceRGB");var Ve="/Coords ["+U(parseFloat(x.coords[0]))+" "+U(parseFloat(x.coords[1]))+" ";x.type===2?Ve+=U(parseFloat(x.coords[2]))+" "+U(parseFloat(x.coords[3])):Ve+=U(parseFloat(x.coords[2]))+" "+U(parseFloat(x.coords[3]))+" "+U(parseFloat(x.coords[4]))+" "+U(parseFloat(x.coords[5])),de(Ve+="]"),x.matrix&&de("/Matrix ["+x.matrix.toString()+"]"),de("/Function "+oe+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},su=function(x,z){var oe=or(),me=nr();z.push({resourcesOid:oe,objectOid:me}),x.objectNumber=me;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+x.boundingBox.map(U).join(" ")+"]"}),Ae.push({key:"XStep",value:U(x.xStep)}),Ae.push({key:"YStep",value:U(x.yStep)}),Ae.push({key:"Resources",value:oe+" 0 R"}),x.matrix&&Ae.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Hn({data:x.stream,additionalKeyValues:Ae,objectId:x.objectNumber}),de("endobj")},ua=function(x){var z;for(z in cn)cn.hasOwnProperty(z)&&(cn[z]instanceof qc?Ms(cn[z]):cn[z]instanceof qh&&su(cn[z],x))},ca=function(x){for(var z in x.objectNumber=nr(),de("<<"),x)switch(z){case"opacity":de("/ca "+W(x[z]));break;case"stroke-opacity":de("/CA "+W(x[z]))}de(">>"),de("endobj")},Dr=function(){var x;for(x in qn)qn.hasOwnProperty(x)&&ca(qn[x])},Va=function(){for(var x in de("/XObject <<"),sr)sr.hasOwnProperty(x)&&sr[x].objectNumber>=0&&de("/"+x+" "+sr[x].objectNumber+" 0 R");hn.publish("putXobjectDict"),de(">>")},ou=function(){Fn.oid=nr(),de("<<"),de("/Filter /Standard"),de("/V "+Fn.v),de("/R "+Fn.r),de("/U <"+Fn.toHexString(Fn.U)+">"),de("/O <"+Fn.toHexString(Fn.O)+">"),de("/P "+Fn.P),de(">>"),de("endobj")},va=function(){for(var x in de("/Font <<"),en)en.hasOwnProperty(x)&&(b===!1||b===!0&&S.hasOwnProperty(x))&&de("/"+x+" "+en[x].objectNumber+" 0 R");de(">>")},bo=function(){if(Object.keys(cn).length>0){for(var x in de("/Shading <<"),cn)cn.hasOwnProperty(x)&&cn[x]instanceof qc&&cn[x].objectNumber>=0&&de("/"+x+" "+cn[x].objectNumber+" 0 R");hn.publish("putShadingPatternDict"),de(">>")}},Ba=function(x){if(Object.keys(cn).length>0){for(var z in de("/Pattern <<"),cn)cn.hasOwnProperty(z)&&cn[z]instanceof _.TilingPattern&&cn[z].objectNumber>=0&&cn[z].objectNumber<x&&de("/"+z+" "+cn[z].objectNumber+" 0 R");hn.publish("putTilingPatternDict"),de(">>")}},hl=function(){if(Object.keys(qn).length>0){var x;for(x in de("/ExtGState <<"),qn)qn.hasOwnProperty(x)&&qn[x].objectNumber>=0&&de("/"+x+" "+qn[x].objectNumber+" 0 R");hn.publish("putGStateDict"),de(">>")}},Wn=function(x){_r(x.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),va(),bo(),Ba(x.objectOid),hl(),Va(),de(">>"),de("endobj")},Gr=function(){var x=[];pi(),Dr(),js(),ua(x),hn.publish("putResources"),x.forEach(Wn),Wn({resourcesOid:Wr,objectOid:Number.MAX_SAFE_INTEGER}),hn.publish("postPutResources")},_o=function(){hn.publish("putAdditionalObjects");for(var x=0;x<Je.length;x++){var z=Je[x];_r(z.objId,!0),de(z.content),de("endobj")}hn.publish("postPutAdditionalObjects")},lu=function(x){Rn[x.fontName]=Rn[x.fontName]||{},Rn[x.fontName][x.fontStyle]=x.id},us=function(x,z,oe,me,Ae){var Ve={id:"F"+(Object.keys(en).length+1).toString(10),postScriptName:x,fontName:z,fontStyle:oe,encoding:me,isStandardFont:Ae||!1,metadata:{}};return hn.publish("addFont",{font:Ve,instance:this}),en[Ve.id]=Ve,lu(Ve),Ve.id},fl=function(x){for(var z=0,oe=Ze.length;z<oe;z++){var me=us.call(this,x[z][0],x[z][1],x[z][2],Ze[z][3],!0);b===!1&&(S[me]=!0);var Ae=x[z][0].split("-");lu({id:me,fontName:Ae[0],fontStyle:Ae[1]||""})}hn.publish("addFonts",{fonts:en,dictionary:Rn})},ii=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(me){var z=me.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var oe="Error in function "+z.split(`
`)[0].split("<")[0]+": "+me.message;if(!Ft.console)throw new Error(oe);Ft.console.error(oe,me),Ft.alert&&alert(oe)}},x.foo.bar=x,x.foo},wo=function(x,z){var oe,me,Ae,Ve,Ye,it,m,N,k;if(Ae=(z=z||{}).sourceEncoding||"Unicode",Ye=z.outputEncoding,(z.autoencode||Ye)&&en[Kt].metadata&&en[Kt].metadata[Ae]&&en[Kt].metadata[Ae].encoding&&(Ve=en[Kt].metadata[Ae].encoding,!Ye&&en[Kt].encoding&&(Ye=en[Kt].encoding),!Ye&&Ve.codePages&&(Ye=Ve.codePages[0]),typeof Ye=="string"&&(Ye=Ve[Ye]),Ye)){for(m=!1,it=[],oe=0,me=x.length;oe<me;oe++)(N=Ye[x.charCodeAt(oe)])?it.push(String.fromCharCode(N)):it.push(x[oe]),it[oe].charCodeAt(0)>>8&&(m=!0);x=it.join("")}for(oe=x.length;m===void 0&&oe!==0;)x.charCodeAt(oe-1)>>8&&(m=!0),oe--;if(!m)return x;for(it=z.noBOM?[]:[254,255],oe=0,me=x.length;oe<me;oe++){if((k=(N=x.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(k),it.push(N-(k<<8))}return String.fromCharCode.apply(void 0,it)},pn=_.__private__.pdfEscape=_.pdfEscape=function(x,z){return wo(x,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ai=_.__private__.beginPage=function(x){Qe[++zn]=[],At[zn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},ya(zn),Fe(Qe[K])},cs=function(x,z){var oe,me,Ae;switch(t=z||t,typeof x=="string"&&(oe=I(x.toLowerCase()),Array.isArray(oe)&&(me=oe[0],Ae=oe[1])),Array.isArray(x)&&(me=x[0]*lt,Ae=x[1]*lt),isNaN(me)&&(me=i[0],Ae=i[1]),(me>14400||Ae>14400)&&(Xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ae=Math.min(14400,Ae)),i=[me,Ae],t.substr(0,1)){case"l":Ae>me&&(i=[Ae,me]);break;case"p":me>Ae&&(i=[Ae,me])}ai(i),gl(ps),de(si),vl!==0&&de(vl+" J"),Us!==0&&de(Us+" j"),hn.publish("addPage",{pageNumber:zn})},hs=function(x){x>0&&x<=zn&&(Qe.splice(x,1),At.splice(x,1),zn--,K>zn&&(K=zn),this.setPage(K))},ya=function(x){x>0&&x<=zn&&(K=x)},An=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Qe.length-1},fs=function(x,z,oe){var me,Ae=void 0;return oe=oe||{},x=x!==void 0?x:en[Kt].fontName,z=z!==void 0?z:en[Kt].fontStyle,me=x.toLowerCase(),Rn[me]!==void 0&&Rn[me][z]!==void 0?Ae=Rn[me][z]:Rn[x]!==void 0&&Rn[x][z]!==void 0?Ae=Rn[x][z]:oe.disableWarning===!1&&Xn.warn("Unable to look up font label for font '"+x+"', '"+z+"'. Refer to getFontList() for available fonts."),Ae||oe.noFallback||(Ae=Rn.times[z])==null&&(Ae=Rn.times.normal),Ae},qi=_.__private__.putInfo=function(){var x=nr(),z=function(me){return me};for(var oe in g!==null&&(z=Fn.encryptor(x,0)),de("<<"),de("/Producer ("+pn(z("jsPDF "+It.version))+")"),dt)dt.hasOwnProperty(oe)&&dt[oe]&&de("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+pn(z(dt[oe]))+")");de("/CreationDate ("+pn(z(Se))+")"),de(">>"),de("endobj")},Ua=_.__private__.putCatalog=function(x){var z=(x=x||{}).rootDictionaryObjId||Ni;switch(nr(),de("<<"),de("/Type /Catalog"),de("/Pages "+z+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+st;oe.substr(oe.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&de("/OpenAction [3 0 R /XYZ null null "+W(st)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Ot&&de("/PageMode /"+Ot),hn.publish("putCatalog"),de(">>"),de("endobj")},uu=_.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(fe+1)),de("/Root "+fe+" 0 R"),de("/Info "+(fe-1)+" 0 R"),g!==null&&de("/Encrypt "+Fn.oid+" 0 R"),de("/ID [ <"+re+"> <"+re+"> ]"),de(">>")},dl=_.__private__.putHeader=function(){de("%PDF-"+E),de("%ºß¬à")},pl=_.__private__.putXRef=function(){var x="0000000000";de("xref"),de("0 "+(fe+1)),de("0000000000 65535 f ");for(var z=1;z<=fe;z++)typeof Ne[z]=="function"?de((x+Ne[z]()).slice(-10)+" 00000 n "):Ne[z]!==void 0?de((x+Ne[z]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},qa=_.__private__.buildDocument=function(){_t(),Fe(Te),hn.publish("buildDocument"),dl(),Ma(),_o(),Gr(),g!==null&&ou(),qi(),Ua();var x=Le;return pl(),uu(),de("startxref"),de(""+x),de("%%EOF"),Fe(Qe[K]),Te.join(`
`)},So=_.__private__.getBlob=function(x){return new Blob([ft(x)],{type:"application/pdf"})},za=_.output=_.__private__.output=ii(function(x,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",x){case void 0:return qa();case"save":_.save(z.filename);break;case"arraybuffer":return ft(qa());case"blob":return So(qa());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(So(qa()))||void 0;Xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",me=qa();try{oe=O1(me)}catch{oe=O1(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+z.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Ae=z.pdfObjectUrl,Ve="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",it=Ft.open();return it!==null&&it.document.write(Ye),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',N=Ft.open();if(N!==null){N.document.write(m);var k=this;N.document.documentElement.querySelector("#pdfViewer").onload=function(){N.document.title=z.filename,N.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(k.output("bloburl"))}}return N}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var J='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',we=Ft.open();if(we!==null&&(we.document.write(J),we.document.title=z.filename),we||typeof safari>"u")return we;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",z);default:return null}}),ba=function(x){return Array.isArray(Bi)===!0&&Bi.indexOf(x)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=ba("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var Fn=null;xe(),he();var Ha=function(x){return g!==null?Fn.encryptor(x,0):function(z){return z}},_a=_.__private__.getPageInfo=_.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[x].objId,pageNumber:x,pageContext:At[x]}},Pt=_.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in At)if(At[z].objId===x)break;return _a(z)},wa=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:At[K].objId,pageNumber:K,pageContext:At[K]}};_.addPage=function(){return cs.apply(this,arguments),this},_.setPage=function(){return ya.apply(this,arguments),Fe.call(this,Qe[K]),this},_.insertPage=function(x){return this.addPage(),this.movePage(K,x),this},_.movePage=function(x,z){var oe,me;if(x>z){oe=Qe[x],me=At[x];for(var Ae=x;Ae>z;Ae--)Qe[Ae]=Qe[Ae-1],At[Ae]=At[Ae-1];Qe[z]=oe,At[z]=me,this.setPage(z)}else if(x<z){oe=Qe[x],me=At[x];for(var Ve=x;Ve<z;Ve++)Qe[Ve]=Qe[Ve+1],At[Ve]=At[Ve+1];Qe[z]=oe,At[z]=me,this.setPage(z)}return this},_.deletePage=function(){return hs.apply(this,arguments),this},_.__private__.text=_.text=function(x,z,oe,me,Ae){var Ve,Ye,it,m,N,k,J,we,De,Xe=(me=me||{}).scope||this;if(typeof x=="number"&&typeof z=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Lt=oe;oe=z,z=x,x=Lt}if(arguments[3]instanceof ut?(L("The transform parameter of text() with a Matrix value"),De=Ae):(it=arguments[4],m=arguments[5],_n(J=arguments[3])==="object"&&J!==null||(typeof it=="string"&&(m=it,it=null),typeof J=="string"&&(m=J,J=null),typeof J=="number"&&(it=J,J=null),me={flags:J,angle:it,align:m})),isNaN(z)||isNaN(oe)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Xe;var sn="",Ht=!1,Tn=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:an,kn=Xe.internal.scaleFactor;function Ta(tn){return tn=tn.split("	").join(Array(me.TabLen||9).join(" ")),pn(tn,J)}function pr(tn){for(var nn,Gn=tn.concat(),mr=[],Na=Gn.length;Na--;)typeof(nn=Gn.shift())=="string"?mr.push(nn):Array.isArray(tn)&&(nn.length===1||nn[1]===void 0&&nn[2]===void 0)?mr.push(nn[0]):mr.push([nn[0],nn[1],nn[2]]);return mr}function Gi(tn,nn){var Gn;if(typeof tn=="string")Gn=nn(tn)[0];else if(Array.isArray(tn)){for(var mr,Na,jo=tn.concat(),Mo=[],$s=jo.length;$s--;)typeof(mr=jo.shift())=="string"?Mo.push(nn(mr)[0]):Array.isArray(mr)&&typeof mr[0]=="string"&&(Na=nn(mr[0],mr[1],mr[2]),Mo.push([Na[0],Na[1],Na[2]]));Gn=Mo}return Gn}var _s=!1,No=!0;if(typeof x=="string")_s=!0;else if(Array.isArray(x)){var du=x.concat();Ye=[];for(var yl,Or=du.length;Or--;)(typeof(yl=du.shift())!="string"||Array.isArray(yl)&&typeof yl[0]!="string")&&(No=!1);_s=No}if(_s===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Co=tt/Xe.internal.scaleFactor,bl=Co*(Tn-1);switch(me.baseline){case"bottom":oe-=bl;break;case"top":oe+=Co-bl;break;case"hanging":oe+=Co-2*bl;break;case"middle":oe+=Co/2-bl}if((k=me.maxWidth||0)>0&&(typeof x=="string"?x=Xe.splitTextToSize(x,k):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(tn,nn){return tn.concat(Xe.splitTextToSize(nn,k))},[]))),Ve={text:x,x:z,y:oe,options:me,mutex:{pdfEscape:pn,activeFontKey:Kt,fonts:en,activeFontSize:tt}},hn.publish("preProcessText",Ve),x=Ve.text,it=(me=Ve.options).angle,!(De instanceof ut)&&it&&typeof it=="number"){it*=Math.PI/180,me.rotationDirection===0&&(it=-it),H===B.ADVANCED&&(it=-it);var _l=Math.cos(it),pu=Math.sin(it);De=new ut(_l,pu,-pu,_l,0,0)}else it&&it instanceof ut&&(De=it);H!==B.ADVANCED||De||(De=Ln),(N=me.charSpace||Bs)!==void 0&&(sn+=U(O(N))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(we=me.horizontalScale)!==void 0&&(sn+=U(100*we)+` Tz
`),me.lang;var $i=-1,_f=me.renderingMode!==void 0?me.renderingMode:me.stroke,yc=Xe.internal.getCurrentPageInfo().pageContext;switch(_f){case 0:case!1:case"fill":$i=0;break;case 1:case!0:case"stroke":$i=1;break;case 2:case"fillThenStroke":$i=2;break;case 3:case"invisible":$i=3;break;case 4:case"fillAndAddForClipping":$i=4;break;case 5:case"strokeAndAddPathForClipping":$i=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$i=6;break;case 7:case"addToPathForClipping":$i=7}var nh=yc.usedRenderingMode!==void 0?yc.usedRenderingMode:-1;$i!==-1?sn+=$i+` Tr
`:nh!==-1&&(sn+=`0 Tr
`),$i!==-1&&(yc.usedRenderingMode=$i),m=me.align||"left";var Ea,$r=tt*Tn,Io=Xe.internal.pageSize.getWidth(),bc=en[Kt];N=me.charSpace||Bs,k=me.maxWidth||0,J=Object.assign({autoencode:!0,noBOM:!0},me.flags);var Ws=[],Ro=function(tn){return Xe.getStringUnitWidth(tn,{font:bc,charSpace:N,fontSize:tt,doKerning:!1})*tt/kn};if(Object.prototype.toString.call(x)==="[object Array]"){var Ii;Ye=pr(x),m!=="left"&&(Ea=Ye.map(Ro));var oi,Po=0;if(m==="right"){z-=Ea[0],x=[],Or=Ye.length;for(var Yi=0;Yi<Or;Yi++)Yi===0?(oi=vi(z),Ii=xr(oe)):(oi=O(Po-Ea[Yi]),Ii=-$r),x.push([Ye[Yi],oi,Ii]),Po=Ea[Yi]}else if(m==="center"){z-=Ea[0]/2,x=[],Or=Ye.length;for(var Ya=0;Ya<Or;Ya++)Ya===0?(oi=vi(z),Ii=xr(oe)):(oi=O((Po-Ea[Ya])/2),Ii=-$r),x.push([Ye[Ya],oi,Ii]),Po=Ea[Ya]}else if(m==="left"){x=[],Or=Ye.length;for(var ws=0;ws<Or;ws++)x.push(Ye[ws])}else if(m==="justify"&&bc.encoding==="Identity-H"){x=[],Or=Ye.length,k=k!==0?k:Io;for(var Ka=0,lr=0;lr<Or;lr++)if(Ii=lr===0?xr(oe):-$r,oi=lr===0?vi(z):Ka,lr<Or-1){var Qa=O((k-Ea[lr])/(Ye[lr].split(" ").length-1)),Ar=Ye[lr].split(" ");x.push([Ar[0]+" ",oi,Ii]),Ka=0;for(var Ki=1;Ki<Ar.length;Ki++){var wl=(Ro(Ar[Ki-1]+" "+Ar[Ki])-Ro(Ar[Ki]))*kn+Qa;Ki==Ar.length-1?x.push([Ar[Ki],wl,0]):x.push([Ar[Ki]+" ",wl,0]),Ka-=wl}}else x.push([Ye[lr],oi,Ii]);x.push(["",Ka,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Or=Ye.length,k=k!==0?k:Io,lr=0;lr<Or;lr++)Ii=lr===0?xr(oe):-$r,oi=lr===0?vi(z):0,lr<Or-1?Ws.push(U(O((k-Ea[lr])/(Ye[lr].split(" ").length-1)))):Ws.push(0),x.push([Ye[lr],oi,Ii])}}var Ss=typeof me.R2L=="boolean"?me.R2L:vt;Ss===!0&&(x=Gi(x,function(tn,nn,Gn){return[tn.split("").reverse().join(""),nn,Gn]})),Ve={text:x,x:z,y:oe,options:me,mutex:{pdfEscape:pn,activeFontKey:Kt,fonts:en,activeFontSize:tt}},hn.publish("postProcessText",Ve),x=Ve.text,Ht=Ve.mutex.isHex||!1;var mu=en[Kt].encoding;mu!=="WinAnsiEncoding"&&mu!=="StandardEncoding"||(x=Gi(x,function(tn,nn,Gn){return[Ta(tn),nn,Gn]})),Ye=pr(x),x=[];for(var Lo,Do,Oo,Sl=0,gu=1,ko=Array.isArray(Ye[0])?gu:Sl,Gs="",xl=function(tn,nn,Gn){var mr="";return Gn instanceof ut?(Gn=typeof me.angle=="number"?Pn(Gn,new ut(1,0,0,1,tn,nn)):Pn(new ut(1,0,0,1,tn,nn),Gn),H===B.ADVANCED&&(Gn=Pn(new ut(1,0,0,-1,0,0),Gn)),mr=Gn.join(" ")+` Tm
`):mr=U(tn)+" "+U(nn)+` Td
`,mr},ur=0;ur<Ye.length;ur++){switch(Gs="",ko){case gu:Oo=(Ht?"<":"(")+Ye[ur][0]+(Ht?">":")"),Lo=parseFloat(Ye[ur][1]),Do=parseFloat(Ye[ur][2]);break;case Sl:Oo=(Ht?"<":"(")+Ye[ur]+(Ht?">":")"),Lo=vi(z),Do=xr(oe)}Ws!==void 0&&Ws[ur]!==void 0&&(Gs=Ws[ur]+` Tw
`),ur===0?x.push(Gs+xl(Lo,Do,De)+Oo):ko===Sl?x.push(Gs+Oo):ko===gu&&x.push(Gs+xl(Lo,Do,De)+Oo)}x=ko===Sl?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var fa=`BT
/`;return fa+=Kt+" "+tt+` Tf
`,fa+=U(tt*Tn)+` TL
`,fa+=Ga+`
`,fa+=sn,fa+=x,de(fa+="ET"),S[Kt]=!0,Xe};var cu=_.__private__.clip=_.clip=function(x){return de(x==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return cu("evenodd")},_.__private__.discardPath=_.discardPath=function(){return de("n"),this};var mi=_.__private__.isValidStyle=function(x){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(z=!0),z};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(x){return mi(x)&&(d=x),this};var zi=_.__private__.getStyle=_.getStyle=function(x){var z=d;switch(x){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=x}return z},Ci=_.close=function(){return de("h"),this};_.stroke=function(){return de("S"),this},_.fill=function(x){return Sa("f",x),this},_.fillEvenOdd=function(x){return Sa("f*",x),this},_.fillStroke=function(x){return Sa("B",x),this},_.fillStrokeEvenOdd=function(x){return Sa("B*",x),this};var Sa=function(x,z){_n(z)==="object"?Wa(z,x):de(x)},Hi=function(x){x===null||H===B.ADVANCED&&x===void 0||(x=zi(x),de(x))};function ds(x,z,oe,me,Ae){var Ve=new qh(z||this.boundingBox,oe||this.xStep,me||this.yStep,this.gState,Ae||this.matrix);Ve.stream=this.stream;var Ye=x+"$$"+this.cloneIndex+++"$$";return Kn(Ye,Ve),Ve}var Wa=function(x,z){var oe=ja[x.key],me=cn[oe];if(me instanceof qc)de("q"),de(ml(z)),me.gState&&_.setGState(me.gState),de(x.matrix.toString()+" cm"),de("/"+oe+" sh"),de("Q");else if(me instanceof qh){var Ae=new ut(1,0,0,-1,0,yi());x.matrix&&(Ae=Ae.multiply(x.matrix||Ln),oe=ds.call(me,x.key,x.boundingBox,x.xStep,x.yStep,Ae).id),de("q"),de("/Pattern cs"),de("/"+oe+" scn"),me.gState&&_.setGState(me.gState),de(z),de("Q")}},ml=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wi=_.moveTo=function(x,z){return de(U(O(x))+" "+U(se(z))+" m"),this},gi=_.lineTo=function(x,z){return de(U(O(x))+" "+U(se(z))+" l"),this},xa=_.curveTo=function(x,z,oe,me,Ae,Ve){return de([U(O(x)),U(se(z)),U(O(oe)),U(se(me)),U(O(Ae)),U(se(Ve)),"c"].join(" ")),this};_.__private__.line=_.line=function(x,z,oe,me,Ae){if(isNaN(x)||isNaN(z)||isNaN(oe)||isNaN(me)||!mi(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return H===B.COMPAT?this.lines([[oe-x,me-z]],x,z,[1,1],Ae||"S"):this.lines([[oe-x,me-z]],x,z,[1,1]).stroke()},_.__private__.lines=_.lines=function(x,z,oe,me,Ae,Ve){var Ye,it,m,N,k,J,we,De,Xe,Lt,sn,Ht;if(typeof x=="number"&&(Ht=oe,oe=z,z=x,x=Ht),me=me||[1,1],Ve=Ve||!1,isNaN(z)||isNaN(oe)||!Array.isArray(x)||!Array.isArray(me)||!mi(Ae)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wi(z,oe),Ye=me[0],it=me[1],N=x.length,Lt=z,sn=oe,m=0;m<N;m++)(k=x[m]).length===2?(Lt=k[0]*Ye+Lt,sn=k[1]*it+sn,gi(Lt,sn)):(J=k[0]*Ye+Lt,we=k[1]*it+sn,De=k[2]*Ye+Lt,Xe=k[3]*it+sn,Lt=k[4]*Ye+Lt,sn=k[5]*it+sn,xa(J,we,De,Xe,Lt,sn));return Ve&&Ci(),Hi(Ae),this},_.path=function(x){for(var z=0;z<x.length;z++){var oe=x[z],me=oe.c;switch(oe.op){case"m":Wi(me[0],me[1]);break;case"l":gi(me[0],me[1]);break;case"c":xa.apply(this,me);break;case"h":Ci()}}return this},_.__private__.rect=_.rect=function(x,z,oe,me,Ae){if(isNaN(x)||isNaN(z)||isNaN(oe)||isNaN(me)||!mi(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return H===B.COMPAT&&(me=-me),de([U(O(x)),U(se(z)),U(O(oe)),U(O(me)),"re"].join(" ")),Hi(Ae),this},_.__private__.triangle=_.triangle=function(x,z,oe,me,Ae,Ve,Ye){if(isNaN(x)||isNaN(z)||isNaN(oe)||isNaN(me)||isNaN(Ae)||isNaN(Ve)||!mi(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-x,me-z],[Ae-oe,Ve-me],[x-Ae,z-Ve]],x,z,[1,1],Ye,!0),this},_.__private__.roundedRect=_.roundedRect=function(x,z,oe,me,Ae,Ve,Ye){if(isNaN(x)||isNaN(z)||isNaN(oe)||isNaN(me)||isNaN(Ae)||isNaN(Ve)||!mi(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*oe),Ve=Math.min(Ve,.5*me),this.lines([[oe-2*Ae,0],[Ae*it,0,Ae,Ve-Ve*it,Ae,Ve],[0,me-2*Ve],[0,Ve*it,-Ae*it,Ve,-Ae,Ve],[2*Ae-oe,0],[-Ae*it,0,-Ae,-Ve*it,-Ae,-Ve],[0,2*Ve-me],[0,-Ve*it,Ae*it,-Ve,Ae,-Ve]],x+Ae,z,[1,1],Ye,!0),this},_.__private__.ellipse=_.ellipse=function(x,z,oe,me,Ae){if(isNaN(x)||isNaN(z)||isNaN(oe)||isNaN(me)||!mi(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*oe,Ye=4/3*(Math.SQRT2-1)*me;return Wi(x+oe,z),xa(x+oe,z-Ye,x+Ve,z-me,x,z-me),xa(x-Ve,z-me,x-oe,z-Ye,x-oe,z),xa(x-oe,z+Ye,x-Ve,z+me,x,z+me),xa(x+Ve,z+me,x+oe,z+Ye,x+oe,z),Hi(Ae),this},_.__private__.circle=_.circle=function(x,z,oe,me){if(isNaN(x)||isNaN(z)||isNaN(oe)||!mi(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,z,oe,oe,me)},_.setFont=function(x,z,oe){return oe&&(z=ce(z,oe)),Kt=fs(x,z,{disableWarning:!1}),this};var Sr=_.__private__.getFont=_.getFont=function(){return en[fs.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var x,z,oe={};for(x in Rn)if(Rn.hasOwnProperty(x))for(z in oe[x]=[],Rn[x])Rn[x].hasOwnProperty(z)&&oe[x].push(z);return oe},_.addFont=function(x,z,oe,me,Ae){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(oe=ce(oe,me)),Ae=Ae||"Identity-H",us.call(this,x,z,oe,Ae)};var an,ps=n.lineWidth||.200025,Aa=_.__private__.getLineWidth=_.getLineWidth=function(){return ps},gl=_.__private__.setLineWidth=_.setLineWidth=function(x){return ps=x,de(U(O(x))+" w"),this};_.__private__.setLineDash=It.API.setLineDash=It.API.setLineDashPattern=function(x,z){if(x=x||[],z=z||0,isNaN(z)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(oe){return U(O(oe))}).join(" "),z=U(O(z)),de("["+x+"] "+z+" d"),this};var Fs=_.__private__.getLineHeight=_.getLineHeight=function(){return tt*an};_.__private__.getLineHeight=_.getLineHeight=function(){return tt*an};var Vs=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(an=x),this},ha=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return an};Vs(n.lineHeight);var vi=_.__private__.getHorizontalCoordinate=function(x){return O(x)},xr=_.__private__.getVerticalCoordinate=function(x){return H===B.ADVANCED?x:At[K].mediaBox.topRightY-At[K].mediaBox.bottomLeftY-O(x)},hu=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(x){return U(vi(x))},ms=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(x){return U(xr(x))},si=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Pr(si)},_.__private__.setStrokeColor=_.setDrawColor=function(x,z,oe,me){return si=wr({ch1:x,ch2:z,ch3:oe,ch4:me,pdfColorType:"draw",precision:2}),de(si),this};var gs=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Pr(gs)},_.__private__.setFillColor=_.setFillColor=function(x,z,oe,me){return gs=wr({ch1:x,ch2:z,ch3:oe,ch4:me,pdfColorType:"fill",precision:2}),de(gs),this};var Ga=n.textColor||"0 g",xo=_.__private__.getTextColor=_.getTextColor=function(){return Pr(Ga)};_.__private__.setTextColor=_.setTextColor=function(x,z,oe,me){return Ga=wr({ch1:x,ch2:z,ch3:oe,ch4:me,pdfColorType:"text",precision:3}),this};var Bs=n.charSpace,Ao=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Bs||0)};_.__private__.setCharSpace=_.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bs=x,this};var vl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(x){var z=_.CapJoinStyles[x];if(z===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vl=z,de(z+" J"),this};var Us=0;_.__private__.setLineJoin=_.setLineJoin=function(x){var z=_.CapJoinStyles[x];if(z===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Us=z,de(z+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(U(O(x))+" M"),this},_.GState=mg,_.setGState=function(x){(x=typeof x=="string"?qn[Rr[x]]:vs(null,x)).equals(ni)||(de("/"+x.id+" gs"),ni=x)};var vs=function(x,z){if(!x||!Rr[x]){var oe=!1;for(var me in qn)if(qn.hasOwnProperty(me)&&qn[me].equals(z)){oe=!0;break}if(oe)z=qn[me];else{var Ae="GS"+(Object.keys(qn).length+1).toString(10);qn[Ae]=z,z.id=Ae}return x&&(Rr[x]=z.id),hn.publish("addGState",z),z}};_.addGState=function(x,z){return vs(x,z),this},_.saveGraphicsState=function(){return de("q"),di.push({key:Kt,size:tt,color:Ga}),this},_.restoreGraphicsState=function(){de("Q");var x=di.pop();return Kt=x.key,tt=x.size,Ga=x.color,ni=null,this},_.setCurrentTransformationMatrix=function(x){return de(x.toString()+" cm"),this},_.comment=function(x){return de("#"+x),this};var qs=function(x,z){var oe=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Ve){isNaN(Ve)||(oe=parseFloat(Ve))}});var me=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Ve){isNaN(Ve)||(me=parseFloat(Ve))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ve){Ae=Ve.toString()}}),this},To=function(x,z,oe,me){qs.call(this,x,z),this.type="rect";var Ae=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ye){isNaN(Ye)||(Ae=parseFloat(Ye))}});var Ve=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(Ye){isNaN(Ye)||(Ve=parseFloat(Ye))}}),this},zs=function(){this.page=zn,this.currentPage=K,this.pages=Qe.slice(0),this.pagesContext=At.slice(0),this.x=ar,this.y=Jt,this.matrix=ti,this.width=bs(K),this.height=yi(K),this.outputDestination=et,this.id="",this.objectNumber=-1};zs.prototype.restore=function(){zn=this.page,K=this.currentPage,At=this.pagesContext,Qe=this.pages,ar=this.x,Jt=this.y,ti=this.matrix,Hs(K,this.width),Eo(K,this.height),et=this.outputDestination};var ys=function(x,z,oe,me,Ae){la.push(new zs),zn=K=0,Qe=[],ar=x,Jt=z,ti=Ae,ai([oe,me])},fu=function(x){if(ri[x])la.pop().restore();else{var z=new zs,oe="Xo"+(Object.keys(sr).length+1).toString(10);z.id=oe,ri[x]=oe,sr[oe]=z,hn.publish("addFormObject",z),la.pop().restore()}};for(var $a in _.beginFormObject=function(x,z,oe,me,Ae){return ys(x,z,oe,me,Ae),this},_.endFormObject=function(x){return fu(x),this},_.doFormObject=function(x,z){var oe=sr[ri[x]];return de("q"),de(z.toString()+" cm"),de("/"+oe.id+" Do"),de("Q"),this},_.getFormObject=function(x){var z=sr[ri[x]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},_.save=function(x,z){return x=x||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Uc(So(qa()),x),typeof Uc.unload=="function"&&Ft.setTimeout&&setTimeout(Uc.unload,911),this):new Promise(function(oe,me){try{var Ae=Uc(So(qa()),x);typeof Uc.unload=="function"&&Ft.setTimeout&&setTimeout(Uc.unload,911),oe(Ae)}catch(Ve){me(Ve.message)}})},It.API)It.API.hasOwnProperty($a)&&($a==="events"&&It.API.events.length?function(x,z){var oe,me,Ae;for(Ae=z.length-1;Ae!==-1;Ae--)oe=z[Ae][0],me=z[Ae][1],x.subscribe.apply(x,[oe].concat(typeof me=="function"?[me]:me))}(hn,It.API.events):_[$a]=It.API[$a]);var bs=_.getPageWidth=function(x){return(At[x=x||K].mediaBox.topRightX-At[x].mediaBox.bottomLeftX)/lt},Hs=_.setPageWidth=function(x,z){At[x].mediaBox.topRightX=z*lt+At[x].mediaBox.bottomLeftX},yi=_.getPageHeight=function(x){return(At[x=x||K].mediaBox.topRightY-At[x].mediaBox.bottomLeftY)/lt},Eo=_.setPageHeight=function(x,z){At[x].mediaBox.topRightY=z*lt+At[x].mediaBox.bottomLeftY};return _.internal={pdfEscape:pn,getStyle:zi,getFont:Sr,getFontSize:ot,getCharSpace:Ao,getTextColor:xo,getLineHeight:Fs,getLineHeightFactor:ha,getLineWidth:Aa,write:xt,getHorizontalCoordinate:vi,getVerticalCoordinate:xr,getCoordinateString:hu,getVerticalCoordinateString:ms,collections:{},newObject:nr,newAdditionalObject:ks,newObjectDeferred:or,newObjectDeferredBegin:_r,getFilters:Lr,putStream:Hn,events:hn,scaleFactor:lt,pageSize:{getWidth:function(){return bs(K)},setWidth:function(x){Hs(K,x)},getHeight:function(){return yi(K)},setHeight:function(x){Eo(K,x)}},encryptionOptions:g,encryption:Fn,getEncryptor:Ha,output:za,getNumberOfPages:An,pages:Qe,out:de,f2:W,f3:P,getPageInfo:_a,getPageInfoByObjId:Pt,getCurrentPageInfo:wa,getPDFVersion:C,Point:qs,Rectangle:To,Matrix:ut,hasHotfix:ba},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return bs(K)},set:function(x){Hs(K,x)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return yi(K)},set:function(x){Eo(K,x)},enumerable:!0,configurable:!0}),fl.call(_,Ze),Kt="F1",cs(i,t),hn.publish("initialized"),_}Fh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Fh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Fh.prototype.processOwnerPassword=function(n,e){return j1(k1(e).substr(0,5),n)},Fh.prototype.encryptor=function(n,e){var t=k1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return j1(t,r)}},mg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||_n(n)!==_n(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},It.API={events:[]},It.version="3.0.1";var Cr=It.API,oy=1,th=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(n){return n.toFixed(2)},Wu=function(n){return n.toFixed(5)};Cr.__acroform__={};var ka=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},kw=function(n){return n*oy},Qo=function(n){var e=new $4,t=mt.internal.getHeight(n)||0,r=mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number($t(r)),Number($t(t))],e},Lk=Cr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Dk=Cr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Ok=Cr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Ur=Cr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ok(n,e-1)},qr=Cr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lk(n,e-1)},zr=Cr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Dk(n,e-1)},kk=Cr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],l=n[2],h=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+h)||0,c.upperRight_X=t(i+l)||0,c.upperRight_Y=r(s)||0,[Number($t(c.lowerLeft_X)),Number($t(c.lowerLeft_Y)),Number($t(c.upperRight_X)),Number($t(c.upperRight_Y))]},jk=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=M1(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+$t(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Qo(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},M1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=t,l=mt.internal.getHeight(n)||0;l=l<0?-l:l;var h=mt.internal.getWidth(n)||0;h=h<0?-h:h;var c=function(P,O,j){if(P+1<i.length){var se=O+" "+i[P+1][0];return pm(se,n,j).width<=h-4}return!1};s++;e:for(;s>0;){e="",s--;var d,g,b=pm("3",n,s).height,S=n.multiline?l-s:(l-b)/2,_=S+=2,E=0,C=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+pm(e,n,s=12).width+", FieldWidth:"+h+`
`;break}for(var I="",B=0,H=0;H<i.length;H++)if(i.hasOwnProperty(H)){var ae=!1;if(i[H].length!==1&&R!==i[H].length-1){if((b+2)*(B+2)+2>l)continue e;I+=i[H][R],ae=!0,C=H,H--}else{I=(I+=i[H][R]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var $=parseInt(H),ce=c($,I,s),U=H>=i.length-1;if(ce&&!U){I+=" ",R=0;continue}if(ce||U){if(U)C=$;else if(n.multiline&&(b+2)*(B+2)+2>l)continue e}else{if(!n.multiline||(b+2)*(B+2)+2>l)continue e;C=$}}for(var L="",F=E;F<=C;F++){var W=i[F];if(n.multiline){if(F===C){L+=W[R]+" ",R=(R+1)%W.length;continue}if(F===E){L+=W[W.length-1]+" ";continue}}L+=W[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,g=pm(L,n,s).width,n.textAlign){case"right":d=h-g-2;break;case"center":d=(h-g)/2;break;case"left":default:d=2}e+=$t(d)+" "+$t(_)+` Td
`,e+="("+th(L)+`) Tj
`,e+=-$t(d)+` 0 Td
`,_=-(s+2),g=0,E=ae?C:C+1,B++,I=""}break}return r.text=e,r.fontSize=s,r},pm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Mk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Fk=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Vk=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),_n(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Bk=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Mk)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");oy=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Y4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Fk(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var h=r[l],c=[],d=h.Rect;if(h.Rect&&(h.Rect=kk(h.Rect,i)),i.internal.newObjectDeferredBegin(h.objId,!0),h.DA=mt.createDefaultAppearanceStream(h),_n(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(c=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var g=jk(h);c.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(h.appearanceStreamContent){var b="";for(var S in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(S)){var _=h.appearanceStreamContent[S];if(b+="/"+S+" ",b+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var l in _)if(_.hasOwnProperty(l)){var E=_[l];typeof E=="function"&&(E=E.call(i,h)),b+="/"+l+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=_)=="function"&&(E=E.call(i,h)),b+="/"+l+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);b+=">>"}c.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:h.objId}),i.internal.out("endobj")}s&&Vk(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},G4=Cr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),_n(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+th(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Uv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+th(r(n))+")"},el=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};el.prototype.toString=function(){return this.objId+" 0 R"},el.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},el.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:G4(i,this.objId,this.scope)}):i instanceof el?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var $4=function(){el.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ka($4,el);var Y4=function(){el.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+th(t(n))+")"}},set:function(t){n=t}})};ka(Y4,el);var vo=function n(){el.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ur(e,3)},set:function(I){I?this.F=qr(e,3):this.F=zr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');t=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof gg)return;s="FieldObject"+n.FieldNum++}var I=function(B){return B};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+th(I(s))+")"},set:function(I){s=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(I){s=I}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(I){l=I}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/oy:d},set:function(I){d=I}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(I){g=I}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof gg||this instanceof Hc))return Uv(b,this.objId,this.scope)},set:function(I){I=I.toString(),b=I}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Ti?S:Uv(S,this.objId,this.scope)},set:function(I){I=I.toString(),S=this instanceof Ti?I:I.substr(0,1)==="("?Lh(I.substr(1,I.length-2)):Lh(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?Lh(S.substr(1,S.length-1)):S},set:function(I){I=I.toString(),S=this instanceof Ti?"/"+I:I}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ti?_:Uv(_,this.objId,this.scope)},set:function(I){I=I.toString(),_=this instanceof Ti?I:I.substr(0,1)==="("?Lh(I.substr(1,I.length-2)):Lh(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?Lh(_.substr(1,_.length-1)):_},set:function(I){I=I.toString(),_=this instanceof Ti?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(I){I=!!I,C=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,1)},set:function(I){I?this.Ff=qr(this.Ff,1):this.Ff=zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,2)},set:function(I){I?this.Ff=qr(this.Ff,2):this.Ff=zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,3)},set:function(I){I?this.Ff=qr(this.Ff,3):this.Ff=zr(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');R=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(R){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};ka(vo,el);var Yh=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return G4(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,l,h){h||(h=1);for(var c,d=[];c=l.exec(s);)d.push(c[h]);return d}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,18)},set:function(t){t?this.Ff=qr(this.Ff,18):this.Ff=zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=qr(this.Ff,19):this.Ff=zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,20)},set:function(t){t?(this.Ff=qr(this.Ff,20),e.sort()):this.Ff=zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,22)},set:function(t){t?this.Ff=qr(this.Ff,22):this.Ff=zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,23)},set:function(t){t?this.Ff=qr(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,27)},set:function(t){t?this.Ff=qr(this.Ff,27):this.Ff=zr(this.Ff,27)}}),this.hasAppearanceStream=!1};ka(Yh,vo);var Kh=function(){Yh.call(this),this.fontName="helvetica",this.combo=!1};ka(Kh,Yh);var Qh=function(){Kh.call(this),this.combo=!0};ka(Qh,Kh);var Om=function(){Qh.call(this),this.edit=!0};ka(Om,Qh);var Ti=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,15)},set:function(t){t?this.Ff=qr(this.Ff,15):this.Ff=zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,16)},set:function(t){t?this.Ff=qr(this.Ff,16):this.Ff=zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,17)},set:function(t){t?this.Ff=qr(this.Ff,17):this.Ff=zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,26)},set:function(t){t?this.Ff=qr(this.Ff,26):this.Ff=zr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+th(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){_n(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ka(Ti,vo);var km=function(){Ti.call(this),this.pushButton=!0};ka(km,Ti);var Xh=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ka(Xh,Ti);var gg=function(){var n,e;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(h){return h};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+th(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){_n(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ka(gg,vo),Xh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Xh.prototype.createOption=function(n){var e=new gg;return e.Parent=this,e.optionName=n,this.Kids.push(e),Uk.call(this.scope,e),e};var jm=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};ka(jm,Ti);var Hc=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,13)},set:function(e){e?this.Ff=qr(this.Ff,13):this.Ff=zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,21)},set:function(e){e?this.Ff=qr(this.Ff,21):this.Ff=zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,23)},set:function(e){e?this.Ff=qr(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,24)},set:function(e){e?this.Ff=qr(this.Ff,24):this.Ff=zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,25)},set:function(e){e?this.Ff=qr(this.Ff,25):this.Ff=zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,26)},set:function(e){e?this.Ff=qr(this.Ff,26):this.Ff=zr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ka(Hc,vo);var Mm=function(){Hc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,14)},set:function(n){n?this.Ff=qr(this.Ff,14):this.Ff=zr(this.Ff,14)}}),this.password=!0};ka(Mm,Hc);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Qo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=M1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+$t(mt.internal.getWidth(n))+" "+$t(mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+$t(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Qo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=mt.internal.getHeight(n),l=mt.internal.getWidth(n),h=M1(n,n.caption);return i.push("1 g"),i.push("0 0 "+$t(l)+" "+$t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$t(l-1)+" "+$t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+$t(h.fontSize)+" Tf "+r),i.push(h.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Qo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(mt.internal.getWidth(n))+" "+$t(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Circle.YesNormal,e.D[n]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Qo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=mt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Wu(mt.internal.getWidth(n)/2)+" "+Wu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Qo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5)),l=Number((r*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wu(mt.internal.getWidth(n)/2)+" "+Wu(mt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Wu(mt.internal.getWidth(n)/2)+" "+Wu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Qo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wu(mt.internal.getWidth(n)/2)+" "+Wu(mt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Cross.YesNormal,e.D[n]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Qo(n);e.scope=n.scope;var t=[],r=mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+$t(mt.internal.getWidth(n)-2)+" "+$t(mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push($t(r.x1.x)+" "+$t(r.x1.y)+" m"),t.push($t(r.x2.x)+" "+$t(r.x2.y)+" l"),t.push($t(r.x4.x)+" "+$t(r.x4.y)+" m"),t.push($t(r.x3.x)+" "+$t(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Qo(n);e.scope=n.scope;var t=mt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+$t(mt.internal.getWidth(n))+" "+$t(mt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+$t(mt.internal.getWidth(n)-2)+" "+$t(mt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push($t(t.x1.x)+" "+$t(t.x1.y)+" m"),r.push($t(t.x2.x)+" "+$t(t.x2.y)+" l"),r.push($t(t.x4.x)+" "+$t(t.x4.y)+" m"),r.push($t(t.x3.x)+" "+$t(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Qo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(mt.internal.getWidth(n))+" "+$t(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=mt.internal.getWidth(n),t=mt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},mt.internal.getWidth=function(n){var e=0;return _n(n)==="object"&&(e=kw(n.Rect[2])),e},mt.internal.getHeight=function(n){var e=0;return _n(n)==="object"&&(e=kw(n.Rect[3])),e};var Uk=Cr.addField=function(n){if(Bk(this,n),!(n instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Cr.AcroFormChoiceField=Yh,Cr.AcroFormListBox=Kh,Cr.AcroFormComboBox=Qh,Cr.AcroFormEditBox=Om,Cr.AcroFormButton=Ti,Cr.AcroFormPushButton=km,Cr.AcroFormRadioButton=Xh,Cr.AcroFormCheckBox=jm,Cr.AcroFormTextField=Hc,Cr.AcroFormPasswordField=Mm,Cr.AcroFormAppearance=mt,Cr.AcroForm={ChoiceField:Yh,ListBox:Kh,ComboBox:Qh,EditBox:Om,Button:Ti,PushButton:km,RadioButton:Xh,CheckBox:jm,TextField:Hc,PasswordField:Mm,Appearance:mt},It.AcroForm={ChoiceField:Yh,ListBox:Kh,ComboBox:Qh,EditBox:Om,Button:Ti,PushButton:km,RadioButton:Xh,CheckBox:jm,TextField:Hc,PasswordField:Mm,Appearance:mt};It.AcroForm;function K4(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(P,O){var j,se,Se,re,le,he=e;if((O=O||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(ce(P))for(le in t)for(Se=t[le],j=0;j<Se.length;j+=1){for(re=!0,se=0;se<Se[j].length;se+=1)if(Se[j][se]!==void 0&&Se[j][se]!==P[se]){re=!1;break}if(re===!0){he=le;break}}else for(le in t)for(Se=t[le],j=0;j<Se.length;j+=1){for(re=!0,se=0;se<Se[j].length;se+=1)if(Se[j][se]!==void 0&&Se[j][se]!==P.charCodeAt(se)){re=!1;break}if(re===!0){he=le;break}}return he===e&&O!==e&&(he=O),he},i=function P(O){for(var j=this.internal.write,se=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:O.width}),re.push({key:"Height",value:O.height}),O.colorSpace===R.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===R.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var le="",he=0,_e=O.transparency.length;he<_e;he++)le+=O.transparency[he]+" "+O.transparency[he]+" ";re.push({key:"Mask",value:"["+le+"]"})}O.sMask!==void 0&&re.push({key:"SMask",value:O.objectId+1+" 0 R"});var Q=O.filter!==void 0?["/"+O.filter]:void 0;if(se({data:O.data,additionalKeyValues:re,alreadyAppliedFilters:Q,objectId:O.objectId}),j("endobj"),"sMask"in O&&O.sMask!==void 0){var xe="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,M={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:xe,data:O.sMask};"filter"in O&&(M.filter=O.filter),P.call(this,M)}if(O.colorSpace===R.INDEXED){var K=this.internal.newObject();se({data:L(new Uint8Array(O.palette)),objectId:K}),j("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var O in P)i.call(this,P[O])},l=function(){var P,O=this.internal.collections.addImage_images,j=this.internal.write;for(var se in O)j("/I"+(P=O[se]).index,P.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var P=this.internal.collections.addImage_images;return h.call(this),P},d=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(P){return typeof n["process"+P.toUpperCase()]=="function"},b=function(P){return _n(P)==="object"&&P.nodeType===1},S=function(P,O){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var j=""+P.getAttribute("src");if(j.indexOf("data:image/")===0)return Td(unescape(j).split("base64,").pop());var se=n.loadFile(j,!0);if(se!==void 0)return se}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Se;switch(O){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;case"JPEG":case"JPG":default:Se="image/jpeg"}return Td(P.toDataURL(Se,1).split("base64,").pop())}},_=function(P){var O=this.internal.collections.addImage_images;if(O){for(var j in O)if(P===O[j].alias)return O[j]}},E=function(P,O,j){return P||O||(P=-96,O=-96),P<0&&(P=-1*j.width*72/P/this.internal.scaleFactor),O<0&&(O=-1*j.height*72/O/this.internal.scaleFactor),P===0&&(P=O*j.width/j.height),O===0&&(O=P*j.height/j.width),[P,O]},C=function(P,O,j,se,Se,re){var le=E.call(this,j,se,Se),he=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Q=c.call(this);if(j=le[0],se=le[1],Q[Se.index]=Se,re){re*=Math.PI/180;var xe=Math.cos(re),M=Math.sin(re),K=function(ue){return ue.toFixed(4)},te=[K(xe),K(M),K(-1*M),K(xe),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,he(P),_e(O+se),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([he(j),"0","0",he(se),"0","0","cm"].join(" "))):this.internal.write([he(j),"0","0",he(se),he(P),_e(O+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},R=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=n.__addimage__.sHashCode=function(P){var O,j,se=0;if(typeof P=="string")for(j=P.length,O=0;O<j;O++)se=(se<<5)-se+P.charCodeAt(O),se|=0;else if(ce(P))for(j=P.byteLength/2,O=0;O<j;O++)se=(se<<5)-se+P[O],se|=0;return se},H=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var O=!0;return P.length===0&&(O=!1),P.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(O=!1),O},ae=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var O=P.indexOf(",");return O<0?null:P.substring(0,O).trim().endsWith("base64")?P.substring(O+1):null},$=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(P){return $()&&P instanceof ArrayBuffer};var ce=n.__addimage__.isArrayBufferView=function(P){return $()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},U=n.__addimage__.binaryStringToUint8Array=function(P){for(var O=P.length,j=new Uint8Array(O),se=0;se<O;se++)j[se]=P.charCodeAt(se);return j},L=n.__addimage__.arrayBufferToBinaryString=function(P){for(var O="",j=ce(P)?P:new Uint8Array(P),se=0;se<j.length;se+=8192)O+=String.fromCharCode.apply(null,j.subarray(se,se+8192));return O};n.addImage=function(){var P,O,j,se,Se,re,le,he,_e;if(typeof arguments[1]=="number"?(O=e,j=arguments[1],se=arguments[2],Se=arguments[3],re=arguments[4],le=arguments[5],he=arguments[6],_e=arguments[7]):(O=arguments[1],j=arguments[2],se=arguments[3],Se=arguments[4],re=arguments[5],le=arguments[6],he=arguments[7],_e=arguments[8]),_n(P=arguments[0])==="object"&&!b(P)&&"imageData"in P){var Q=P;P=Q.imageData,O=Q.format||O||e,j=Q.x||j||0,se=Q.y||se||0,Se=Q.w||Q.width||Se,re=Q.h||Q.height||re,le=Q.alias||le,he=Q.compression||he,_e=Q.rotation||Q.angle||_e}var xe=this.internal.getFilters();if(he===void 0&&xe.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(j)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var M=F.call(this,P,O,le,he);return C.call(this,j,se,Se,re,M,_e),this};var F=function(P,O,j,se){var Se,re,le;if(typeof P=="string"&&r(P)===e){P=unescape(P);var he=W(P,!1);(he!==""||(he=n.loadFile(P,!0))!==void 0)&&(P=he)}if(b(P)&&(P=S(P,O)),O=r(P,O),!g(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((le=j)==null||le.length===0)&&(j=function(_e){return typeof _e=="string"||ce(_e)?B(_e):ce(_e.data)?B(_e.data):null}(P)),(Se=_.call(this,j))||($()&&(P instanceof Uint8Array||O==="RGBA"||(re=P,P=U(P))),Se=this["process"+O.toUpperCase()](P,d.call(this),j,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:I.NONE}(se),re)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},W=n.__addimage__.convertBase64ToBinaryString=function(P,O){O=typeof O!="boolean"||O;var j,se="";if(typeof P=="string"){var Se;j=(Se=ae(P))!==null&&Se!==void 0?Se:P;try{se=Td(j)}catch(re){if(O)throw H(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};n.getImageProperties=function(P){var O,j,se="";if(b(P)&&(P=S(P)),typeof P=="string"&&r(P)===e&&((se=W(P,!1))===""&&(se=n.loadFile(P)||""),P=se),j=r(P),!g(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!$()||P instanceof Uint8Array||(P=U(P)),!(O=this["process"+j.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=j,O}})(It.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};It.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,b=0;b<d.length&&!g;b++)switch((r=d[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<d.length;S++){r=d[S];var _=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(C.objId),B=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+_(I(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+_(I(B))+") >>",C.content=s;var H=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+H,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(C.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+h(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var ae=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+_(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ae+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+_(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ce=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ce+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,l){var h=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:c(t),y:d(r),w:c(t+i),h:d(r+s)},options:l,type:"link"})},n.textWithLink=function(t,r,i,s){var l,h,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){h=s.maxWidth;var g=this.splitTextToSize(t,h).length;l=Math.ceil(d*g)}else h=c,l=d;return this.text(t,r,i,s),i+=.2*d,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-d,h,l,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(It.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},h=n.__arabicParser__.isArabicEndLetter=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(C){return l(C)&&i.indexOf(C.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(C){var R=0,I=t,B="",H=0;for(R=0;R<C.length;R+=1)I[C.charCodeAt(R)]!==void 0?(H++,typeof(I=I[C.charCodeAt(R)])=="number"&&(B+=String.fromCharCode(I),I=t,H=0),R===C.length-1&&(I=t,B+=C.charAt(R-(H-1)),R-=H-1,H=0)):(I=t,B+=C.charAt(R-H),R-=H,H=0);return B};n.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(C,R,I){return l(C)?s(C)===!1?-1:!d(C)||!l(R)&&!l(I)||!l(I)&&h(R)||h(C)&&!l(R)||h(C)&&c(R)||h(C)&&h(R)?0:g(C)&&l(R)&&!h(R)&&l(I)&&d(I)?3:h(C)||!l(I)?1:2:-1},_=function(C){var R=0,I=0,B=0,H="",ae="",$="",ce=(C=C||"").split("\\s+"),U=[];for(R=0;R<ce.length;R+=1){for(U.push(""),I=0;I<ce[R].length;I+=1)H=ce[R][I],ae=ce[R][I-1],$=ce[R][I+1],l(H)?(B=S(H,ae,$),U[R]+=B!==-1?String.fromCharCode(e[H.charCodeAt(0)][B]):H):U[R]+=H;U[R]=b(U[R])}return U.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var C,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(R)){var B=0;for(I=[],B=0;B<R.length;B+=1)Array.isArray(R[B])?I.push([_(R[B][0]),R[B][1],R[B][2]]):I.push([_(R[B])]);C=I}else C=_(R);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};n.events.push(["preProcessText",E])}(It.API),It.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(h){i=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(h){s=h}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(h){l=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(It.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(C){c=C}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(C){S=C}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(C){_=C}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(C){E=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),S=d.scaleFactor||this.internal.scaleFactor,_=0,E=0,C=0,R=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var I=d.maxWidth;I>0?typeof c=="string"?c=this.splitTextToSize(c,I):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(H,ae){return H.concat(R.splitTextToSize(ae,I))},[])):c=Array.isArray(c)?c:[c];for(var B=0;B<c.length;B++)_<(C=this.getStringUnitWidth(c[B],{font:b})*g)&&(_=C);return _!==0&&(E=c.length),{w:_/=S,h:Math.max((E*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=b.top,_&&S&&(this.printHeaderRow(c.lineNumber,!0),c.y+=S[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-g,c.y+g,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+g,{align:"center",baseline:"top",maxWidth:c.width-g-g}):this.text(c.text,c.x+g,c.y+g,{align:"left",baseline:"top",maxWidth:c.width-g-g})),this.internal.__cell__.lastCell=c,this};n.table=function(c,d,g,b,S){if(r.call(this),!g)throw new Error("No data for PDF table.");var _,E,C,R,I=[],B=[],H=[],ae={},$={},ce=[],U=[],L=(S=S||{}).autoSize||!1,F=S.printHeaders!==!1,W=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,P=S.margins||Object.assign({width:this.getPageWidth()},e),O=typeof S.padding=="number"?S.padding:3,j=S.headerBackgroundColor||"#c8c8c8",se=S.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=se,this.setFontSize(W),b==null)B=I=Object.keys(g[0]),H=I.map(function(){return"left"});else if(Array.isArray(b)&&_n(b[0])==="object")for(I=b.map(function(Q){return Q.name}),B=b.map(function(Q){return Q.prompt||Q.name||""}),H=b.map(function(Q){return Q.align||"left"}),_=0;_<b.length;_+=1)$[b[_].name]=b[_].width*(19.049976/25.4);else Array.isArray(b)&&typeof b[0]=="string"&&(B=I=b,H=I.map(function(){return"left"}));if(L||Array.isArray(b)&&typeof b[0]=="string")for(_=0;_<I.length;_+=1){for(ae[R=I[_]]=g.map(function(Q){return Q[R]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(B[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=ae[R],this.setFont(void 0,"normal"),C=0;C<E.length;C+=1)ce.push(this.getTextDimensions(E[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[R]=Math.max.apply(null,ce)+O+O,ce=[]}if(F){var Se={};for(_=0;_<I.length;_+=1)Se[I[_]]={},Se[I[_]].text=B[_],Se[I[_]].align=H[_];var re=h.call(this,Se,$);U=I.map(function(Q){return new s(c,d,$[Q],re,Se[Q].text,void 0,Se[Q].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var le=b.reduce(function(Q,xe){return Q[xe.name]=xe.align,Q},{});for(_=0;_<g.length;_+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:_,data:g[_]},this);var he=h.call(this,g[_],$);for(C=0;C<I.length;C+=1){var _e=g[_][I[C]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:_,col:C,data:_e},this),l.call(this,new s(c,d,$[I[C]],he,_e,_+2,le[I[C]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var h=function(c,d){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(c).map(function(_){var E=c[_];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,d[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*b/S+g+g},this).reduce(function(_,E){return Math.max(_,E)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(E)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}}(It.API);var Q4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},X4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F1=K4(X4),J4=[100,200,300,400,500,600,700,800,900],qk=K4(J4);function V1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return Q4[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof F1[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function jw(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var zk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Hk(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},zk,t.genericFontFamilies||{}),s=null,l=null,h=0;h<e.length;++h)if(i[(s=V1(e[h])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){l=n[s.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+Fw(s)+"' and default family '"+r+"'.");if(l=function(c,d){if(d[c])return d[c];var g=F1[c],b=g<=F1.normal?-1:1,S=jw(d,X4,g,b);if(!S)throw new Error("Could not find a matching font-stretch value for "+c);return S}(s.stretch,l),l=function(c,d){if(d[c])return d[c];for(var g=Q4[c],b=0;b<g.length;++b)if(d[g[b]])return d[g[b]];throw new Error("Could not find a matching font-style for "+c)}(s.style,l),!(l=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var g=qk[c],b=jw(d,J4,g,c<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+c);return b}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+Fw(s)+"'.");return l}function Vw(n){return n.trimLeft()}function Wk(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Gk(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var mm,Bw,Uw,qv=["times"];(function(n){var e,t,r,i,s,l,h,c,d,g=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,h=this.internal.Rectangle,c=this.internal.Matrix,d=new g}]);var b=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=M;Object.defineProperty(this,"pdf",{get:function(){return K}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Fe){te=!!Fe}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Fe){ue=!!Fe}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=Fe)}});var Ne=0;Object.defineProperty(this,"posY",{get:function(){return Ne},set:function(Fe){isNaN(Fe)||(Ne=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Fe){var de;typeof Fe=="number"?de=[Fe,Fe,Fe,Fe]:((de=new Array(4))[0]=Fe[0],de[1]=Fe.length>=2?Fe[1]:de[0],de[2]=Fe.length>=3?Fe[2]:de[0],de[3]=Fe.length>=4?Fe[3]:de[1]),d.margin=de}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(Fe){Te=Fe}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(Fe){Le=Fe}});var Je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Je},set:function(Fe){Je=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Fe){Fe instanceof g&&(d=Fe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Fe){d.path=Fe}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Fe){Qe=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var de;de=S(Fe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var de=S(Fe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var nt=null;function et(Fe,de){if(nt===null){var xt=function(ft){var Ze=[];return Object.keys(ft).forEach(function(tt){ft[tt].forEach(function(st){var ot=null;switch(st){case"bold":ot={family:tt,weight:"bold"};break;case"italic":ot={family:tt,style:"italic"};break;case"bolditalic":ot={family:tt,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:tt}}ot!==null&&(ot.ref={name:tt,style:st},Ze.push(ot))})}),Ze}(Fe.getFontList());nt=function(ft){for(var Ze={},tt=0;tt<ft.length;++tt){var st=V1(ft[tt]),ot=st.family,vt=st.stretch,Ot=st.style,zt=st.weight;Ze[ot]=Ze[ot]||{},Ze[ot][vt]=Ze[ot][vt]||{},Ze[ot][vt][Ot]=Ze[ot][vt][Ot]||{},Ze[ot][vt][Ot][zt]=st}return Ze}(xt.concat(de))}return nt}var _t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(Fe){nt=null,_t=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var de;if(this.ctx.font=Fe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var xt=de[1];de[2];var ft=de[3],Ze=de[4];de[5];var tt=de[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(st==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var ot=function(dt){var Kt,lt,ar=[],Jt=dt.trim();if(Jt==="")return qv;if(Jt in Mw)return[Mw[Jt]];for(;Jt!=="";){switch(lt=null,Kt=(Jt=Vw(Jt)).charAt(0)){case'"':case"'":lt=Wk(Jt.substring(1),Kt);break;default:lt=Gk(Jt)}if(lt===null||(ar.push(lt[0]),(Jt=Vw(lt[1]))!==""&&Jt.charAt(0)!==","))return qv;Jt=Jt.replace(/^,/,"")}return ar}(tt);if(this.fontFaces){var vt=Hk(et(this.pdf,this.fontFaces),ot.map(function(dt){return{family:dt,stretch:"normal",weight:ft,style:xt}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var Ot="";(ft==="bold"||parseInt(ft,10)>=700||xt==="bold")&&(Ot="bold"),xt==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var zt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<ot.length;gt++){if(this.pdf.internal.getFont(ot[gt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){zt=ot[gt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(ot[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zt=ot[gt],Ot="bold";else if(this.pdf.internal.getFont(ot[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zt=ot[gt],Ot="normal";break}}if(zt===""){for(var Yt=0;Yt<ot.length;Yt++)if(bt[ot[Yt]]){zt=bt[ot[Yt]];break}}zt=zt===""?"Times":zt,this.pdf.setFont(zt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};b.prototype.setLineDash=function(M){this.lineDash=M},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){ae.call(this,"fill",!1)},b.prototype.stroke=function(){ae.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(M,K){if(isNaN(M)||isNaN(K))throw Xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new l(M,K));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new l(M,K)},b.prototype.closePath=function(){var M=new l(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&_n(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){M=new l(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},b.prototype.lineTo=function(M,K){if(isNaN(M)||isNaN(K))throw Xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new l(M,K));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new l(te.x,te.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ae.call(this,null,!0)},b.prototype.quadraticCurveTo=function(M,K,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(M)||isNaN(K))throw Xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new l(te,ue)),Ne=this.ctx.transform.applyToPoint(new l(M,K));this.path.push({type:"qct",x1:Ne.x,y1:Ne.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new l(fe.x,fe.y)},b.prototype.bezierCurveTo=function(M,K,te,ue,fe,Ne){if(isNaN(fe)||isNaN(Ne)||isNaN(M)||isNaN(K)||isNaN(te)||isNaN(ue))throw Xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new l(fe,Ne)),Le=this.ctx.transform.applyToPoint(new l(M,K)),Je=this.ctx.transform.applyToPoint(new l(te,ue));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:Je.x,y2:Je.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new l(Te.x,Te.y)},b.prototype.arc=function(M,K,te,ue,fe,Ne){if(isNaN(M)||isNaN(K)||isNaN(te)||isNaN(ue)||isNaN(fe))throw Xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ne=!!Ne,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new l(M,K));M=Te.x,K=Te.y;var Le=this.ctx.transform.applyToPoint(new l(0,te)),Je=this.ctx.transform.applyToPoint(new l(0,0));te=Math.sqrt(Math.pow(Le.x-Je.x,2)+Math.pow(Le.y-Je.y,2))}Math.abs(fe-ue)>=2*Math.PI&&(ue=0,fe=2*Math.PI),this.path.push({type:"arc",x:M,y:K,radius:te,startAngle:ue,endAngle:fe,counterclockwise:Ne})},b.prototype.arcTo=function(M,K,te,ue,fe){throw new Error("arcTo not implemented.")},b.prototype.rect=function(M,K,te,ue){if(isNaN(M)||isNaN(K)||isNaN(te)||isNaN(ue))throw Xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,K),this.lineTo(M+te,K),this.lineTo(M+te,K+ue),this.lineTo(M,K+ue),this.lineTo(M,K),this.lineTo(M+te,K),this.lineTo(M,K)},b.prototype.fillRect=function(M,K,te,ue){if(isNaN(M)||isNaN(K)||isNaN(te)||isNaN(ue))throw Xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,K,te,ue),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},b.prototype.strokeRect=function(M,K,te,ue){if(isNaN(M)||isNaN(K)||isNaN(te)||isNaN(ue))throw Xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(M,K,te,ue),this.stroke())},b.prototype.clearRect=function(M,K,te,ue){if(isNaN(M)||isNaN(K)||isNaN(te)||isNaN(ue))throw Xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,K,te,ue))},b.prototype.save=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},b.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(K),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(M){var K,te,ue,fe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))K=0,te=0,ue=0,fe=0;else{var Ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(Ne!==null)K=parseInt(Ne[1]),te=parseInt(Ne[2]),ue=parseInt(Ne[3]),fe=1;else if((Ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)K=parseInt(Ne[1]),te=parseInt(Ne[2]),ue=parseInt(Ne[3]),fe=parseFloat(Ne[4]);else{if(fe=1,typeof M=="string"&&M.charAt(0)!=="#"){var Te=new z4(M);M=Te.ok?Te.toHex():"#000000"}M.length===4?(K=M.substring(1,2),K+=K,te=M.substring(2,3),te+=te,ue=M.substring(3,4),ue+=ue):(K=M.substring(1,3),te=M.substring(3,5),ue=M.substring(5,7)),K=parseInt(K,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:K,g:te,b:ue,a:fe,style:M}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(M,K,te,ue){if(isNaN(K)||isNaN(te)||typeof M!="string")throw Xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!_.call(this)){var fe=he(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;O.call(this,{text:M,x:K,y:te,scale:Ne,angle:fe,align:this.textAlign,maxWidth:ue})}},b.prototype.strokeText=function(M,K,te,ue){if(isNaN(K)||isNaN(te)||typeof M!="string")throw Xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ue=isNaN(ue)?void 0:ue;var fe=he(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;O.call(this,{text:M,x:K,y:te,scale:Ne,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ue})}},b.prototype.measureText=function(M){if(typeof M!="string")throw Xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,te=this.pdf.internal.scaleFactor,ue=K.internal.getFontSize(),fe=K.getStringUnitWidth(M)*ue/K.internal.scaleFactor,Ne=function(Te){var Le=(Te=Te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this};return new Ne({width:fe*=Math.round(96*te/72*1e4)/1e4})},b.prototype.scale=function(M,K){if(isNaN(M)||isNaN(K))throw Xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(M,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},b.prototype.rotate=function(M){if(isNaN(M))throw Xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},b.prototype.translate=function(M,K){if(isNaN(M)||isNaN(K))throw Xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,M,K);this.ctx.transform=this.ctx.transform.multiply(te)},b.prototype.transform=function(M,K,te,ue,fe,Ne){if(isNaN(M)||isNaN(K)||isNaN(te)||isNaN(ue)||isNaN(fe)||isNaN(Ne))throw Xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new c(M,K,te,ue,fe,Ne);this.ctx.transform=this.ctx.transform.multiply(Te)},b.prototype.setTransform=function(M,K,te,ue,fe,Ne){M=isNaN(M)?1:M,K=isNaN(K)?0:K,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,fe=isNaN(fe)?0:fe,Ne=isNaN(Ne)?0:Ne,this.ctx.transform=new c(M,K,te,ue,fe,Ne)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(M,K,te,ue,fe,Ne,Te,Le,Je){var Qe=this.pdf.getImageProperties(M),nt=1,et=1,_t=1,Fe=1;ue!==void 0&&Le!==void 0&&(_t=Le/ue,Fe=Je/fe,nt=Qe.width/ue*Le/ue,et=Qe.height/fe*Je/fe),Ne===void 0&&(Ne=K,Te=te,K=0,te=0),ue!==void 0&&Le===void 0&&(Le=ue,Je=fe),ue===void 0&&Le===void 0&&(Le=Qe.width,Je=Qe.height);for(var de,xt=this.ctx.transform.decompose(),ft=he(xt.rotate.shx),Ze=new c,tt=(Ze=(Ze=(Ze=Ze.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale)).applyToRectangle(new h(Ne-K*_t,Te-te*Fe,ue*nt,fe*et)),st=R.call(this,tt),ot=[],vt=0;vt<st.length;vt+=1)ot.indexOf(st[vt])===-1&&ot.push(st[vt]);if(H(ot),this.autoPaging)for(var Ot=ot[0],zt=ot[ot.length-1],bt=Ot;bt<zt+1;bt++){this.pdf.setPage(bt);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=bt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=bt===1?0:dt+(bt-2)*Kt;if(this.ctx.clip_path.length!==0){var ar=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(de,this.posX+this.margin[3],-lt+Yt+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=ar}var Jt=JSON.parse(JSON.stringify(tt));Jt=B([Jt],this.posX+this.margin[3],-lt+Yt+this.ctx.prevPageLastElemOffset)[0];var ti=(bt>Ot||bt<zt)&&C.call(this);ti&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Kt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,ft),ti&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,ft)};var R=function(M,K,te){var ue=[];K=K||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ue.push(Math.floor((M.y+fe)/te)+1);break;case"arc":ue.push(Math.floor((M.y+fe-M.radius)/te)+1),ue.push(Math.floor((M.y+fe+M.radius)/te)+1);break;case"qct":var Ne=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ue.push(Math.floor((Ne.y+fe)/te)+1),ue.push(Math.floor((Ne.y+Ne.h+fe)/te)+1);break;case"bct":var Te=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ue.push(Math.floor((Te.y+fe)/te)+1),ue.push(Math.floor((Te.y+Te.h+fe)/te)+1);break;case"rect":ue.push(Math.floor((M.y+fe)/te)+1),ue.push(Math.floor((M.y+M.h+fe)/te)+1)}for(var Le=0;Le<ue.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Le];)I.call(this);return ue},I=function(){var M=this.fillStyle,K=this.strokeStyle,te=this.font,ue=this.lineCap,fe=this.lineWidth,Ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=K,this.font=te,this.lineCap=ue,this.lineWidth=fe,this.lineJoin=Ne},B=function(M,K,te){for(var ue=0;ue<M.length;ue++)switch(M[ue].type){case"bct":M[ue].x2+=K,M[ue].y2+=te;case"qct":M[ue].x1+=K,M[ue].y1+=te;case"mt":case"lt":case"arc":default:M[ue].x+=K,M[ue].y+=te}return M},H=function(M){return M.sort(function(K,te){return K-te})},ae=function(M,K){for(var te,ue,fe=this.fillStyle,Ne=this.strokeStyle,Te=this.lineCap,Le=this.lineWidth,Je=Math.abs(Le*this.ctx.transform.scaleX),Qe=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),_t=[],Fe=0;Fe<et.length;Fe++)if(et[Fe].x!==void 0)for(var de=R.call(this,et[Fe]),xt=0;xt<de.length;xt+=1)_t.indexOf(de[xt])===-1&&_t.push(de[xt]);for(var ft=0;ft<_t.length;ft++)for(;this.pdf.internal.getNumberOfPages()<_t[ft];)I.call(this);if(H(_t),this.autoPaging)for(var Ze=_t[0],tt=_t[_t.length-1],st=Ze;st<tt+1;st++){this.pdf.setPage(st),this.fillStyle=fe,this.strokeStyle=Ne,this.lineCap=Te,this.lineWidth=Je,this.lineJoin=Qe;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=st===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=st===1?0:Ot+(st-2)*zt;if(this.ctx.clip_path.length!==0){var gt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(te,this.posX+this.margin[3],-bt+vt+this.ctx.prevPageLastElemOffset),$.call(this,M,!0),this.path=gt}if(ue=JSON.parse(JSON.stringify(nt)),this.path=B(ue,this.posX+this.margin[3],-bt+vt+this.ctx.prevPageLastElemOffset),K===!1||st===0){var Yt=(st>Ze||st<tt)&&C.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,zt,null).clip().discardPath()),$.call(this,M,K),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=Le}else this.lineWidth=Je,$.call(this,M,K),this.lineWidth=Le;this.path=nt},$=function(M,K){if((M!=="stroke"||K||!E.call(this))&&(M==="stroke"||K||!_.call(this))){for(var te,ue,fe=[],Ne=this.path,Te=0;Te<Ne.length;Te++){var Le=Ne[Te];switch(Le.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:Le,deltas:[],abs:[]});break;case"lt":var Je=fe.length;if(Ne[Te-1]&&!isNaN(Ne[Te-1].x)&&(te=[Le.x-Ne[Te-1].x,Le.y-Ne[Te-1].y],Je>0)){for(;Je>=0;Je--)if(fe[Je-1].close!==!0&&fe[Je-1].begin!==!0){fe[Je-1].deltas.push(te),fe[Je-1].abs.push(Le);break}}break;case"bct":te=[Le.x1-Ne[Te-1].x,Le.y1-Ne[Te-1].y,Le.x2-Ne[Te-1].x,Le.y2-Ne[Te-1].y,Le.x-Ne[Te-1].x,Le.y-Ne[Te-1].y],fe[fe.length-1].deltas.push(te);break;case"qct":var Qe=Ne[Te-1].x+2/3*(Le.x1-Ne[Te-1].x),nt=Ne[Te-1].y+2/3*(Le.y1-Ne[Te-1].y),et=Le.x+2/3*(Le.x1-Le.x),_t=Le.y+2/3*(Le.y1-Le.y),Fe=Le.x,de=Le.y;te=[Qe-Ne[Te-1].x,nt-Ne[Te-1].y,et-Ne[Te-1].x,_t-Ne[Te-1].y,Fe-Ne[Te-1].x,de-Ne[Te-1].y],fe[fe.length-1].deltas.push(te);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(Le)}}ue=K?null:M==="stroke"?"stroke":"fill";for(var xt=!1,ft=0;ft<fe.length;ft++)if(fe[ft].arc)for(var Ze=fe[ft].abs,tt=0;tt<Ze.length;tt++){var st=Ze[tt];st.type==="arc"?L.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,K,!xt):j.call(this,st.x,st.y),xt=!0}else if(fe[ft].close===!0)this.pdf.internal.out("h"),xt=!1;else if(fe[ft].begin!==!0){var ot=fe[ft].start.x,vt=fe[ft].start.y;se.call(this,fe[ft].deltas,ot,vt),xt=!0}ue&&F.call(this,ue),K&&W.call(this)}},ce=function(M){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-te;case"top":return M+K-te;case"hanging":return M+K-2*te;case"middle":return M+K/2-te;case"ideographic":return M;case"alphabetic":default:return M}},U=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(K,te){this.colorStops.push([K,te])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(M,K,te,ue,fe,Ne,Te,Le,Je){for(var Qe=re.call(this,te,ue,fe,Ne),nt=0;nt<Qe.length;nt++){var et=Qe[nt];nt===0&&(Je?P.call(this,et.x1+M,et.y1+K):j.call(this,et.x1+M,et.y1+K)),Se.call(this,M,K,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Le?W.call(this):F.call(this,Te)},F=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,K){this.pdf.internal.out(t(M)+" "+r(K)+" m")},O=function(M){var K;switch(M.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var te=this.pdf.getTextDimensions(M.text),ue=ce.call(this,M.y),fe=U.call(this,ue)-te.h,Ne=this.ctx.transform.applyToPoint(new l(M.x,ue)),Te=this.ctx.transform.decompose(),Le=new c;Le=(Le=(Le=Le.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var Je,Qe,nt,et=this.ctx.transform.applyToRectangle(new h(M.x,ue,te.w,te.h)),_t=Le.applyToRectangle(new h(M.x,fe,te.w,te.h)),Fe=R.call(this,_t),de=[],xt=0;xt<Fe.length;xt+=1)de.indexOf(Fe[xt])===-1&&de.push(Fe[xt]);if(H(de),this.autoPaging)for(var ft=de[0],Ze=de[de.length-1],tt=ft;tt<Ze+1;tt++){this.pdf.setPage(tt);var st=tt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],Ot=vt-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],bt=zt-this.margin[3],gt=tt===1?0:ot+(tt-2)*Ot;if(this.ctx.clip_path.length!==0){var Yt=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Je,this.posX+this.margin[3],-1*gt+st),$.call(this,"fill",!0),this.path=Yt}var dt=B([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-gt+st+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*M.scale),nt=this.lineWidth,this.lineWidth=nt*M.scale);var Kt=this.autoPaging!=="text";if(Kt||dt.y+dt.h<=vt){if(Kt||dt.y>=st&&dt.x<=zt){var lt=Kt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||zt-dt.x)[0],ar=B([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-gt+st+this.ctx.prevPageLastElemOffset)[0],Jt=Kt&&(tt>ft||tt<Ze)&&C.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ot,null).clip().discardPath()),this.pdf.text(lt,ar.x,ar.y,{angle:M.angle,align:K,renderingMode:M.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else dt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-dt.y);M.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=nt)}else M.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*M.scale),nt=this.lineWidth,this.lineWidth=nt*M.scale),this.pdf.text(M.text,Ne.x+this.posX,Ne.y+this.posY,{angle:M.angle,align:K,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=nt)},j=function(M,K,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(t(M+te)+" "+r(K+ue)+" l")},se=function(M,K,te){return this.pdf.lines(M,K,te,null,null)},Se=function(M,K,te,ue,fe,Ne,Te,Le){this.pdf.internal.out([e(i(te+M)),e(s(ue+K)),e(i(fe+M)),e(s(Ne+K)),e(i(Te+M)),e(s(Le+K)),"c"].join(" "))},re=function(M,K,te,ue){for(var fe=2*Math.PI,Ne=Math.PI/2;K>te;)K-=fe;var Te=Math.abs(te-K);Te<fe&&ue&&(Te=fe-Te);for(var Le=[],Je=ue?-1:1,Qe=K;Te>1e-5;){var nt=Qe+Je*Math.min(Te,Ne);Le.push(le.call(this,M,Qe,nt)),Te-=Math.abs(nt-Qe),Qe=nt}return Le},le=function(M,K,te){var ue=(te-K)/2,fe=M*Math.cos(ue),Ne=M*Math.sin(ue),Te=fe,Le=-Ne,Je=Te*Te+Le*Le,Qe=Je+Te*fe+Le*Ne,nt=4/3*(Math.sqrt(2*Je*Qe)-Qe)/(Te*Ne-Le*fe),et=Te-nt*Le,_t=Le+nt*Te,Fe=et,de=-_t,xt=ue+K,ft=Math.cos(xt),Ze=Math.sin(xt);return{x1:M*Math.cos(K),y1:M*Math.sin(K),x2:et*ft-_t*Ze,y2:et*Ze+_t*ft,x3:Fe*ft-de*Ze,y3:Fe*Ze+de*ft,x4:M*Math.cos(te),y4:M*Math.sin(te)}},he=function(M){return 180*M/Math.PI},_e=function(M,K,te,ue,fe,Ne){var Te=M+.5*(te-M),Le=K+.5*(ue-K),Je=fe+.5*(te-fe),Qe=Ne+.5*(ue-Ne),nt=Math.min(M,fe,Te,Je),et=Math.max(M,fe,Te,Je),_t=Math.min(K,Ne,Le,Qe),Fe=Math.max(K,Ne,Le,Qe);return new h(nt,_t,et-nt,Fe-_t)},Q=function(M,K,te,ue,fe,Ne,Te,Le){var Je,Qe,nt,et,_t,Fe,de,xt,ft,Ze,tt,st,ot,vt,Ot=te-M,zt=ue-K,bt=fe-te,gt=Ne-ue,Yt=Te-fe,dt=Le-Ne;for(Qe=0;Qe<41;Qe++)ft=(de=(nt=M+(Je=Qe/40)*Ot)+Je*((_t=te+Je*bt)-nt))+Je*(_t+Je*(fe+Je*Yt-_t)-de),Ze=(xt=(et=K+Je*zt)+Je*((Fe=ue+Je*gt)-et))+Je*(Fe+Je*(Ne+Je*dt-Fe)-xt),Qe==0?(tt=ft,st=Ze,ot=ft,vt=Ze):(tt=Math.min(tt,ft),st=Math.min(st,Ze),ot=Math.max(ot,ft),vt=Math.max(vt,Ze));return new h(Math.round(tt),Math.round(st),Math.round(ot-tt),Math.round(vt-st))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,K,te=(M=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:K}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(It.API),function(n){var e=function(s){var l,h,c,d,g,b,S,_,E,C;for(h=[],c=0,d=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(g=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(b=(g=((g=((g=((g=(g-(C=g%85))/85)-(E=g%85))/85)-(_=g%85))/85)-(S=g%85))/85)%85,h.push(b+33,S+33,_+33,E+33,C+33)):h.push(122);return function(R,I){for(var B=I;B>0;B--)R.pop()}(h,l.length),String.fromCharCode.apply(String,h)+"~>"},t=function(s){var l,h,c,d,g,b=String,S="length",_=255,E="charCodeAt",C="slice",R="replace";for(s[C](-2),s=s[C](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),c=[],d=0,g=(s+=l="uuuuu"[C](s[S]%5||5))[S];g>d;d+=5)h=52200625*(s[E](d)-33)+614125*(s[E](d+1)-33)+7225*(s[E](d+2)-33)+85*(s[E](d+3)-33)+(s[E](d+4)-33),c.push(_&h>>24,_&h>>16,_&h>>8,_&h);return function(I,B){for(var H=B;H>0;H--)I.pop()}(c,l[S]),b.fromCharCode.apply(b,c)},r=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var h="",c=0;c<s.length;c+=2)h+=String.fromCharCode("0x"+(s[c]+s[c+1]));return h},i=function(s){for(var l=new Uint8Array(s.length),h=s.length;h--;)l[h]=s.charCodeAt(h);return s=(l=D1(l)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};n.processDataByFilters=function(s,l){var h=0,c=s||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),h=0;h<l.length;h+=1)switch(l[h]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[h]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(It.API),function(n){n.loadFile=function(e,t,r){return function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var h=void 0;try{h=function(c,d,g){var b=new XMLHttpRequest,S=0,_=function(E){var C=E.length,R=[],I=String.fromCharCode;for(S=0;S<C;S+=1)R.push(I(255&E.charCodeAt(S)));return R.join("")};if(b.open("GET",c,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?g(_(this.responseText)):g(void 0)}),b.send(null),d&&b.status===200)return _(b.responseText)}(i,s,l)}catch{}return h}(e,t,r)},n.loadImageFile=n.loadFile}(It.API),function(n){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):C1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):C1(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var h=_n(l);return h==="undefined"?"undefined":h==="string"||l instanceof String?"string":h==="number"||l instanceof Number?"number":h==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(l,h){var c=document.createElement(l);for(var d in h.className&&(c.className=h.className),h.innerHTML&&h.dompurify&&(c.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)c.style[d]=h.style[d];return c},s=function l(h){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,l,1,[l])).set(h)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,h){return l.__proto__=h||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,h){return this.then(function(){switch(h=h||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function c(d,g){for(var b=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),S=d.firstChild;S;S=S.nextSibling)g!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||b.appendChild(c(S,g));return d.nodeType===1&&(d.nodeName==="CANVAS"?(b.width=d.width,b.height=d.height,b.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(b.value=d.value),b.addEventListener("load",function(){b.scrollTop=d.scrollTop,b.scrollLeft=d.scrollLeft},!0)),b}(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(h){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,h(this.prop.container,c)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(h){var c=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var S=0;S<d.length;++S){var _=d[S],E=_.src.find(function(C){return C.format==="truetype"});E&&c.addFont(E.url,_.ref.name,_.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,c.context2d.save(!0),h(this.prop.container,b)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,h,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(l,h):this.outputPdf(l,h)},s.prototype.outputPdf=function(l,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,h)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var h=Object.keys(l||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(h)})},s.prototype.get=function(l,h){return this.then(function(){var c=l in s.template.prop?this.prop[l]:this.opt[l];return h?h(c):c})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function h(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(l=l||It.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:h(l.inner.width,l.k),height:h(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,h,c,d){return l!=null&&(this.progress.val=l),h!=null&&(this.progress.state=h),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,h,c,d){return this.setProgress(l?this.progress.val+l:null,h||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(l,h){var c=this;return this.thenCore(l,h,function(d,g){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(b){return c.updateProgress(null,d),b}).then(d,g).then(function(b){return c.updateProgress(1),b})})},s.prototype.thenCore=function(l,h,c){c=c||Promise.prototype.then,l&&(l=l.bind(this)),h&&(h=h.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),g=c.call(d,l,h);return s.convert(g,this.__proto__)},s.prototype.thenExternal=function(l,h){return Promise.prototype.then.call(this,l,h)},s.prototype.thenList=function(l){var h=this;return l.forEach(function(c){h=h.thenCore(c)}),h},s.prototype.catch=function(l){l&&(l=l.bind(this));var h=Promise.prototype.catch.call(this,l);return s.convert(h,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,It.getPageSize=function(l,h,c){if(_n(l)==="object"){var d=l;l=d.orientation,h=d.unit||h,c=d.format||c}h=h||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var g,b=(""+c).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+h}var _,E=0,C=0;if(S.hasOwnProperty(b))E=S[b][1]/g,C=S[b][0]/g;else try{E=c[1],C=c[0]}catch{throw new Error("Invalid format: "+c)}if(l==="p"||l==="portrait")l="p",C>E&&(_=C,C=E,E=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",E>C&&(_=C,C=E,E=_)}return{width:C,height:E,unit:h,k:g,orientation:l}},n.html=function(l,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(V1):null;var c=new s(h);return h.worker?c:c.from(l).doCallback()}}(It.API),It.API.addJS=function(n){return Uw=n,this.internal.events.subscribe("postPutResources",function(){mm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Bw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mm!==void 0&&Bw!==void 0&&this.internal.out("/Names <</JavaScript "+mm+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],h=r.exec(l);if(h!=null){var c=h[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(s=0;s<d;s++){var b=t.internal.newObject();g.push(b);var S=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<g.length;s++)t.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var h=this.count=this.count_r({count:0},l);if(h>0&&this.line("/Count "+h),l.options&&l.options.pageNumber){var c=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(It.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,l,h){var c,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(b){for(var S,_=256*b.charCodeAt(4)+b.charCodeAt(5),E=b.length,C={width:0,height:0,numcomponents:1},R=4;R<E;R+=2){if(R+=_,e.indexOf(b.charCodeAt(R+1))!==-1){S=256*b.charCodeAt(R+5)+b.charCodeAt(R+6),C={width:256*b.charCodeAt(R+7)+b.charCodeAt(R+8),height:S,numcomponents:b.charCodeAt(R+9)};break}_=256*b.charCodeAt(R+2)+b.charCodeAt(R+3)}return C}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}g={data:t,width:c.width,height:c.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:i}}return g}}(It.API);var Dh,gm,qw,zw,Hw,$k=function(){var n,e,t;function r(s){var l,h,c,d,g,b,S,_,E,C,R,I,B,H;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(l=this.readUInt32(),E=(function(){var ae,$;for($=[],ae=0;ae<4;++ae)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),d=this.readUInt16()||100,b.delay=1e3*g/d,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,l-=4),s=(b!=null?b.data:void 0)||this.imgData,I=0;0<=l?I<l:I>l;0<=l?++I:--I)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((C=c-this.transparency.indexed.length)>0)for(B=0;0<=C?B<C:B>C;0<=C?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":S=(R=this.read(l)).indexOf(0),_=String.fromCharCode.apply(String,R.slice(0,S)),this.text[_]=String.fromCharCode.apply(String,R.slice(S+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(H=this.colorType)===4||H===6,h=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*h,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var l,h;for(h=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)h.push(this.data[this.pos++]);return h},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*l),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function g(b,S,_,E){var C,R,I,B,H,ae,$,ce,U,L,F,W,P,O,j,se,Se,re,le,he,_e,Q=Math.ceil((d.width-b)/_),xe=Math.ceil((d.height-S)/E),M=d.width==Q&&d.height==xe;for(O=l*Q,W=M?h:new Uint8Array(O*xe),ae=s.length,P=0,R=0;P<xe&&c<ae;){switch(s[c++]){case 0:for(B=Se=0;Se<O;B=Se+=1)W[R++]=s[c++];break;case 1:for(B=re=0;re<O;B=re+=1)C=s[c++],H=B<l?0:W[R-l],W[R++]=(C+H)%256;break;case 2:for(B=le=0;le<O;B=le+=1)C=s[c++],I=(B-B%l)/l,j=P&&W[(P-1)*O+I*l+B%l],W[R++]=(j+C)%256;break;case 3:for(B=he=0;he<O;B=he+=1)C=s[c++],I=(B-B%l)/l,H=B<l?0:W[R-l],j=P&&W[(P-1)*O+I*l+B%l],W[R++]=(C+Math.floor((H+j)/2))%256;break;case 4:for(B=_e=0;_e<O;B=_e+=1)C=s[c++],I=(B-B%l)/l,H=B<l?0:W[R-l],P===0?j=se=0:(j=W[(P-1)*O+I*l+B%l],se=I&&W[(P-1)*O+(I-1)*l+B%l]),$=H+j-se,ce=Math.abs($-H),L=Math.abs($-j),F=Math.abs($-se),U=ce<=L&&ce<=F?H:L<=F?j:se,W[R++]=(C+U)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!M){var K=((S+P*E)*d.width+b)*l,te=P*O;for(B=0;B<Q;B+=1){for(var ue=0;ue<l;ue+=1)h[K++]=W[te++];K+=(_-1)*l}}P++}}return s=Tk(s),d.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),h},r.prototype.decodePalette=function(){var s,l,h,c,d,g,b,S,_;for(h=this.palette,g=this.transparency.indexed||[],d=new Uint8Array((g.length||0)+h.length),c=0,s=0,l=b=0,S=h.length;b<S;l=b+=3)d[c++]=h[l],d[c++]=h[l+1],d[c++]=h[l+2],d[c++]=(_=g[s++])!=null?_:255;return d},r.prototype.copyToImageData=function(s,l){var h,c,d,g,b,S,_,E,C,R,I;if(c=this.colors,C=null,h=this.hasAlphaChannel,this.palette.length&&(C=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),c=4,h=!0),E=(d=s.data||s).length,b=C||l,g=S=0,c===1)for(;g<E;)_=C?4*l[g/4]:S,R=b[_++],d[g++]=R,d[g++]=R,d[g++]=R,d[g++]=h?b[_++]:255,S=_;else for(;g<E;)_=C?4*l[g/4]:S,d[g++]=b[_++],d[g++]=b[_++],d[g++]=b[_++],d[g++]=h?b[_++]:255,S=_},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ft)==="[object Window]"){try{e=Ft.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var l;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var l,h,c,d,g,b,S,_;if(this.animation){for(_=[],h=g=0,b=(S=this.animation.frames).length;g<b;h=++g)l=S[h],c=s.createImageData(l.width,l.height),d=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(c,d),l.imageData=c,_.push(l.image=n(c));return _}},r.prototype.renderFrame=function(s,l){var h,c,d;return h=(c=this.animation.frames)[l],d=c[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),h.blendOp===0&&s.clearRect(h.xOffset,h.yOffset,h.width,h.height),s.drawImage(h.image,h.xOffset,h.yOffset)},r.prototype.animate=function(s){var l,h,c,d,g,b,S=this;return h=0,b=this.animation,d=b.numFrames,c=b.frames,g=b.numPlays,(l=function(){var _,E;if(_=h++%d,E=c[_],S.renderFrame(s,_),d>1&&h/d<g)return S.animation._timeout=setTimeout(l,E.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var l,h;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(h=l.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),l.putImageData(h,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Yk(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,l=1<<(7&i)+1;n[e++],n[e++];var h=null,c=null;s&&(h=e,c=l,e+=3*l);var d=!0,g=[],b=0,S=null,_=0,E=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,E=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[e++];b=n[e++]|n[e++]<<8,S=n[e++],(1&C)==0&&(S=null),_=C>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var R=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,H=n[e++]|n[e++]<<8,ae=n[e++],$=ae>>6&1,ce=1<<(7&ae)+1,U=h,L=c,F=!1;ae>>7&&(F=!0,U=e,L=ce,e+=3*ce);var W=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}g.push({x:R,y:I,width:B,height:H,has_local_palette:F,palette_offset:U,palette_size:L,data_offset:W,data_length:e-W,transparent_index:S,interlaced:!!$,delay:b,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return E},this.frameInfo=function(O){if(O<0||O>=g.length)throw new Error("Frame index out of range.");return g[O]},this.decodeAndBlitFrameBGRA=function(O,j){var se=this.frameInfo(O),Se=se.width*se.height,re=new Uint8Array(Se);Ww(n,se.data_offset,re,Se);var le=se.palette_offset,he=se.transparent_index;he===null&&(he=256);var _e=se.width,Q=t-_e,xe=_e,M=4*(se.y*t+se.x),K=4*((se.y+se.height)*t+se.x),te=M,ue=4*Q;se.interlaced===!0&&(ue+=4*t*7);for(var fe=8,Ne=0,Te=re.length;Ne<Te;++Ne){var Le=re[Ne];if(xe===0&&(xe=_e,(te+=ue)>=K&&(ue=4*Q+4*t*(fe-1),te=M+(_e+Q)*(fe<<1),fe>>=1)),Le===he)te+=4;else{var Je=n[le+3*Le],Qe=n[le+3*Le+1],nt=n[le+3*Le+2];j[te++]=nt,j[te++]=Qe,j[te++]=Je,j[te++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(O,j){var se=this.frameInfo(O),Se=se.width*se.height,re=new Uint8Array(Se);Ww(n,se.data_offset,re,Se);var le=se.palette_offset,he=se.transparent_index;he===null&&(he=256);var _e=se.width,Q=t-_e,xe=_e,M=4*(se.y*t+se.x),K=4*((se.y+se.height)*t+se.x),te=M,ue=4*Q;se.interlaced===!0&&(ue+=4*t*7);for(var fe=8,Ne=0,Te=re.length;Ne<Te;++Ne){var Le=re[Ne];if(xe===0&&(xe=_e,(te+=ue)>=K&&(ue=4*Q+4*t*(fe-1),te=M+(_e+Q)*(fe<<1),fe>>=1)),Le===he)te+=4;else{var Je=n[le+3*Le],Qe=n[le+3*Le+1],nt=n[le+3*Le+2];j[te++]=Je,j[te++]=Qe,j[te++]=nt,j[te++]=255}--xe}}}function Ww(n,e,t,r){for(var i=n[e++],s=1<<i,l=s+1,h=l+1,c=i+1,d=(1<<c)-1,g=0,b=0,S=0,_=n[e++],E=new Int32Array(4096),C=null;;){for(;g<16&&_!==0;)b|=n[e++]<<g,g+=8,_===1?_=n[e++]:--_;if(g<c)break;var R=b&d;if(b>>=c,g-=c,R!==s){if(R===l)break;for(var I=R<h?R:C,B=0,H=I;H>s;)H=E[H]>>8,++B;var ae=H;if(S+B+(I!==R?1:0)>r)return void Xn.log("Warning, gif stream longer than expected.");t[S++]=ae;var $=S+=B;for(I!==R&&(t[S++]=ae),H=I;B--;)H=E[H],t[--$]=255&H,H>>=8;C!==null&&h<4096&&(E[h++]=C<<8|ae,h>=d+1&&c<12&&(++c,d=d<<1|1)),C=R}else h=l+1,d=(1<<(c=i+1))-1,C=null}return S!==r&&Xn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function zv(n){var e,t,r,i,s,l=Math.floor,h=new Array(64),c=new Array(64),d=new Array(64),g=new Array(64),b=new Array(65535),S=new Array(65535),_=new Array(64),E=new Array(64),C=[],R=0,I=7,B=new Array(64),H=new Array(64),ae=new Array(64),$=new Array(256),ce=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(M,K){for(var te=0,ue=0,fe=new Array,Ne=1;Ne<=16;Ne++){for(var Te=1;Te<=M[Ne];Te++)fe[K[ue]]=[],fe[K[ue]][0]=te,fe[K[ue]][1]=Ne,ue++,te++;te*=2}return fe}function le(M){for(var K=M[0],te=M[1]-1;te>=0;)K&1<<te&&(R|=1<<I),te--,--I<0&&(R==255?(he(255),he(0)):he(R),I=7,R=0)}function he(M){C.push(M)}function _e(M){he(M>>8&255),he(255&M)}function Q(M,K,te,ue,fe){for(var Ne,Te=fe[0],Le=fe[240],Je=function(Ze,tt){var st,ot,vt,Ot,zt,bt,gt,Yt,dt,Kt,lt=0;for(dt=0;dt<8;++dt){st=Ze[lt],ot=Ze[lt+1],vt=Ze[lt+2],Ot=Ze[lt+3],zt=Ze[lt+4],bt=Ze[lt+5],gt=Ze[lt+6];var ar=st+(Yt=Ze[lt+7]),Jt=st-Yt,ti=ot+gt,en=ot-gt,Rn=vt+bt,di=vt-bt,cn=Ot+zt,ja=Ot-zt,qn=ar+cn,Rr=ar-cn,ni=ti+Rn,zn=ti-Rn;Ze[lt]=qn+ni,Ze[lt+4]=qn-ni;var At=.707106781*(zn+Rr);Ze[lt+2]=Rr+At,Ze[lt+6]=Rr-At;var hn=.382683433*((qn=ja+di)-(zn=en+Jt)),Bi=.5411961*qn+hn,sr=1.306562965*zn+hn,ri=.707106781*(ni=di+en),la=Jt+ri,ut=Jt-ri;Ze[lt+5]=ut+Bi,Ze[lt+3]=ut-Bi,Ze[lt+1]=la+sr,Ze[lt+7]=la-sr,lt+=8}for(lt=0,dt=0;dt<8;++dt){st=Ze[lt],ot=Ze[lt+8],vt=Ze[lt+16],Ot=Ze[lt+24],zt=Ze[lt+32],bt=Ze[lt+40],gt=Ze[lt+48];var Pn=st+(Yt=Ze[lt+56]),Ln=st-Yt,Kn=ot+gt,nr=ot-gt,or=vt+bt,_r=vt-bt,ks=Ot+zt,Ni=Ot-zt,Wr=Pn+ks,Pr=Pn-ks,wr=Kn+or,Lr=Kn-or;Ze[lt]=Wr+wr,Ze[lt+32]=Wr-wr;var Hn=.707106781*(Lr+Pr);Ze[lt+16]=Pr+Hn,Ze[lt+48]=Pr-Hn;var xn=.382683433*((Wr=Ni+_r)-(Lr=nr+Ln)),Ma=.5411961*Wr+xn,Fa=1.306562965*Lr+xn,pi=.707106781*(wr=_r+nr),Ui=Ln+pi,js=Ln-pi;Ze[lt+40]=js+Ma,Ze[lt+24]=js-Ma,Ze[lt+8]=Ui+Fa,Ze[lt+56]=Ui-Fa,lt++}for(dt=0;dt<64;++dt)Kt=Ze[dt]*tt[dt],_[dt]=Kt>0?Kt+.5|0:Kt-.5|0;return _}(M,K),Qe=0;Qe<64;++Qe)E[U[Qe]]=Je[Qe];var nt=E[0]-te;te=E[0],nt==0?le(ue[0]):(le(ue[S[Ne=32767+nt]]),le(b[Ne]));for(var et=63;et>0&&E[et]==0;)et--;if(et==0)return le(Te),te;for(var _t,Fe=1;Fe<=et;){for(var de=Fe;E[Fe]==0&&Fe<=et;)++Fe;var xt=Fe-de;if(xt>=16){_t=xt>>4;for(var ft=1;ft<=_t;++ft)le(Le);xt&=15}Ne=32767+E[Fe],le(fe[(xt<<4)+S[Ne]]),le(b[Ne]),Fe++}return et!=63&&le(Te),te}function xe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(K){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var fe=l((te[ue]*K+50)/100);fe=Math.min(Math.max(fe,1),255),h[U[ue]]=fe}for(var Ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Le=l((Ne[Te]*K+50)/100);Le=Math.min(Math.max(Le,1),255),c[U[Te]]=Le}for(var Je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,nt=0;nt<8;nt++)for(var et=0;et<8;et++)d[Qe]=1/(h[U[Qe]]*Je[nt]*Je[et]*8),g[Qe]=1/(c[U[Qe]]*Je[nt]*Je[et]*8),Qe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,K){K&&xe(K),C=new Array,R=0,I=7,_e(65496),_e(65504),_e(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),_e(1),_e(1),he(0),he(0),function(){_e(65499),_e(132),he(0);for(var ot=0;ot<64;ot++)he(h[ot]);he(1);for(var vt=0;vt<64;vt++)he(c[vt])}(),function(ot,vt){_e(65472),_e(17),he(8),_e(vt),_e(ot),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)}(M.width,M.height),function(){_e(65476),_e(418),he(0);for(var ot=0;ot<16;ot++)he(L[ot+1]);for(var vt=0;vt<=11;vt++)he(F[vt]);he(16);for(var Ot=0;Ot<16;Ot++)he(W[Ot+1]);for(var zt=0;zt<=161;zt++)he(P[zt]);he(1);for(var bt=0;bt<16;bt++)he(O[bt+1]);for(var gt=0;gt<=11;gt++)he(j[gt]);he(17);for(var Yt=0;Yt<16;Yt++)he(se[Yt+1]);for(var dt=0;dt<=161;dt++)he(Se[dt])}(),_e(65498),_e(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var te=0,ue=0,fe=0;R=0,I=7,this.encode.displayName="_encode_";for(var Ne,Te,Le,Je,Qe,nt,et,_t,Fe,de=M.data,xt=M.width,ft=M.height,Ze=4*xt,tt=0;tt<ft;){for(Ne=0;Ne<Ze;){for(Qe=Ze*tt+Ne,et=-1,_t=0,Fe=0;Fe<64;Fe++)nt=Qe+(_t=Fe>>3)*Ze+(et=4*(7&Fe)),tt+_t>=ft&&(nt-=Ze*(tt+1+_t-ft)),Ne+et>=Ze&&(nt-=Ne+et-Ze+4),Te=de[nt++],Le=de[nt++],Je=de[nt++],B[Fe]=(ce[Te]+ce[Le+256>>0]+ce[Je+512>>0]>>16)-128,H[Fe]=(ce[Te+768>>0]+ce[Le+1024>>0]+ce[Je+1280>>0]>>16)-128,ae[Fe]=(ce[Te+1280>>0]+ce[Le+1536>>0]+ce[Je+1792>>0]>>16)-128;te=Q(B,d,te,e,r),ue=Q(H,g,ue,t,i),fe=Q(ae,g,fe,t,i),Ne+=32}tt+=8}if(I>=0){var st=[];st[1]=I+1,st[0]=(1<<I+1)-1,le(st)}return _e(65497),new Uint8Array(C)},n=n||50,function(){for(var M=String.fromCharCode,K=0;K<256;K++)$[K]=M(K)}(),e=re(L,F),t=re(O,j),r=re(W,P),i=re(se,Se),function(){for(var M=1,K=2,te=1;te<=15;te++){for(var ue=M;ue<K;ue++)S[32767+ue]=te,b[32767+ue]=[],b[32767+ue][1]=te,b[32767+ue][0]=ue;for(var fe=-(K-1);fe<=-M;fe++)S[32767+fe]=te,b[32767+fe]=[],b[32767+fe][1]=te,b[32767+fe][0]=K-1+fe;M<<=1,K<<=1}}(),function(){for(var M=0;M<256;M++)ce[M]=19595*M,ce[M+256>>0]=38470*M,ce[M+512>>0]=7471*M+32768,ce[M+768>>0]=-11059*M,ce[M+1024>>0]=-21709*M,ce[M+1280>>0]=32768*M+8421375,ce[M+1536>>0]=-27439*M,ce[M+1792>>0]=-5329*M}(),xe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function lo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gw(n){function e(L){if(!L)throw Error("assert :P")}function t(L,F,W){for(var P=0;4>P;P++)if(L[F+P]!=W.charCodeAt(P))return!0;return!1}function r(L,F,W,P,O){for(var j=0;j<O;j++)L[F+j]=W[P+j]}function i(L,F,W,P){for(var O=0;O<P;O++)L[F+O]=W}function s(L){return new Int32Array(L)}function l(L,F){for(var W=[],P=0;P<L;P++)W.push(new F);return W}function h(L,F){var W=[];return function P(O,j,se){for(var Se=se[j],re=0;re<Se&&(O.push(se.length>j+1?[]:new F),!(se.length<j+1));re++)P(O[re],j+1,se)}(W,0,L),W}var c=function(){var L=this;function F(p,y){for(var T=1<<y-1>>>0;p&T;)T>>>=1;return T?(p&T-1)+T:p}function W(p,y,T,D,q){e(!(D%T));do p[y+(D-=T)]=q;while(0<D)}function P(p,y,T,D,q){if(e(2328>=q),512>=q)var G=s(512);else if((G=s(q))==null)return 0;return function(Y,X,ee,ie,ge,Pe){var Ie,Ee,He=X,Me=1<<ee,ve=s(16),be=s(16);for(e(ge!=0),e(ie!=null),e(Y!=null),e(0<ee),Ee=0;Ee<ge;++Ee){if(15<ie[Ee])return 0;++ve[ie[Ee]]}if(ve[0]==ge)return 0;for(be[1]=0,Ie=1;15>Ie;++Ie){if(ve[Ie]>1<<Ie)return 0;be[Ie+1]=be[Ie]+ve[Ie]}for(Ee=0;Ee<ge;++Ee)Ie=ie[Ee],0<ie[Ee]&&(Pe[be[Ie]++]=Ee);if(be[15]==1)return(ie=new O).g=0,ie.value=Pe[0],W(Y,He,1,Me,ie),Me;var Be,We=-1,qe=Me-1,ct=0,rt=1,wt=1,at=1<<ee;for(Ee=0,Ie=1,ge=2;Ie<=ee;++Ie,ge<<=1){if(rt+=wt<<=1,0>(wt-=ve[Ie]))return 0;for(;0<ve[Ie];--ve[Ie])(ie=new O).g=Ie,ie.value=Pe[Ee++],W(Y,He+ct,ge,at,ie),ct=F(ct,Ie)}for(Ie=ee+1,ge=2;15>=Ie;++Ie,ge<<=1){if(rt+=wt<<=1,0>(wt-=ve[Ie]))return 0;for(;0<ve[Ie];--ve[Ie]){if(ie=new O,(ct&qe)!=We){for(He+=at,Be=1<<(We=Ie)-ee;15>We&&!(0>=(Be-=ve[We]));)++We,Be<<=1;Me+=at=1<<(Be=We-ee),Y[X+(We=ct&qe)].g=Be+ee,Y[X+We].value=He-X-We}ie.g=Ie-ee,ie.value=Pe[Ee++],W(Y,He+(ct>>ee),ge,at,ie),ct=F(ct,Ie)}}return rt!=2*be[15]-1?0:Me}(p,y,T,D,q,G)}function O(){this.value=this.g=0}function j(){this.value=this.g=0}function se(){this.G=l(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Or,j)}function Se(p,y,T,D){e(p!=null),e(y!=null),e(2147483648>D),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=T,p.Jd=y,p.Yc=T+D,p.Zc=4<=D?T+D-4+1:T,Ne(p)}function re(p,y){for(var T=0;0<y--;)T|=Le(p,128)<<y;return T}function le(p,y){var T=re(p,y);return Te(p)?-T:T}function he(p,y,T,D){var q,G=0;for(e(p!=null),e(y!=null),e(4294967288>D),p.Sb=D,p.Ra=0,p.u=0,p.h=0,4<D&&(D=4),q=0;q<D;++q)G+=y[T+q]<<8*q;p.Ra=G,p.bb=D,p.oa=y,p.pa=T}function _e(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<_l-8>>>0,++p.bb,p.u-=8;te(p)&&(p.h=1,p.u=0)}function Q(p,y){if(e(0<=y),!p.h&&y<=bl){var T=K(p)&Co[y];return p.u+=y,_e(p),T}return p.h=1,p.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(p){return p.Ra>>>(p.u&_l-1)>>>0}function te(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>_l}function ue(p,y){p.u=y,p.h=te(p)}function fe(p){p.u>=pu&&(e(p.u>=pu),_e(p))}function Ne(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Te(p){return re(p,1)}function Le(p,y){var T=p.Ca;0>p.b&&Ne(p);var D=p.b,q=T*y>>>8,G=(p.I>>>D>q)+0;for(G?(T-=q,p.I-=q+1<<D>>>0):T=q+1,D=T,q=0;256<=D;)q+=8,D>>=8;return D=7^q+$i[D],p.b-=D,p.Ca=(T<<D)-1,G}function Je(p,y,T){p[y+0]=T>>24&255,p[y+1]=T>>16&255,p[y+2]=T>>8&255,p[y+3]=T>>0&255}function Qe(p,y){return p[y+0]<<0|p[y+1]<<8}function nt(p,y){return Qe(p,y)|p[y+2]<<16}function et(p,y){return Qe(p,y)|Qe(p,y+2)<<16}function _t(p,y){var T=1<<y;return e(p!=null),e(0<y),p.X=s(T),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Fe(p,y){e(p!=null),e(y!=null),e(p.Xa==y.Xa),r(y.X,0,p.X,0,1<<y.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function xt(p,y,T,D){e(T!=null),e(D!=null);var q=T[0],G=D[0];return q==0&&(q=(p*G+y/2)/y),G==0&&(G=(y*q+p/2)/p),0>=q||0>=G?0:(T[0]=q,D[0]=G,1)}function ft(p,y){return p+(1<<y)-1>>>y}function Ze(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function tt(p,y){L[y]=function(T,D,q,G,Y,X,ee){var ie;for(ie=0;ie<Y;++ie){var ge=L[p](X[ee+ie-1],q,G+ie);X[ee+ie]=Ze(T[D+ie],ge)}}}function st(){this.ud=this.hd=this.jd=0}function ot(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function vt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ot(p,y){return vt(p+(p-y+.5>>1))}function zt(p,y,T){return Math.abs(y-T)-Math.abs(p-T)}function bt(p,y,T,D,q,G,Y){for(D=G[Y-1],T=0;T<q;++T)G[Y+T]=D=Ze(p[y+T],D)}function gt(p,y,T,D,q){var G;for(G=0;G<T;++G){var Y=p[y+G],X=Y>>8&255,ee=16711935&(ee=(ee=16711935&Y)+((X<<16)+X));D[q+G]=(4278255360&Y)+ee>>>0}}function Yt(p,y){y.jd=p>>0&255,y.hd=p>>8&255,y.ud=p>>16&255}function dt(p,y,T,D,q,G){var Y;for(Y=0;Y<D;++Y){var X=y[T+Y],ee=X>>>8,ie=X,ge=255&(ge=(ge=X>>>16)+((p.jd<<24>>24)*(ee<<24>>24)>>>5));ie=255&(ie=(ie=ie+((p.hd<<24>>24)*(ee<<24>>24)>>>5))+((p.ud<<24>>24)*(ge<<24>>24)>>>5)),q[G+Y]=(4278255360&X)+(ge<<16)+ie}}function Kt(p,y,T,D,q){L[y]=function(G,Y,X,ee,ie,ge,Pe,Ie,Ee){for(ee=Pe;ee<Ie;++ee)for(Pe=0;Pe<Ee;++Pe)ie[ge++]=q(X[D(G[Y++])])},L[p]=function(G,Y,X,ee,ie,ge,Pe){var Ie=8>>G.b,Ee=G.Ea,He=G.K[0],Me=G.w;if(8>Ie)for(G=(1<<G.b)-1,Me=(1<<Ie)-1;Y<X;++Y){var ve,be=0;for(ve=0;ve<Ee;++ve)ve&G||(be=D(ee[ie++])),ge[Pe++]=q(He[be&Me]),be>>=Ie}else L["VP8LMapColor"+T](ee,ie,He,Me,ge,Pe,Y,X,Ee)}}function lt(p,y,T,D,q){for(T=y+T;y<T;){var G=p[y++];D[q++]=G>>16&255,D[q++]=G>>8&255,D[q++]=G>>0&255}}function ar(p,y,T,D,q){for(T=y+T;y<T;){var G=p[y++];D[q++]=G>>16&255,D[q++]=G>>8&255,D[q++]=G>>0&255,D[q++]=G>>24&255}}function Jt(p,y,T,D,q){for(T=y+T;y<T;){var G=(Y=p[y++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;D[q++]=G,D[q++]=Y}}function ti(p,y,T,D,q){for(T=y+T;y<T;){var G=(Y=p[y++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;D[q++]=G,D[q++]=Y}}function en(p,y,T,D,q){for(T=y+T;y<T;){var G=p[y++];D[q++]=G>>0&255,D[q++]=G>>8&255,D[q++]=G>>16&255}}function Rn(p,y,T,D,q,G){if(G==0)for(T=y+T;y<T;)Je(D,((G=p[y++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else r(D,q,p,y,T)}function di(p,y){L[y][0]=L[p+"0"],L[y][1]=L[p+"1"],L[y][2]=L[p+"2"],L[y][3]=L[p+"3"],L[y][4]=L[p+"4"],L[y][5]=L[p+"5"],L[y][6]=L[p+"6"],L[y][7]=L[p+"7"],L[y][8]=L[p+"8"],L[y][9]=L[p+"9"],L[y][10]=L[p+"10"],L[y][11]=L[p+"11"],L[y][12]=L[p+"12"],L[y][13]=L[p+"13"],L[y][14]=L[p+"0"],L[y][15]=L[p+"0"]}function cn(p){return p==wc||p==Fo||p==Ks||p==yu}function ja(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ja,this.f.kb=new qn,this.sd=null}function ni(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function hn(p,y){var T=p.T,D=y.ba.f.RGBA,q=D.eb,G=D.fb+p.ka*D.A,Y=Kr[y.ba.S],X=p.y,ee=p.O,ie=p.f,ge=p.N,Pe=p.ea,Ie=p.W,Ee=y.cc,He=y.dc,Me=y.Mc,ve=y.Nc,be=p.ka,Be=p.ka+p.T,We=p.U,qe=We+1>>1;for(be==0?Y(X,ee,null,null,ie,ge,Pe,Ie,ie,ge,Pe,Ie,q,G,null,null,We):(Y(y.ec,y.fc,X,ee,Ee,He,Me,ve,ie,ge,Pe,Ie,q,G-D.A,q,G,We),++T);be+2<Be;be+=2)Ee=ie,He=ge,Me=Pe,ve=Ie,ge+=p.Rc,Ie+=p.Rc,G+=2*D.A,Y(X,(ee+=2*p.fa)-p.fa,X,ee,Ee,He,Me,ve,ie,ge,Pe,Ie,q,G-D.A,q,G,We);return ee+=p.fa,p.j+Be<p.o?(r(y.ec,y.fc,X,ee,We),r(y.cc,y.dc,ie,ge,qe),r(y.Mc,y.Nc,Pe,Ie,qe),T--):1&Be||Y(X,ee,null,null,ie,ge,Pe,Ie,ie,ge,Pe,Ie,q,G+D.A,null,null,We),T}function Bi(p,y,T){var D=p.F,q=[p.J];if(D!=null){var G=p.U,Y=y.ba.S,X=Y==Tl||Y==Ks;y=y.ba.f.RGBA;var ee=[0],ie=p.ka;ee[0]=p.T,p.Kb&&(ie==0?--ee[0]:(--ie,q[0]-=p.width),p.j+p.ka+p.T==p.o&&(ee[0]=p.o-p.j-ie));var ge=y.eb;ie=y.fb+ie*y.A,p=nn(D,q[0],p.width,G,ee,ge,ie+(X?0:3),y.A),e(T==ee),p&&cn(Y)&&fa(ge,ie,X,G,ee,y.A)}return 0}function sr(p){var y=p.ma,T=y.ba.S,D=11>T,q=T==vu||T==_c||T==Tl||T==Ys||T==12||cn(T);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!No(y.Oa,p,q?11:12))return 0;if(q&&cn(T)&&Ye(),p.da)alert("todo:use_scaling");else{if(D){if(y.Ib=At,p.Kb){if(T=p.U+1>>1,y.memory=s(p.U+2*T),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+T,y.Ib=hn,Ye()}}else alert("todo:EmitYUV");q&&(y.Jb=Bi,D&&Ae())}if(D&&!ap){for(p=0;256>p;++p)r0[p]=89858*(p-128)+jr>>Ns,Ac[p]=-22014*(p-128)+jr,Sf[p]=-45773*(p-128),Mr[p]=113618*(p-128)+jr>>Ns;for(p=Uo;p<uh;++p)y=76283*(p-16)+jr>>Ns,Tc[p-Uo]=Tn(y,255),xf[p-Uo]=Tn(y+8>>4,15);ap=1}return 1}function ri(p){var y=p.ma,T=p.U,D=p.T;return e(!(1&p.ka)),0>=T||0>=D?0:(T=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,T),y.Dc+=T,1)}function la(p){p.ma.memory=null}function ut(p,y,T,D){return Q(p,8)!=47?0:(y[0]=Q(p,14)+1,T[0]=Q(p,14)+1,D[0]=Q(p,1),Q(p,3)!=0?0:!p.h)}function Pn(p,y){if(4>p)return p+1;var T=p-2>>1;return(2+(1&p)<<T)+Q(y,T)+1}function Ln(p,y){return 120<y?y-120:1<=(T=((T=Xs[y-1])>>4)*p+(8-(15&T)))?T:1;var T}function Kn(p,y,T){var D=K(T),q=p[y+=255&D].g-8;return 0<q&&(ue(T,T.u+8),D=K(T),y+=p[y].value,y+=D&(1<<q)-1),ue(T,T.u+p[y].g),p[y].value}function nr(p,y,T){return T.g+=p.g,T.value+=p.value<<y>>>0,e(8>=T.g),p.g}function or(p,y,T){var D=p.xc;return e((y=D==0?0:p.vc[p.md*(T>>D)+(y>>D)])<p.Wb),p.Ya[y]}function _r(p,y,T,D){var q=p.ab,G=p.c*y,Y=p.C;y=Y+y;var X=T,ee=D;for(D=p.Ta,T=p.Ua;0<q--;){var ie=p.gc[q],ge=Y,Pe=y,Ie=X,Ee=ee,He=(ee=D,X=T,ie.Ea);switch(e(ge<Pe),e(Pe<=ie.nc),ie.hc){case 2:nh(Ie,Ee,(Pe-ge)*He,ee,X);break;case 0:var Me=ge,ve=Pe,be=ee,Be=X,We=(at=ie).Ea;Me==0&&(_f(Ie,Ee,null,null,1,be,Be),bt(Ie,Ee+1,0,0,We-1,be,Be+1),Ee+=We,Be+=We,++Me);for(var qe=1<<at.b,ct=qe-1,rt=ft(We,at.b),wt=at.K,at=at.w+(Me>>at.b)*rt;Me<ve;){var gn=wt,En=at,Zt=1;for(yc(Ie,Ee,be,Be-We,1,be,Be);Zt<We;){var Qt=(Zt&~ct)+qe;Qt>We&&(Qt=We),(0,Ws[gn[En++]>>8&15])(Ie,Ee+ +Zt,be,Be+Zt-We,Qt-Zt,be,Be+Zt),Zt=Qt}Ee+=We,Be+=We,++Me&ct||(at+=rt)}Pe!=ie.nc&&r(ee,X-He,ee,X+(Pe-ge-1)*He,He);break;case 1:for(He=Ie,ve=Ee,We=(Ie=ie.Ea)-(Be=Ie&~(be=(Ee=1<<ie.b)-1)),Me=ft(Ie,ie.b),qe=ie.K,ie=ie.w+(ge>>ie.b)*Me;ge<Pe;){for(ct=qe,rt=ie,wt=new st,at=ve+Be,gn=ve+Ie;ve<at;)Yt(ct[rt++],wt),Ro(wt,He,ve,Ee,ee,X),ve+=Ee,X+=Ee;ve<gn&&(Yt(ct[rt++],wt),Ro(wt,He,ve,We,ee,X),ve+=We,X+=We),++ge&be||(ie+=Me)}break;case 3:if(Ie==ee&&Ee==X&&0<ie.b){for(ve=ee,Ie=He=X+(Pe-ge)*He-(Be=(Pe-ge)*ft(ie.Ea,ie.b)),Ee=ee,be=X,Me=[],Be=(We=Be)-1;0<=Be;--Be)Me[Be]=Ee[be+Be];for(Be=We-1;0<=Be;--Be)ve[Ie+Be]=Me[Be];Ea(ie,ge,Pe,ee,He,ee,X)}else Ea(ie,ge,Pe,Ie,Ee,ee,X)}X=D,ee=T}ee!=T&&r(D,T,X,ee,G)}function ks(p,y){var T=p.V,D=p.Ba+p.c*p.C,q=y-p.C;if(e(y<=p.l.o),e(16>=q),0<q){var G=p.l,Y=p.Ta,X=p.Ua,ee=G.width;if(_r(p,q,T,D),q=X=[X],e((T=p.C)<(D=y)),e(G.v<G.va),D>G.o&&(D=G.o),T<G.j){var ie=G.j-T;T=G.j,q[0]+=ie*ee}if(T>=D?T=0:(q[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=D-T,T=1),T){if(X=X[0],11>(T=p.ca).S){var ge=T.f.RGBA,Pe=(D=T.S,q=G.U,G=G.T,ie=ge.eb,ge.A),Ie=G;for(ge=ge.fb+p.Ma*ge.A;0<Ie--;){var Ee=Y,He=X,Me=q,ve=ie,be=ge;switch(D){case bi:Ii(Ee,He,Me,ve,be);break;case vu:oi(Ee,He,Me,ve,be);break;case wc:oi(Ee,He,Me,ve,be),fa(ve,be,0,Me,1,0);break;case xs:Ya(Ee,He,Me,ve,be);break;case _c:Rn(Ee,He,Me,ve,be,1);break;case Fo:Rn(Ee,He,Me,ve,be,1),fa(ve,be,0,Me,1,0);break;case Tl:Rn(Ee,He,Me,ve,be,0);break;case Ks:Rn(Ee,He,Me,ve,be,0),fa(ve,be,1,Me,1,0);break;case Ys:Po(Ee,He,Me,ve,be);break;case yu:Po(Ee,He,Me,ve,be),tn(ve,be,Me,1,0);break;case ih:Yi(Ee,He,Me,ve,be);break;default:e(0)}X+=ee,ge+=Pe}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=T.height)}}p.C=y,e(p.C<=p.i)}function Ni(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var T=p.Ya[y].G,D=p.Ya[y].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function Wr(p,y,T,D,q,G){if(p.Z!=0){var Y=p.qd,X=p.rd;for(e(Ts[p.Z]!=null);y<T;++y)Ts[p.Z](Y,X,D,q,D,q,G),Y=D,X=q,q+=G;p.qd=Y,p.rd=X}}function Pr(p,y){var T=p.l.ma,D=T.Z==0||T.Z==1?p.l.j:p.C;if(D=p.C<D?D:p.C,e(y<=p.l.o),y>D){var q=p.l.width,G=T.ca,Y=T.tb+q*D,X=p.V,ee=p.Ba+p.c*D,ie=p.gc;e(p.ab==1),e(ie[0].hc==3),Io(ie[0],D,y,X,ee,G,Y),Wr(T,D,y,G,Y,q)}p.C=p.Ma=y}function wr(p,y,T,D,q,G,Y){var X=p.$/D,ee=p.$%D,ie=p.m,ge=p.s,Pe=T+p.$,Ie=Pe;q=T+D*q;var Ee=T+D*G,He=280+ge.ua,Me=p.Pb?X:16777216,ve=0<ge.ua?ge.Wa:null,be=ge.wc,Be=Pe<Ee?or(ge,ee,X):null;e(p.C<G),e(Ee<=q);var We=!1;e:for(;;){for(;We||Pe<Ee;){var qe=0;if(X>=Me){var ct=Pe-T;e((Me=p).Pb),Me.wd=Me.m,Me.xd=ct,0<Me.s.ua&&Fe(Me.s.Wa,Me.s.vb),Me=X+np}if(ee&be||(Be=or(ge,ee,X)),e(Be!=null),Be.Qb&&(y[Pe]=Be.qb,We=!0),!We)if(fe(ie),Be.jc){qe=ie,ct=y;var rt=Pe,wt=Be.pd[K(qe)&Or-1];e(Be.jc),256>wt.g?(ue(qe,qe.u+wt.g),ct[rt]=wt.value,qe=0):(ue(qe,qe.u+wt.g-256),e(256<=wt.value),qe=wt.value),qe==0&&(We=!0)}else qe=Kn(Be.G[0],Be.H[0],ie);if(ie.h)break;if(We||256>qe){if(!We)if(Be.nd)y[Pe]=(Be.qb|qe<<8)>>>0;else{if(fe(ie),We=Kn(Be.G[1],Be.H[1],ie),fe(ie),ct=Kn(Be.G[2],Be.H[2],ie),rt=Kn(Be.G[3],Be.H[3],ie),ie.h)break;y[Pe]=(rt<<24|We<<16|qe<<8|ct)>>>0}if(We=!1,++Pe,++ee>=D&&(ee=0,++X,Y!=null&&X<=G&&!(X%16)&&Y(p,X),ve!=null))for(;Ie<Pe;)qe=y[Ie++],ve.X[(506832829*qe&4294967295)>>>ve.Mb]=qe}else if(280>qe){if(qe=Pn(qe-256,ie),ct=Kn(Be.G[4],Be.H[4],ie),fe(ie),ct=Ln(D,ct=Pn(ct,ie)),ie.h)break;if(Pe-T<ct||q-Pe<qe)break e;for(rt=0;rt<qe;++rt)y[Pe+rt]=y[Pe+rt-ct];for(Pe+=qe,ee+=qe;ee>=D;)ee-=D,++X,Y!=null&&X<=G&&!(X%16)&&Y(p,X);if(e(Pe<=q),ee&be&&(Be=or(ge,ee,X)),ve!=null)for(;Ie<Pe;)qe=y[Ie++],ve.X[(506832829*qe&4294967295)>>>ve.Mb]=qe}else{if(!(qe<He))break e;for(We=qe-280,e(ve!=null);Ie<Pe;)qe=y[Ie++],ve.X[(506832829*qe&4294967295)>>>ve.Mb]=qe;qe=Pe,e(!(We>>>(ct=ve).Xa)),y[qe]=ct.X[We],We=!0}We||e(ie.h==te(ie))}if(p.Pb&&ie.h&&Pe<q)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Fe(p.s.vb,p.s.Wa);else{if(ie.h)break e;Y!=null&&Y(p,X>G?G:X),p.a=0,p.$=Pe-T}return 1}return p.a=3,0}function Lr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,e(p!=null)}function Hn(){var p=new fu;return p==null?null:(p.a=0,p.xb=bu,di("Predictor","VP8LPredictors"),di("Predictor","VP8LPredictors_C"),di("PredictorAdd","VP8LPredictorsAdd"),di("PredictorAdd","VP8LPredictorsAdd_C"),nh=gt,Ro=dt,Ii=lt,oi=ar,Po=Jt,Yi=ti,Ya=en,L.VP8LMapColor32b=$r,L.VP8LMapColor8b=bc,p)}function xn(p,y,T,D,q){var G=1,Y=[p],X=[y],ee=D.m,ie=D.s,ge=null,Pe=0;e:for(;;){if(T)for(;G&&Q(ee,1);){var Ie=Y,Ee=X,He=D,Me=1,ve=He.m,be=He.gc[He.ab],Be=Q(ve,2);if(He.Oc&1<<Be)G=0;else{switch(He.Oc|=1<<Be,be.hc=Be,be.Ea=Ie[0],be.nc=Ee[0],be.K=[null],++He.ab,e(4>=He.ab),Be){case 0:case 1:be.b=Q(ve,3)+2,Me=xn(ft(be.Ea,be.b),ft(be.nc,be.b),0,He,be.K),be.K=be.K[0];break;case 3:var We,qe=Q(ve,8)+1,ct=16<qe?0:4<qe?1:2<qe?2:3;if(Ie[0]=ft(be.Ea,ct),be.b=ct,We=Me=xn(qe,1,0,He,be.K)){var rt,wt=qe,at=be,gn=1<<(8>>at.b),En=s(gn);if(En==null)We=0;else{var Zt=at.K[0],Qt=at.w;for(En[0]=at.K[0][0],rt=1;rt<1*wt;++rt)En[rt]=Ze(Zt[Qt+rt],En[rt-1]);for(;rt<4*gn;++rt)En[rt]=0;at.K[0]=null,at.K[0]=En,We=1}}Me=We;break;case 2:break;default:e(0)}G=Me}}if(Y=Y[0],X=X[0],G&&Q(ee,1)&&!(G=1<=(Pe=Q(ee,4))&&11>=Pe)){D.a=3;break e}var jn;if(jn=G)t:{var Nn,Wt,Vn,Et=D,Mt=Y,mn=X,vn=Pe,Qr=T,Fr=Et.m,gr=Et.s,vr=[null],Tr=1,Ra=0,Cn=Nl[vn];n:for(;;){if(Qr&&Q(Fr,1)){var Er=Q(Fr,3)+2,Xa=ft(Mt,Er),qo=ft(mn,Er),Rl=Xa*qo;if(!xn(Xa,qo,0,Et,vr))break n;for(vr=vr[0],gr.xc=Er,Nn=0;Nn<Rl;++Nn){var zo=vr[Nn]>>8&65535;vr[Nn]=zo,zo>=Tr&&(Tr=zo+1)}}if(Fr.h)break n;for(Wt=0;5>Wt;++Wt){var Zn=da[Wt];!Wt&&0<vn&&(Zn+=1<<vn),Ra<Zn&&(Ra=Zn)}var Ec=l(Tr*Cn,O),ch=Tr,Pi=l(ch,se);if(Pi==null)var rr=null;else e(65536>=ch),rr=Pi;var Pl=s(Ra);if(rr==null||Pl==null||Ec==null){Et.a=1;break n}var Ho=Ec;for(Nn=Vn=0;Nn<Tr;++Nn){var Qi=rr[Nn],Wo=Qi.G,Xi=Qi.H,Nc=0,wu=1,hh=0;for(Wt=0;5>Wt;++Wt){Zn=da[Wt],Wo[Wt]=Ho,Xi[Wt]=Vn,!Wt&&0<vn&&(Zn+=1<<vn);i:{var Cc,fh=Zn,Ic=Et,Su=Pl,lp=Ho,up=Vn,Rc=0,to=Ic.m,a0=Q(to,1);if(i(Su,0,0,fh),a0){var cp=Q(to,1)+1,hp=Q(to,1),Af=Q(to,hp==0?1:8);Su[Af]=1,cp==2&&(Su[Af=Q(to,8)]=1);var xu=1}else{var Tf=s(19),Ef=Q(to,4)+4;if(19<Ef){Ic.a=3;var Pc=0;break i}for(Cc=0;Cc<Ef;++Cc)Tf[Qs[Cc]]=Q(to,3);var dh=void 0,Au=void 0,fp=Ic,dp=Tf,no=fh,Lc=Su,ph=0,Ja=fp.m,Tu=8,Nf=l(128,O);r:for(;P(Nf,0,7,dp,19);){if(Q(Ja,1)){var pp=2+2*Q(Ja,3);if((dh=2+Q(Ja,pp))>no)break r}else dh=no;for(Au=0;Au<no&&dh--;){fe(Ja);var Cf=Nf[0+(127&K(Ja))];ue(Ja,Ja.u+Cf.g);var Ll=Cf.value;if(16>Ll)Lc[Au++]=Ll,Ll!=0&&(Tu=Ll);else{var mp=Ll==16,If=Ll-16,Rf=Ia[If],Pf=Q(Ja,ah[If])+Rf;if(Au+Pf>no)break r;for(var gp=mp?Tu:0;0<Pf--;)Lc[Au++]=gp}}ph=1;break r}ph||(fp.a=3),xu=ph}(xu=xu&&!to.h)&&(Rc=P(lp,up,8,Su,fh)),xu&&Rc!=0?Pc=Rc:(Ic.a=3,Pc=0)}if(Pc==0)break n;if(wu&&El[Wt]==1&&(wu=Ho[Vn].g==0),Nc+=Ho[Vn].g,Vn+=Pc,3>=Wt){var Dl,mh=Pl[0];for(Dl=1;Dl<Zn;++Dl)Pl[Dl]>mh&&(mh=Pl[Dl]);hh+=mh}}if(Qi.nd=wu,Qi.Qb=0,wu&&(Qi.qb=(Wo[3][Xi[3]+0].value<<24|Wo[1][Xi[1]+0].value<<16|Wo[2][Xi[2]+0].value)>>>0,Nc==0&&256>Wo[0][Xi[0]+0].value&&(Qi.Qb=1,Qi.qb+=Wo[0][Xi[0]+0].value<<8)),Qi.jc=!Qi.Qb&&6>hh,Qi.jc){var Dc,ro=Qi;for(Dc=0;Dc<Or;++Dc){var Cs=Dc,io=ro.pd[Cs],Oc=ro.G[0][ro.H[0]+Cs];256<=Oc.value?(io.g=Oc.g+256,io.value=Oc.value):(io.g=0,io.value=0,Cs>>=nr(Oc,8,io),Cs>>=nr(ro.G[1][ro.H[1]+Cs],16,io),Cs>>=nr(ro.G[2][ro.H[2]+Cs],0,io),nr(ro.G[3][ro.H[3]+Cs],24,io))}}}gr.vc=vr,gr.Wb=Tr,gr.Ya=rr,gr.yc=Ec,jn=1;break t}jn=0}if(!(G=jn)){D.a=3;break e}if(0<Pe){if(ie.ua=1<<Pe,!_t(ie.Wa,Pe)){D.a=1,G=0;break e}}else ie.ua=0;var kc=D,Lf=Y,vp=X,Df=kc.s,Of=Df.xc;if(kc.c=Lf,kc.i=vp,Df.md=ft(Lf,Of),Df.wc=Of==0?-1:(1<<Of)-1,T){D.xb=ip;break e}if((ge=s(Y*X))==null){D.a=1,G=0;break e}G=(G=wr(D,ge,0,Y,X,X,null))&&!ee.h;break e}return G?(q!=null?q[0]=ge:(e(ge==null),e(T)),D.$=0,T||Lr(ie)):Lr(ie),G}function Ma(p,y){var T=p.c*p.i,D=T+y+16*y;return e(p.c<=y),p.V=s(D),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+T+y,1)}function Fa(p,y){var T=p.C,D=y-T,q=p.V,G=p.Ba+p.c*T;for(e(y<=p.l.o);0<D;){var Y=16<D?16:D,X=p.l.ma,ee=p.l.width,ie=ee*Y,ge=X.ca,Pe=X.tb+ee*T,Ie=p.Ta,Ee=p.Ua;_r(p,Y,q,G),Gn(Ie,Ee,ge,Pe,ie),Wr(X,T,T+Y,ge,Pe,ee),D-=Y,q+=Y*p.c,T+=Y}e(T==y),p.C=p.Ma=y}function pi(){this.ub=this.yd=this.td=this.Rb=0}function Ui(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function js(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function cl(){this.Yb=function(){var p=[];return function y(T,D,q){for(var G=q[D],Y=0;Y<G&&(T.push(q.length>D+1?[]:0),!(q.length<D+1));Y++)y(T[Y],D+1,q)}(p,0,[3,11]),p}()}function Ms(){this.jb=s(3),this.Wc=h([4,8],cl),this.Xc=h([4,17],cl)}function su(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ua(){this.ld=this.La=this.dd=this.tc=0}function ca(){this.Na=this.la=0}function Dr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Va(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ou(){this.uc=this.M=this.Nb=0,this.wa=Array(new ua),this.Y=0,this.ya=Array(new Va),this.aa=0,this.l=new Ba}function va(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bo(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new pi,this.Kc=new Ui,this.ed=new su,this.Qa=new js,this.Ic=this.$c=this.Aa=0,this.D=new ou,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,xe),this.ia=0,this.pb=l(4,Dr),this.Pa=new Ms,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new va),this.Hd=0,this.rb=Array(new ca),this.sb=0,this.wa=Array(new ua),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Va),this.L=this.aa=0,this.gd=h([4,2],ua),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ba(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hl(){var p=new bo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,kr||(kr=lu)),p}function Wn(p,y,T){return p.a==0&&(p.a=y,p.sc=T,p.cb=0),0}function Gr(p,y,T){return 3<=T&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function _o(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return Wn(p,2,"null VP8Io passed to VP8GetHeaders()");var T=y.data,D=y.w,q=y.ha;if(4>q)return Wn(p,7,"Truncated header.");var G=T[D+0]|T[D+1]<<8|T[D+2]<<16,Y=p.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return Wn(p,3,"Incorrect keyframe parameters.");if(!Y.yd)return Wn(p,4,"Frame not displayable.");D+=3,q-=3;var X=p.Kc;if(Y.Rb){if(7>q)return Wn(p,7,"cannot parse picture header");if(!Gr(T,D,q))return Wn(p,3,"Bad code word");X.c=16383&(T[D+4]<<8|T[D+3]),X.Td=T[D+4]>>6,X.i=16383&(T[D+6]<<8|T[D+5]),X.Ud=T[D+6]>>6,D+=7,q-=7,p.za=X.c+15>>4,p.Ub=X.i+15>>4,y.width=X.c,y.height=X.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(Y.ub>q)return Wn(p,7,"bad partition length");Se(G=p.m,T,D,Y.ub),D+=Y.ub,q-=Y.ub,Y.Rb&&(X.Ld=Te(G),X.Kd=Te(G)),X=p.Qa;var ee,ie=p.Pa;if(e(G!=null),e(X!=null),X.Cb=Te(G),X.Cb){if(X.Bb=Te(G),Te(G)){for(X.Fb=Te(G),ee=0;4>ee;++ee)X.Zb[ee]=Te(G)?le(G,7):0;for(ee=0;4>ee;++ee)X.Lb[ee]=Te(G)?le(G,6):0}if(X.Bb)for(ee=0;3>ee;++ee)ie.jb[ee]=Te(G)?re(G,8):255}else X.Bb=0;if(G.Ka)return Wn(p,3,"cannot parse segment header");if((X=p.ed).zd=Te(G),X.Tb=re(G,6),X.wb=re(G,3),X.Pc=Te(G),X.Pc&&Te(G)){for(ie=0;4>ie;++ie)Te(G)&&(X.vd[ie]=le(G,6));for(ie=0;4>ie;++ie)Te(G)&&(X.od[ie]=le(G,6))}if(p.L=X.Tb==0?0:X.zd?1:2,G.Ka)return Wn(p,3,"cannot parse filter header");var ge=q;if(q=ee=D,D=ee+ge,X=ge,p.Xb=(1<<re(p.m,2))-1,ge<3*(ie=p.Xb))T=7;else{for(ee+=3*ie,X-=3*ie,ge=0;ge<ie;++ge){var Pe=T[q+0]|T[q+1]<<8|T[q+2]<<16;Pe>X&&(Pe=X),Se(p.Jc[+ge],T,ee,Pe),ee+=Pe,X-=Pe,q+=3}Se(p.Jc[+ie],T,ee,X),T=ee<D?0:5}if(T!=0)return Wn(p,T,"cannot parse partitions");for(T=re(ee=p.m,7),q=Te(ee)?le(ee,4):0,D=Te(ee)?le(ee,4):0,X=Te(ee)?le(ee,4):0,ie=Te(ee)?le(ee,4):0,ee=Te(ee)?le(ee,4):0,ge=p.Qa,Pe=0;4>Pe;++Pe){if(ge.Cb){var Ie=ge.Zb[Pe];ge.Fb||(Ie+=T)}else{if(0<Pe){p.pb[Pe]=p.pb[0];continue}Ie=T}var Ee=p.pb[Pe];Ee.Sc[0]=Sc[Tn(Ie+q,127)],Ee.Sc[1]=xc[Tn(Ie+0,127)],Ee.Eb[0]=2*Sc[Tn(Ie+D,127)],Ee.Eb[1]=101581*xc[Tn(Ie+X,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=Sc[Tn(Ie+ie,117)],Ee.Qc[1]=xc[Tn(Ie+ee,127)],Ee.lc=Ie+ee}if(!Y.Rb)return Wn(p,4,"Not a key frame.");for(Te(G),Y=p.Pa,T=0;4>T;++T){for(q=0;8>q;++q)for(D=0;3>D;++D)for(X=0;11>X;++X)ie=Le(G,Cl[T][q][D][X])?re(G,8):As[T][q][D][X],Y.Wc[T][q].Yb[D][X]=ie;for(q=0;17>q;++q)Y.Xc[T][q]=Y.Wc[T][rp[q]]}return p.kc=Te(G),p.kc&&(p.Bd=re(G,8)),p.cb=1}function lu(p,y,T,D,q,G,Y){var X=y[q].Yb[T];for(T=0;16>q;++q){if(!Le(p,X[T+0]))return q;for(;!Le(p,X[T+1]);)if(X=y[++q].Yb[0],T=0,q==16)return 16;var ee=y[q+1].Yb;if(Le(p,X[T+2])){var ie=p,ge=0;if(Le(ie,(Ie=X)[(Pe=T)+3]))if(Le(ie,Ie[Pe+6])){for(X=0,Pe=2*(ge=Le(ie,Ie[Pe+8]))+(Ie=Le(ie,Ie[Pe+9+ge])),ge=0,Ie=cr[Pe];Ie[X];++X)ge+=ge+Le(ie,Ie[X]);ge+=3+(8<<Pe)}else Le(ie,Ie[Pe+7])?(ge=7+2*Le(ie,165),ge+=Le(ie,145)):ge=5+Le(ie,159);else ge=Le(ie,Ie[Pe+4])?3+Le(ie,Ie[Pe+5]):2;X=ee[2]}else ge=1,X=ee[1];ee=Y+Sn[q],0>(ie=p).b&&Ne(ie);var Pe,Ie=ie.b,Ee=(Pe=ie.Ca>>1)-(ie.I>>Ie)>>31;--ie.b,ie.Ca+=Ee,ie.Ca|=1,ie.I-=(Pe+1&Ee)<<Ie,G[ee]=((ge^Ee)-Ee)*D[(0<q)+0]}return 16}function us(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function fl(p,y){if(p==null)return 0;if(y==null)return Wn(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!_o(p,y))return 0;if(e(p.cb),y.ac==null||y.ac(y)){y.ob&&(p.L=0);var T=eo[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=y.v-T>>4,p.zb=y.j-T>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=y.o+15+T>>4,p.Hb=y.va+15+T>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var D=p.ed;for(T=0;4>T;++T){var q;if(p.Qa.Cb){var G=p.Qa.Lb[T];p.Qa.Fb||(G+=D.Tb)}else G=D.Tb;for(q=0;1>=q;++q){var Y=p.gd[T][q],X=G;if(D.Pc&&(X+=D.vd[0],q&&(X+=D.od[0])),0<(X=0>X?0:63<X?63:X)){var ee=X;0<D.wb&&(ee=4<D.wb?ee>>2:ee>>1)>9-D.wb&&(ee=9-D.wb),1>ee&&(ee=1),Y.dd=ee,Y.tc=2*X+ee,Y.ld=40<=X?2:15<=X?1:0}else Y.tc=0;Y.La=q}}}T=0}else Wn(p,6,"Frame setup failed"),T=p.a;if(T=T==0){if(T){p.$c=0,0<p.Aa||(p.Ic=sp);e:{T=p.Ic,D=4*(ee=p.za);var ie=32*ee,ge=ee+1,Pe=0<p.L?ee*(0<p.Aa?2:1):0,Ie=(p.Aa==2?2:1)*ee;if((Y=D+832+(q=3*(16*T+eo[p.L])/2*ie)+(G=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=Y)T=0;else{if(Y>p.Vb){if(p.Vb=0,p.Ec=s(Y),p.Fc=0,p.Ec==null){T=Wn(p,1,"no memory during frame initialization.");break e}p.Vb=Y}Y=p.Ec,X=p.Fc,p.Ac=Y,p.Bc=X,X+=D,p.Gd=l(ie,va),p.Hd=0,p.rb=l(ge+1,ca),p.sb=1,p.wa=Pe?l(Pe,ua):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=ee),e(!0),p.oc=Y,p.pc=X,X+=832,p.ya=l(Ie,Va),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=ee),p.R=16*ee,p.B=8*ee,ee=(ie=eo[p.L])*p.R,ie=ie/2*p.B,p.sa=Y,p.ta=X+ee,p.qa=p.sa,p.ra=p.ta+16*T*p.R+ie,p.Ha=p.qa,p.Ia=p.ra+8*T*p.B+ie,p.$c=0,X+=q,p.mb=G?Y:null,p.nb=G?X:null,e(X+G<=p.Fc+p.Vb),us(p),i(p.Ac,p.Bc,0,D),T=1}}if(T){if(y.ka=0,y.y=p.sa,y.O=p.ta,y.f=p.qa,y.N=p.ra,y.ea=p.Ha,y.Vd=p.Ia,y.fa=p.R,y.Rc=p.B,y.F=null,y.J=0,!$s){for(T=-255;255>=T;++T)mr[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)Na[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)jo[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)Mo[255+T]=0>T?0:255<T?255:T;$s=1}ws=qi,Ka=hs,Qa=ya,Ar=An,Ki=fs,lr=cs,wl=gs,Ss=Ga,mu=Ao,Lo=vl,Do=xo,Oo=Bs,Sl=Us,gu=vs,ko=ha,Gs=vi,xl=xr,ur=hu,Ri[0]=mi,Ri[1]=uu,Ri[2]=wa,Ri[3]=cu,Ri[4]=zi,Ri[5]=Sa,Ri[6]=Ci,Ri[7]=Hi,Ri[8]=Wa,Ri[9]=ds,Js[0]=ba,Js[1]=pl,Js[2]=qa,Js[3]=So,Js[4]=Fn,Js[5]=Ha,Js[6]=_a,pa[0]=xa,pa[1]=dl,pa[2]=ml,pa[3]=Wi,pa[4]=an,pa[5]=Sr,pa[6]=ps,T=1}else T=0}T&&(T=function(Ee,He){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var Me,ve=Ee.Jc[Ee.M&Ee.Xb],be=Ee.m,Be=Ee;for(Me=0;Me<Be.za;++Me){var We=be,qe=Be,ct=qe.Ac,rt=qe.Bc+4*Me,wt=qe.zc,at=qe.ya[qe.aa+Me];if(qe.Qa.Bb?at.$b=Le(We,qe.Pa.jb[0])?2+Le(We,qe.Pa.jb[2]):Le(We,qe.Pa.jb[1]):at.$b=0,qe.kc&&(at.Ad=Le(We,qe.Bd)),at.Za=!Le(We,145)+0,at.Za){var gn=at.Ob,En=0;for(qe=0;4>qe;++qe){var Zt,Qt=wt[0+qe];for(Zt=0;4>Zt;++Zt){Qt=wf[ct[rt+Zt]][Qt];for(var jn=Vo[Le(We,Qt[0])];0<jn;)jn=Vo[2*jn+Le(We,Qt[jn])];Qt=-jn,ct[rt+Zt]=Qt}r(gn,En,ct,rt,4),En+=4,wt[0+qe]=Qt}}else Qt=Le(We,156)?Le(We,128)?1:3:Le(We,163)?2:0,at.Ob[0]=Qt,i(ct,rt,Qt,4),i(wt,0,Qt,4);at.Dd=Le(We,142)?Le(We,114)?Le(We,183)?1:3:2:0}if(Be.m.Ka)return Wn(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(Be=ve,We=(be=Ee).rb[be.sb-1],ct=be.rb[be.sb+be.ja],Me=be.ya[be.aa+be.ja],rt=be.kc?Me.Ad:0)We.la=ct.la=0,Me.Za||(We.Na=ct.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Nn,Wt;if(We=ct,ct=Be,rt=be.Pa.Xc,wt=be.ya[be.aa+be.ja],at=be.pb[wt.$b],qe=wt.ad,gn=0,En=be.rb[be.sb-1],Qt=Zt=0,i(qe,gn,0,384),wt.Za)var Vn=0,Et=rt[3];else{jn=s(16);var Mt=We.Na+En.Na;if(Mt=kr(ct,rt[1],Mt,at.Eb,0,jn,0),We.Na=En.Na=(0<Mt)+0,1<Mt)ws(jn,0,qe,gn);else{var mn=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)qe[gn+jn]=mn}Vn=1,Et=rt[0]}var vn=15&We.la,Qr=15&En.la;for(jn=0;4>jn;++jn){var Fr=1&Qr;for(mn=Wt=0;4>mn;++mn)vn=vn>>1|(Fr=(Mt=kr(ct,Et,Mt=Fr+(1&vn),at.Sc,Vn,qe,gn))>Vn)<<7,Wt=Wt<<2|(3<Mt?3:1<Mt?2:qe[gn+0]!=0),gn+=16;vn>>=4,Qr=Qr>>1|Fr<<7,Zt=(Zt<<8|Wt)>>>0}for(Et=vn,Vn=Qr>>4,Nn=0;4>Nn;Nn+=2){for(Wt=0,vn=We.la>>4+Nn,Qr=En.la>>4+Nn,jn=0;2>jn;++jn){for(Fr=1&Qr,mn=0;2>mn;++mn)Mt=Fr+(1&vn),vn=vn>>1|(Fr=0<(Mt=kr(ct,rt[2],Mt,at.Qc,0,qe,gn)))<<3,Wt=Wt<<2|(3<Mt?3:1<Mt?2:qe[gn+0]!=0),gn+=16;vn>>=2,Qr=Qr>>1|Fr<<5}Qt|=Wt<<4*Nn,Et|=vn<<4<<Nn,Vn|=(240&Qr)<<Nn}We.la=Et,En.la=Vn,wt.Hc=Zt,wt.Gc=Qt,wt.ia=43690&Qt?0:at.ia,rt=!(Zt|Qt)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[Me.$b][Me.Za],be.wa[be.Y+be.ja].La|=!rt),Be.Ka)return Wn(Ee,7,"Premature end-of-file encountered.")}if(us(Ee),be=He,Be=1,Me=(ve=Ee).D,We=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Me.M=ve.M,Me.uc=We,Gi(ve,Me),Be=1,Me=(Wt=ve.D).Nb,We=(Qt=eo[ve.L])*ve.R,ct=Qt/2*ve.B,jn=16*Me*ve.R,mn=8*Me*ve.B,rt=ve.sa,wt=ve.ta-We+jn,at=ve.qa,qe=ve.ra-ct+mn,gn=ve.Ha,En=ve.Ia-ct+mn,Qr=(vn=Wt.M)==0,Zt=vn>=ve.Va-1,ve.Aa==2&&Gi(ve,Wt),Wt.uc)for(Fr=(Mt=ve).D.M,e(Mt.D.uc),Wt=Mt.yb;Wt<Mt.Hb;++Wt){Vn=Wt,Et=Fr;var gr=(vr=(Zn=Mt).D).Nb;Nn=Zn.R;var vr=vr.wa[vr.Y+Vn],Tr=Zn.sa,Ra=Zn.ta+16*gr*Nn+16*Vn,Cn=vr.dd,Er=vr.tc;if(Er!=0)if(e(3<=Er),Zn.L==1)0<Vn&&Gs(Tr,Ra,Nn,Er+4),vr.La&&ur(Tr,Ra,Nn,Er),0<Et&&ko(Tr,Ra,Nn,Er+4),vr.La&&xl(Tr,Ra,Nn,Er);else{var Xa=Zn.B,qo=Zn.qa,Rl=Zn.ra+8*gr*Xa+8*Vn,zo=Zn.Ha,Zn=Zn.Ia+8*gr*Xa+8*Vn;gr=vr.ld,0<Vn&&(Ss(Tr,Ra,Nn,Er+4,Cn,gr),Lo(qo,Rl,zo,Zn,Xa,Er+4,Cn,gr)),vr.La&&(Oo(Tr,Ra,Nn,Er,Cn,gr),gu(qo,Rl,zo,Zn,Xa,Er,Cn,gr)),0<Et&&(wl(Tr,Ra,Nn,Er+4,Cn,gr),mu(qo,Rl,zo,Zn,Xa,Er+4,Cn,gr)),vr.La&&(Do(Tr,Ra,Nn,Er,Cn,gr),Sl(qo,Rl,zo,Zn,Xa,Er,Cn,gr))}}if(ve.ia&&alert("todo:DitherRow"),be.put!=null){if(Wt=16*vn,vn=16*(vn+1),Qr?(be.y=ve.sa,be.O=ve.ta+jn,be.f=ve.qa,be.N=ve.ra+mn,be.ea=ve.Ha,be.W=ve.Ia+mn):(Wt-=Qt,be.y=rt,be.O=wt,be.f=at,be.N=qe,be.ea=gn,be.W=En),Zt||(vn-=Qt),vn>be.o&&(vn=be.o),be.F=null,be.J=null,ve.Fa!=null&&0<ve.Fa.length&&Wt<vn&&(be.J=Eo(ve,be,Wt,vn-Wt),be.F=ve.mb,be.F==null&&be.F.length==0)){Be=Wn(ve,3,"Could not decode alpha data.");break e}Wt<be.j&&(Qt=be.j-Wt,Wt=be.j,e(!(1&Qt)),be.O+=ve.R*Qt,be.N+=ve.B*(Qt>>1),be.W+=ve.B*(Qt>>1),be.F!=null&&(be.J+=be.width*Qt)),Wt<vn&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=Wt-be.j,be.U=be.va-be.v,be.T=vn-Wt,Be=be.put(be))}Me+1!=ve.Ic||Zt||(r(ve.sa,ve.ta-We,rt,wt+16*ve.R,We),r(ve.qa,ve.ra-ct,at,qe+8*ve.B,ct),r(ve.Ha,ve.Ia-ct,gn,En+8*ve.B,ct))}if(!Be)return Wn(Ee,6,"Output aborted.")}return 1}(p,y)),y.bc!=null&&y.bc(y),T&=1}return T?(p.cb=0,T):0}function ii(p,y,T,D,q){q=p[y+T+32*D]+(q>>3),p[y+T+32*D]=-256&q?0>q?0:255:q}function wo(p,y,T,D,q,G){ii(p,y,0,T,D+q),ii(p,y,1,T,D+G),ii(p,y,2,T,D-G),ii(p,y,3,T,D-q)}function pn(p){return(20091*p>>16)+p}function ai(p,y,T,D){var q,G=0,Y=s(16);for(q=0;4>q;++q){var X=p[y+0]+p[y+8],ee=p[y+0]-p[y+8],ie=(35468*p[y+4]>>16)-pn(p[y+12]),ge=pn(p[y+4])+(35468*p[y+12]>>16);Y[G+0]=X+ge,Y[G+1]=ee+ie,Y[G+2]=ee-ie,Y[G+3]=X-ge,G+=4,y++}for(q=G=0;4>q;++q)X=(p=Y[G+0]+4)+Y[G+8],ee=p-Y[G+8],ie=(35468*Y[G+4]>>16)-pn(Y[G+12]),ii(T,D,0,0,X+(ge=pn(Y[G+4])+(35468*Y[G+12]>>16))),ii(T,D,1,0,ee+ie),ii(T,D,2,0,ee-ie),ii(T,D,3,0,X-ge),G++,D+=32}function cs(p,y,T,D){var q=p[y+0]+4,G=35468*p[y+4]>>16,Y=pn(p[y+4]),X=35468*p[y+1]>>16;wo(T,D,0,q+Y,p=pn(p[y+1]),X),wo(T,D,1,q+G,p,X),wo(T,D,2,q-G,p,X),wo(T,D,3,q-Y,p,X)}function hs(p,y,T,D,q){ai(p,y,T,D),q&&ai(p,y+16,T,D+4)}function ya(p,y,T,D){Ka(p,y+0,T,D,1),Ka(p,y+32,T,D+128,1)}function An(p,y,T,D){var q;for(p=p[y+0]+4,q=0;4>q;++q)for(y=0;4>y;++y)ii(T,D,y,q,p)}function fs(p,y,T,D){p[y+0]&&Ar(p,y+0,T,D),p[y+16]&&Ar(p,y+16,T,D+4),p[y+32]&&Ar(p,y+32,T,D+128),p[y+48]&&Ar(p,y+48,T,D+128+4)}function qi(p,y,T,D){var q,G=s(16);for(q=0;4>q;++q){var Y=p[y+0+q]+p[y+12+q],X=p[y+4+q]+p[y+8+q],ee=p[y+4+q]-p[y+8+q],ie=p[y+0+q]-p[y+12+q];G[0+q]=Y+X,G[8+q]=Y-X,G[4+q]=ie+ee,G[12+q]=ie-ee}for(q=0;4>q;++q)Y=(p=G[0+4*q]+3)+G[3+4*q],X=G[1+4*q]+G[2+4*q],ee=G[1+4*q]-G[2+4*q],ie=p-G[3+4*q],T[D+0]=Y+X>>3,T[D+16]=ie+ee>>3,T[D+32]=Y-X>>3,T[D+48]=ie-ee>>3,D+=64}function Ua(p,y,T){var D,q=y-32,G=Yr,Y=255-p[q-1];for(D=0;D<T;++D){var X,ee=G,ie=Y+p[y-1];for(X=0;X<T;++X)p[y+X]=ee[ie+p[q+X]];y+=32}}function uu(p,y){Ua(p,y,4)}function dl(p,y){Ua(p,y,8)}function pl(p,y){Ua(p,y,16)}function qa(p,y){var T;for(T=0;16>T;++T)r(p,y+32*T,p,y-32,16)}function So(p,y){var T;for(T=16;0<T;--T)i(p,y,p[y-1],16),y+=32}function za(p,y,T){var D;for(D=0;16>D;++D)i(y,T+32*D,p,16)}function ba(p,y){var T,D=16;for(T=0;16>T;++T)D+=p[y-1+32*T]+p[y+T-32];za(D>>5,p,y)}function Fn(p,y){var T,D=8;for(T=0;16>T;++T)D+=p[y-1+32*T];za(D>>4,p,y)}function Ha(p,y){var T,D=8;for(T=0;16>T;++T)D+=p[y+T-32];za(D>>4,p,y)}function _a(p,y){za(128,p,y)}function Pt(p,y,T){return p+2*y+T+2>>2}function wa(p,y){var T,D=y-32;for(D=new Uint8Array([Pt(p[D-1],p[D+0],p[D+1]),Pt(p[D+0],p[D+1],p[D+2]),Pt(p[D+1],p[D+2],p[D+3]),Pt(p[D+2],p[D+3],p[D+4])]),T=0;4>T;++T)r(p,y+32*T,D,0,D.length)}function cu(p,y){var T=p[y-1],D=p[y-1+32],q=p[y-1+64],G=p[y-1+96];Je(p,y+0,16843009*Pt(p[y-1-32],T,D)),Je(p,y+32,16843009*Pt(T,D,q)),Je(p,y+64,16843009*Pt(D,q,G)),Je(p,y+96,16843009*Pt(q,G,G))}function mi(p,y){var T,D=4;for(T=0;4>T;++T)D+=p[y+T-32]+p[y-1+32*T];for(D>>=3,T=0;4>T;++T)i(p,y+32*T,D,4)}function zi(p,y){var T=p[y-1+0],D=p[y-1+32],q=p[y-1+64],G=p[y-1-32],Y=p[y+0-32],X=p[y+1-32],ee=p[y+2-32],ie=p[y+3-32];p[y+0+96]=Pt(D,q,p[y-1+96]),p[y+1+96]=p[y+0+64]=Pt(T,D,q),p[y+2+96]=p[y+1+64]=p[y+0+32]=Pt(G,T,D),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=Pt(Y,G,T),p[y+3+64]=p[y+2+32]=p[y+1+0]=Pt(X,Y,G),p[y+3+32]=p[y+2+0]=Pt(ee,X,Y),p[y+3+0]=Pt(ie,ee,X)}function Ci(p,y){var T=p[y+1-32],D=p[y+2-32],q=p[y+3-32],G=p[y+4-32],Y=p[y+5-32],X=p[y+6-32],ee=p[y+7-32];p[y+0+0]=Pt(p[y+0-32],T,D),p[y+1+0]=p[y+0+32]=Pt(T,D,q),p[y+2+0]=p[y+1+32]=p[y+0+64]=Pt(D,q,G),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=Pt(q,G,Y),p[y+3+32]=p[y+2+64]=p[y+1+96]=Pt(G,Y,X),p[y+3+64]=p[y+2+96]=Pt(Y,X,ee),p[y+3+96]=Pt(X,ee,ee)}function Sa(p,y){var T=p[y-1+0],D=p[y-1+32],q=p[y-1+64],G=p[y-1-32],Y=p[y+0-32],X=p[y+1-32],ee=p[y+2-32],ie=p[y+3-32];p[y+0+0]=p[y+1+64]=G+Y+1>>1,p[y+1+0]=p[y+2+64]=Y+X+1>>1,p[y+2+0]=p[y+3+64]=X+ee+1>>1,p[y+3+0]=ee+ie+1>>1,p[y+0+96]=Pt(q,D,T),p[y+0+64]=Pt(D,T,G),p[y+0+32]=p[y+1+96]=Pt(T,G,Y),p[y+1+32]=p[y+2+96]=Pt(G,Y,X),p[y+2+32]=p[y+3+96]=Pt(Y,X,ee),p[y+3+32]=Pt(X,ee,ie)}function Hi(p,y){var T=p[y+0-32],D=p[y+1-32],q=p[y+2-32],G=p[y+3-32],Y=p[y+4-32],X=p[y+5-32],ee=p[y+6-32],ie=p[y+7-32];p[y+0+0]=T+D+1>>1,p[y+1+0]=p[y+0+64]=D+q+1>>1,p[y+2+0]=p[y+1+64]=q+G+1>>1,p[y+3+0]=p[y+2+64]=G+Y+1>>1,p[y+0+32]=Pt(T,D,q),p[y+1+32]=p[y+0+96]=Pt(D,q,G),p[y+2+32]=p[y+1+96]=Pt(q,G,Y),p[y+3+32]=p[y+2+96]=Pt(G,Y,X),p[y+3+64]=Pt(Y,X,ee),p[y+3+96]=Pt(X,ee,ie)}function ds(p,y){var T=p[y-1+0],D=p[y-1+32],q=p[y-1+64],G=p[y-1+96];p[y+0+0]=T+D+1>>1,p[y+2+0]=p[y+0+32]=D+q+1>>1,p[y+2+32]=p[y+0+64]=q+G+1>>1,p[y+1+0]=Pt(T,D,q),p[y+3+0]=p[y+1+32]=Pt(D,q,G),p[y+3+32]=p[y+1+64]=Pt(q,G,G),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=G}function Wa(p,y){var T=p[y-1+0],D=p[y-1+32],q=p[y-1+64],G=p[y-1+96],Y=p[y-1-32],X=p[y+0-32],ee=p[y+1-32],ie=p[y+2-32];p[y+0+0]=p[y+2+32]=T+Y+1>>1,p[y+0+32]=p[y+2+64]=D+T+1>>1,p[y+0+64]=p[y+2+96]=q+D+1>>1,p[y+0+96]=G+q+1>>1,p[y+3+0]=Pt(X,ee,ie),p[y+2+0]=Pt(Y,X,ee),p[y+1+0]=p[y+3+32]=Pt(T,Y,X),p[y+1+32]=p[y+3+64]=Pt(D,T,Y),p[y+1+64]=p[y+3+96]=Pt(q,D,T),p[y+1+96]=Pt(G,q,D)}function ml(p,y){var T;for(T=0;8>T;++T)r(p,y+32*T,p,y-32,8)}function Wi(p,y){var T;for(T=0;8>T;++T)i(p,y,p[y-1],8),y+=32}function gi(p,y,T){var D;for(D=0;8>D;++D)i(y,T+32*D,p,8)}function xa(p,y){var T,D=8;for(T=0;8>T;++T)D+=p[y+T-32]+p[y-1+32*T];gi(D>>4,p,y)}function Sr(p,y){var T,D=4;for(T=0;8>T;++T)D+=p[y+T-32];gi(D>>3,p,y)}function an(p,y){var T,D=4;for(T=0;8>T;++T)D+=p[y-1+32*T];gi(D>>3,p,y)}function ps(p,y){gi(128,p,y)}function Aa(p,y,T){var D=p[y-T],q=p[y+0],G=3*(q-D)+rh[1020+p[y-2*T]-p[y+T]],Y=Al[112+(G+4>>3)];p[y-T]=Yr[255+D+Al[112+(G+3>>3)]],p[y+0]=Yr[255+q-Y]}function gl(p,y,T,D){var q=p[y+0],G=p[y+T];return Ca[255+p[y-2*T]-p[y-T]]>D||Ca[255+G-q]>D}function Fs(p,y,T,D){return 4*Ca[255+p[y-T]-p[y+0]]+Ca[255+p[y-2*T]-p[y+T]]<=D}function Vs(p,y,T,D,q){var G=p[y-3*T],Y=p[y-2*T],X=p[y-T],ee=p[y+0],ie=p[y+T],ge=p[y+2*T],Pe=p[y+3*T];return 4*Ca[255+X-ee]+Ca[255+Y-ie]>D?0:Ca[255+p[y-4*T]-G]<=q&&Ca[255+G-Y]<=q&&Ca[255+Y-X]<=q&&Ca[255+Pe-ge]<=q&&Ca[255+ge-ie]<=q&&Ca[255+ie-ee]<=q}function ha(p,y,T,D){var q=2*D+1;for(D=0;16>D;++D)Fs(p,y+D,T,q)&&Aa(p,y+D,T)}function vi(p,y,T,D){var q=2*D+1;for(D=0;16>D;++D)Fs(p,y+D*T,1,q)&&Aa(p,y+D*T,1)}function xr(p,y,T,D){var q;for(q=3;0<q;--q)ha(p,y+=4*T,T,D)}function hu(p,y,T,D){var q;for(q=3;0<q;--q)vi(p,y+=4,T,D)}function ms(p,y,T,D,q,G,Y,X){for(G=2*G+1;0<q--;){if(Vs(p,y,T,G,Y))if(gl(p,y,T,X))Aa(p,y,T);else{var ee=p,ie=y,ge=T,Pe=ee[ie-2*ge],Ie=ee[ie-ge],Ee=ee[ie+0],He=ee[ie+ge],Me=ee[ie+2*ge],ve=27*(Be=rh[1020+3*(Ee-Ie)+rh[1020+Pe-He]])+63>>7,be=18*Be+63>>7,Be=9*Be+63>>7;ee[ie-3*ge]=Yr[255+ee[ie-3*ge]+Be],ee[ie-2*ge]=Yr[255+Pe+be],ee[ie-ge]=Yr[255+Ie+ve],ee[ie+0]=Yr[255+Ee-ve],ee[ie+ge]=Yr[255+He-be],ee[ie+2*ge]=Yr[255+Me-Be]}y+=D}}function si(p,y,T,D,q,G,Y,X){for(G=2*G+1;0<q--;){if(Vs(p,y,T,G,Y))if(gl(p,y,T,X))Aa(p,y,T);else{var ee=p,ie=y,ge=T,Pe=ee[ie-ge],Ie=ee[ie+0],Ee=ee[ie+ge],He=Al[112+((Me=3*(Ie-Pe))+4>>3)],Me=Al[112+(Me+3>>3)],ve=He+1>>1;ee[ie-2*ge]=Yr[255+ee[ie-2*ge]+ve],ee[ie-ge]=Yr[255+Pe+Me],ee[ie+0]=Yr[255+Ie-He],ee[ie+ge]=Yr[255+Ee-ve]}y+=D}}function gs(p,y,T,D,q,G){ms(p,y,T,1,16,D,q,G)}function Ga(p,y,T,D,q,G){ms(p,y,1,T,16,D,q,G)}function xo(p,y,T,D,q,G){var Y;for(Y=3;0<Y;--Y)si(p,y+=4*T,T,1,16,D,q,G)}function Bs(p,y,T,D,q,G){var Y;for(Y=3;0<Y;--Y)si(p,y+=4,1,T,16,D,q,G)}function Ao(p,y,T,D,q,G,Y,X){ms(p,y,q,1,8,G,Y,X),ms(T,D,q,1,8,G,Y,X)}function vl(p,y,T,D,q,G,Y,X){ms(p,y,1,q,8,G,Y,X),ms(T,D,1,q,8,G,Y,X)}function Us(p,y,T,D,q,G,Y,X){si(p,y+4*q,q,1,8,G,Y,X),si(T,D+4*q,q,1,8,G,Y,X)}function vs(p,y,T,D,q,G,Y,X){si(p,y+4,1,q,8,G,Y,X),si(T,D+4,1,q,8,G,Y,X)}function qs(){this.ba=new Rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function To(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ys(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new O}function fu(){this.xb=this.a=0,this.l=new Ba,this.ca=new Rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ys,this.ab=0,this.gc=l(4,zs),this.Oc=0}function $a(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ba,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bs(p,y,T,D,q,G,Y){for(p=p==null?0:p[y+0],y=0;y<Y;++y)q[G+y]=p+T[D+y]&255,p=q[G+y]}function Hs(p,y,T,D,q,G,Y){var X;if(p==null)bs(null,null,T,D,q,G,Y);else for(X=0;X<Y;++X)q[G+X]=p[y+X]+T[D+X]&255}function yi(p,y,T,D,q,G,Y){if(p==null)bs(null,null,T,D,q,G,Y);else{var X,ee=p[y+0],ie=ee,ge=ee;for(X=0;X<Y;++X)ie=ge+(ee=p[y+X])-ie,ge=T[D+X]+(-256&ie?0>ie?0:255:ie)&255,ie=ee,q[G+X]=ge}}function Eo(p,y,T,D){var q=y.width,G=y.o;if(e(p!=null&&y!=null),0>T||0>=D||T+D>G)return null;if(!p.Cc){if(p.ga==null){var Y;if(p.ga=new $a,(Y=p.ga==null)||(Y=y.width*y.o,e(p.Gb.length==0),p.Gb=s(Y),p.Uc=0,p.Gb==null?Y=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Y=1),Y=!Y),!Y){Y=p.ga;var X=p.Fa,ee=p.P,ie=p.qc,ge=p.mb,Pe=p.nb,Ie=ee+1,Ee=ie-1,He=Y.l;if(e(X!=null&&ge!=null&&y!=null),Ts[0]=null,Ts[1]=bs,Ts[2]=Hs,Ts[3]=yi,Y.ca=ge,Y.tb=Pe,Y.c=y.width,Y.i=y.height,e(0<Y.c&&0<Y.i),1>=ie)y=0;else if(Y.$a=X[ee+0]>>0&3,Y.Z=X[ee+0]>>2&3,Y.Lc=X[ee+0]>>4&3,ee=X[ee+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||ee)y=0;else if(He.put=ri,He.ac=sr,He.bc=la,He.ma=Y,He.width=y.width,He.height=y.height,He.Da=y.Da,He.v=y.v,He.va=y.va,He.j=y.j,He.o=y.o,Y.$a)e:{e(Y.$a==1),y=Hn();t:for(;;){if(y==null){y=0;break e}if(e(Y!=null),Y.mc=y,y.c=Y.c,y.i=Y.i,y.l=Y.l,y.l.ma=Y,y.l.width=Y.c,y.l.height=Y.i,y.a=0,he(y.m,X,Ie,Ee),!xn(Y.c,Y.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Ni(y.s)?(Y.ic=1,X=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(X),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(Y.ic=0,y=Ma(y,Y.c)),!y))break t;y=1;break e}Y.mc=null,y=0}else y=Ee>=Y.c*Y.i;Y=!y}if(Y)return null;p.ga.Lc!=1?p.Ga=0:D=G-T}e(p.ga!=null),e(T+D<=G);e:{if(y=(X=p.ga).c,G=X.l.o,X.$a==0){if(Ie=p.rc,Ee=p.Vc,He=p.Fa,ee=p.P+1+T*y,ie=p.mb,ge=p.nb+T*y,e(ee<=p.P+p.qc),X.Z!=0)for(e(Ts[X.Z]!=null),Y=0;Y<D;++Y)Ts[X.Z](Ie,Ee,He,ee,ie,ge,y),Ie=ie,Ee=ge,ge+=y,ee+=y;else for(Y=0;Y<D;++Y)r(ie,ge,He,ee,y),Ie=ie,Ee=ge,ge+=y,ee+=y;p.rc=Ie,p.Vc=Ee}else{if(e(X.mc!=null),y=T+D,e((Y=X.mc)!=null),e(y<=Y.i),Y.C>=y)y=1;else if(X.ic||Ae(),X.ic){X=Y.V,Ie=Y.Ba,Ee=Y.c;var Me=Y.i,ve=(He=1,ee=Y.$/Ee,ie=Y.$%Ee,ge=Y.m,Pe=Y.s,Y.$),be=Ee*Me,Be=Ee*y,We=Pe.wc,qe=ve<Be?or(Pe,ie,ee):null;e(ve<=be),e(y<=Me),e(Ni(Pe));t:for(;;){for(;!ge.h&&ve<Be;){if(ie&We||(qe=or(Pe,ie,ee)),e(qe!=null),fe(ge),256>(Me=Kn(qe.G[0],qe.H[0],ge)))X[Ie+ve]=Me,++ve,++ie>=Ee&&(ie=0,++ee<=y&&!(ee%16)&&Pr(Y,ee));else{if(!(280>Me)){He=0;break t}Me=Pn(Me-256,ge);var ct,rt=Kn(qe.G[4],qe.H[4],ge);if(fe(ge),!(ve>=(rt=Ln(Ee,rt=Pn(rt,ge)))&&be-ve>=Me)){He=0;break t}for(ct=0;ct<Me;++ct)X[Ie+ve+ct]=X[Ie+ve+ct-rt];for(ve+=Me,ie+=Me;ie>=Ee;)ie-=Ee,++ee<=y&&!(ee%16)&&Pr(Y,ee);ve<Be&&ie&We&&(qe=or(Pe,ie,ee))}e(ge.h==te(ge))}Pr(Y,ee>y?y:ee);break t}!He||ge.h&&ve<be?(He=0,Y.a=ge.h?5:3):Y.$=ve,y=He}else y=wr(Y,Y.V,Y.Ba,Y.c,Y.i,y,Fa);if(!y){D=0;break e}}T+D>=G&&(p.Cc=1),D=1}if(!D)return null;if(p.Cc&&((D=p.ga)!=null&&(D.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+T*q}function x(p,y,T,D,q,G){for(;0<q--;){var Y,X=p,ee=y+(T?1:0),ie=p,ge=y+(T?0:3);for(Y=0;Y<D;++Y){var Pe=ie[ge+4*Y];Pe!=255&&(Pe*=32897,X[ee+4*Y+0]=X[ee+4*Y+0]*Pe>>23,X[ee+4*Y+1]=X[ee+4*Y+1]*Pe>>23,X[ee+4*Y+2]=X[ee+4*Y+2]*Pe>>23)}y+=G}}function z(p,y,T,D,q){for(;0<D--;){var G;for(G=0;G<T;++G){var Y=p[y+2*G+0],X=15&(ie=p[y+2*G+1]),ee=4369*X,ie=(240&ie|ie>>4)*ee>>16;p[y+2*G+0]=(240&Y|Y>>4)*ee>>16&240|(15&Y|Y<<4)*ee>>16>>4&15,p[y+2*G+1]=240&ie|X}y+=q}}function oe(p,y,T,D,q,G,Y,X){var ee,ie,ge=255;for(ie=0;ie<q;++ie){for(ee=0;ee<D;++ee){var Pe=p[y+ee];G[Y+4*ee]=Pe,ge&=Pe}y+=T,Y+=X}return ge!=255}function me(p,y,T,D,q){var G;for(G=0;G<q;++G)T[D+G]=p[y+G]>>8}function Ae(){fa=x,tn=z,nn=oe,Gn=me}function Ve(p,y,T){L[p]=function(D,q,G,Y,X,ee,ie,ge,Pe,Ie,Ee,He,Me,ve,be,Be,We){var qe,ct=We-1>>1,rt=X[ee+0]|ie[ge+0]<<16,wt=Pe[Ie+0]|Ee[He+0]<<16;e(D!=null);var at=3*rt+wt+131074>>2;for(y(D[q+0],255&at,at>>16,Me,ve),G!=null&&(at=3*wt+rt+131074>>2,y(G[Y+0],255&at,at>>16,be,Be)),qe=1;qe<=ct;++qe){var gn=X[ee+qe]|ie[ge+qe]<<16,En=Pe[Ie+qe]|Ee[He+qe]<<16,Zt=rt+gn+wt+En+524296,Qt=Zt+2*(gn+wt)>>3;at=Qt+rt>>1,rt=(Zt=Zt+2*(rt+En)>>3)+gn>>1,y(D[q+2*qe-1],255&at,at>>16,Me,ve+(2*qe-1)*T),y(D[q+2*qe-0],255&rt,rt>>16,Me,ve+(2*qe-0)*T),G!=null&&(at=Zt+wt>>1,rt=Qt+En>>1,y(G[Y+2*qe-1],255&at,at>>16,be,Be+(2*qe-1)*T),y(G[Y+2*qe+0],255&rt,rt>>16,be,Be+(2*qe+0)*T)),rt=gn,wt=En}1&We||(at=3*rt+wt+131074>>2,y(D[q+We-1],255&at,at>>16,Me,ve+(We-1)*T),G!=null&&(at=3*wt+rt+131074>>2,y(G[Y+We-1],255&at,at>>16,be,Be+(We-1)*T)))}}function Ye(){Kr[bi]=Zs,Kr[vu]=Es,Kr[xs]=Bo,Kr[_c]=sh,Kr[Tl]=oh,Kr[Ys]=_u,Kr[ih]=lh,Kr[wc]=Es,Kr[Fo]=sh,Kr[Ks]=oh,Kr[yu]=_u}function it(p){return p&-16384?0>p?0:255:p>>n0}function m(p,y){return it((19077*p>>8)+(26149*y>>8)-14234)}function N(p,y,T){return it((19077*p>>8)-(6419*y>>8)-(13320*T>>8)+8708)}function k(p,y){return it((19077*p>>8)+(33050*y>>8)-17685)}function J(p,y,T,D,q){D[q+0]=m(p,T),D[q+1]=N(p,y,T),D[q+2]=k(p,y)}function we(p,y,T,D,q){D[q+0]=k(p,y),D[q+1]=N(p,y,T),D[q+2]=m(p,T)}function De(p,y,T,D,q){var G=N(p,y,T);y=G<<3&224|k(p,y)>>3,D[q+0]=248&m(p,T)|G>>5,D[q+1]=y}function Xe(p,y,T,D,q){var G=240&k(p,y)|15;D[q+0]=240&m(p,T)|N(p,y,T)>>4,D[q+1]=G}function Lt(p,y,T,D,q){D[q+0]=255,J(p,y,T,D,q+1)}function sn(p,y,T,D,q){we(p,y,T,D,q),D[q+3]=255}function Ht(p,y,T,D,q){J(p,y,T,D,q),D[q+3]=255}function Tn(p,y){return 0>p?0:p>y?y:p}function kn(p,y,T){L[p]=function(D,q,G,Y,X,ee,ie,ge,Pe){for(var Ie=ge+(-2&Pe)*T;ge!=Ie;)y(D[q+0],G[Y+0],X[ee+0],ie,ge),y(D[q+1],G[Y+0],X[ee+0],ie,ge+T),q+=2,++Y,++ee,ge+=2*T;1&Pe&&y(D[q+0],G[Y+0],X[ee+0],ie,ge)}}function Ta(p,y,T){return T==0?p==0?y==0?6:5:y==0?4:0:T}function pr(p,y,T,D,q){switch(p>>>30){case 3:Ka(y,T,D,q,0);break;case 2:lr(y,T,D,q);break;case 1:Ar(y,T,D,q)}}function Gi(p,y){var T,D,q=y.M,G=y.Nb,Y=p.oc,X=p.pc+40,ee=p.oc,ie=p.pc+584,ge=p.oc,Pe=p.pc+600;for(T=0;16>T;++T)Y[X+32*T-1]=129;for(T=0;8>T;++T)ee[ie+32*T-1]=129,ge[Pe+32*T-1]=129;for(0<q?Y[X-1-32]=ee[ie-1-32]=ge[Pe-1-32]=129:(i(Y,X-32-1,127,21),i(ee,ie-32-1,127,9),i(ge,Pe-32-1,127,9)),D=0;D<p.za;++D){var Ie=y.ya[y.aa+D];if(0<D){for(T=-1;16>T;++T)r(Y,X+32*T-4,Y,X+32*T+12,4);for(T=-1;8>T;++T)r(ee,ie+32*T-4,ee,ie+32*T+4,4),r(ge,Pe+32*T-4,ge,Pe+32*T+4,4)}var Ee=p.Gd,He=p.Hd+D,Me=Ie.ad,ve=Ie.Hc;if(0<q&&(r(Y,X-32,Ee[He].y,0,16),r(ee,ie-32,Ee[He].f,0,8),r(ge,Pe-32,Ee[He].ea,0,8)),Ie.Za){var be=Y,Be=X-32+16;for(0<q&&(D>=p.za-1?i(be,Be,Ee[He].y[15],4):r(be,Be,Ee[He+1].y,0,4)),T=0;4>T;T++)be[Be+128+T]=be[Be+256+T]=be[Be+384+T]=be[Be+0+T];for(T=0;16>T;++T,ve<<=2)be=Y,Be=X+Il[T],Ri[Ie.Ob[T]](be,Be),pr(ve,Me,16*+T,be,Be)}else if(be=Ta(D,q,Ie.Ob[0]),Js[be](Y,X),ve!=0)for(T=0;16>T;++T,ve<<=2)pr(ve,Me,16*+T,Y,X+Il[T]);for(T=Ie.Gc,be=Ta(D,q,Ie.Dd),pa[be](ee,ie),pa[be](ge,Pe),ve=Me,be=ee,Be=ie,255&(Ie=T>>0)&&(170&Ie?Qa(ve,256,be,Be):Ki(ve,256,be,Be)),Ie=ge,ve=Pe,255&(T>>=8)&&(170&T?Qa(Me,320,Ie,ve):Ki(Me,320,Ie,ve)),q<p.Ub-1&&(r(Ee[He].y,0,Y,X+480,16),r(Ee[He].f,0,ee,ie+224,8),r(Ee[He].ea,0,ge,Pe+224,8)),T=8*G*p.B,Ee=p.sa,He=p.ta+16*D+16*G*p.R,Me=p.qa,Ie=p.ra+8*D+T,ve=p.Ha,be=p.Ia+8*D+T,T=0;16>T;++T)r(Ee,He+T*p.R,Y,X+32*T,16);for(T=0;8>T;++T)r(Me,Ie+T*p.B,ee,ie+32*T,8),r(ve,be+T*p.B,ge,Pe+32*T,8)}}function _s(p,y,T,D,q,G,Y,X,ee){var ie=[0],ge=[0],Pe=0,Ie=ee!=null?ee.kd:0,Ee=ee??new To;if(p==null||12>T)return 7;Ee.data=p,Ee.w=y,Ee.ha=T,y=[y],T=[T],Ee.gb=[Ee.gb];e:{var He=y,Me=T,ve=Ee.gb;if(e(p!=null),e(Me!=null),e(ve!=null),ve[0]=0,12<=Me[0]&&!t(p,He[0],"RIFF")){if(t(p,He[0]+8,"WEBP")){ve=3;break e}var be=et(p,He[0]+4);if(12>be||4294967286<be){ve=3;break e}if(Ie&&be>Me[0]-8){ve=7;break e}ve[0]=be,He[0]+=12,Me[0]-=12}ve=0}if(ve!=0)return ve;for(be=0<Ee.gb[0],T=T[0];;){e:{var Be=p;Me=y,ve=T;var We=ie,qe=ge,ct=He=[0];if((at=Pe=[Pe])[0]=0,8>ve[0])ve=7;else{if(!t(Be,Me[0],"VP8X")){if(et(Be,Me[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var rt=et(Be,Me[0]+8),wt=1+nt(Be,Me[0]+12);if(2147483648<=wt*(Be=1+nt(Be,Me[0]+15))){ve=3;break e}ct!=null&&(ct[0]=rt),We!=null&&(We[0]=wt),qe!=null&&(qe[0]=Be),Me[0]+=18,ve[0]-=18,at[0]=1}ve=0}}if(Pe=Pe[0],He=He[0],ve!=0)return ve;if(Me=!!(2&He),!be&&Pe)return 3;if(G!=null&&(G[0]=!!(16&He)),Y!=null&&(Y[0]=Me),X!=null&&(X[0]=0),Y=ie[0],He=ge[0],Pe&&Me&&ee==null){ve=0;break}if(4>T){ve=7;break}if(be&&Pe||!be&&!Pe&&!t(p,y[0],"ALPH")){T=[T],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{rt=p,ve=y,be=T;var at=Ee.gb;We=Ee.na,qe=Ee.P,ct=Ee.Sa,wt=22,e(rt!=null),e(be!=null),Be=ve[0];var gn=be[0];for(e(We!=null),e(ct!=null),We[0]=null,qe[0]=null,ct[0]=0;;){if(ve[0]=Be,be[0]=gn,8>gn){ve=7;break e}var En=et(rt,Be+4);if(4294967286<En){ve=3;break e}var Zt=8+En+1&-2;if(wt+=Zt,0<at&&wt>at){ve=3;break e}if(!t(rt,Be,"VP8 ")||!t(rt,Be,"VP8L")){ve=0;break e}if(gn[0]<Zt){ve=7;break e}t(rt,Be,"ALPH")||(We[0]=rt,qe[0]=Be+8,ct[0]=En),Be+=Zt,gn-=Zt}}if(T=T[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],ve!=0)break}T=[T],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(at=p,ve=y,be=T,We=Ee.gb[0],qe=Ee.Ja,ct=Ee.xa,rt=ve[0],Be=!t(at,rt,"VP8 "),wt=!t(at,rt,"VP8L"),e(at!=null),e(be!=null),e(qe!=null),e(ct!=null),8>be[0])ve=7;else{if(Be||wt){if(at=et(at,rt+4),12<=We&&at>We-12){ve=3;break e}if(Ie&&at>be[0]-8){ve=7;break e}qe[0]=at,ve[0]+=8,be[0]-=8,ct[0]=wt}else ct[0]=5<=be[0]&&at[rt+0]==47&&!(at[rt+4]>>5),qe[0]=be[0];ve=0}if(T=T[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],y=y[0],ve!=0)break;if(4294967286<Ee.Ja)return 3;if(X==null||Me||(X[0]=Ee.xa?2:1),Y=[Y],He=[He],Ee.xa){if(5>T){ve=7;break}X=Y,Ie=He,Me=G,p==null||5>T?p=0:5<=T&&p[y+0]==47&&!(p[y+4]>>5)?(be=[0],at=[0],We=[0],he(qe=new M,p,y,T),ut(qe,be,at,We)?(X!=null&&(X[0]=be[0]),Ie!=null&&(Ie[0]=at[0]),Me!=null&&(Me[0]=We[0]),p=1):p=0):p=0}else{if(10>T){ve=7;break}X=He,p==null||10>T||!Gr(p,y+3,T-3)?p=0:(Ie=p[y+0]|p[y+1]<<8|p[y+2]<<16,Me=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Ee.Ja||!Me||!p?p=0:(Y&&(Y[0]=Me),X&&(X[0]=p),p=1))}if(!p||(Y=Y[0],He=He[0],Pe&&(ie[0]!=Y||ge[0]!=He)))return 3;ee!=null&&(ee[0]=Ee,ee.offset=y-ee.w,e(4294967286>y-ee.w),e(ee.offset==ee.ha-T));break}return ve==0||ve==7&&Pe&&ee==null?(G!=null&&(G[0]|=Ee.na!=null&&0<Ee.na.length),D!=null&&(D[0]=Y),q!=null&&(q[0]=He),0):ve}function No(p,y,T){var D=y.width,q=y.height,G=0,Y=0,X=D,ee=q;if(y.Da=p!=null&&0<p.Da,y.Da&&(X=p.cd,ee=p.bd,G=p.v,Y=p.j,11>T||(G&=-2,Y&=-2),0>G||0>Y||0>=X||0>=ee||G+X>D||Y+ee>q))return 0;if(y.v=G,y.j=Y,y.va=G+X,y.o=Y+ee,y.U=X,y.T=ee,y.da=p!=null&&0<p.da,y.da){if(!xt(X,ee,T=[p.ib],G=[p.hb]))return 0;y.ib=T[0],y.hb=G[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*D/4&&y.hb<3*q/4,y.Kb=0),1}function du(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function yl(p,y,T,D){if(D==null||0>=p||0>=y)return 2;if(T!=null){if(T.Da){var q=T.cd,G=T.bd,Y=-2&T.v,X=-2&T.j;if(0>Y||0>X||0>=q||0>=G||Y+q>p||X+G>y)return 2;p=q,y=G}if(T.da){if(!xt(p,y,q=[T.ib],G=[T.hb]))return 2;p=q[0],y=G[0]}}D.width=p,D.height=y;e:{var ee=D.width,ie=D.height;if(p=D.S,0>=ee||0>=ie||!(p>=bi&&13>p))p=2;else{if(0>=D.Rd&&D.sd==null){Y=G=q=y=0;var ge=(X=ee*op[p])*ie;if(11>p||(G=(ie+1)/2*(y=(ee+1)/2),p==12&&(Y=(q=ee)*ie)),(ie=s(ge+2*G+Y))==null){p=1;break e}D.sd=ie,11>p?((ee=D.f.RGBA).eb=ie,ee.fb=0,ee.A=X,ee.size=ge):((ee=D.f.kb).y=ie,ee.O=0,ee.fa=X,ee.Fd=ge,ee.f=ie,ee.N=0+ge,ee.Ab=y,ee.Cd=G,ee.ea=ie,ee.W=0+ge+G,ee.Db=y,ee.Ed=G,p==12&&(ee.F=ie,ee.J=0+ge+2*G),ee.Tc=Y,ee.lb=q)}if(y=1,q=D.S,G=D.width,Y=D.height,q>=bi&&13>q)if(11>q)p=D.f.RGBA,y&=(X=Math.abs(p.A))*(Y-1)+G<=p.size,y&=X>=G*op[q],y&=p.eb!=null;else{p=D.f.kb,X=(G+1)/2,ge=(Y+1)/2,ee=Math.abs(p.fa),ie=Math.abs(p.Ab);var Pe=Math.abs(p.Db),Ie=Math.abs(p.lb),Ee=Ie*(Y-1)+G;y&=ee*(Y-1)+G<=p.Fd,y&=ie*(ge-1)+X<=p.Cd,y=(y&=Pe*(ge-1)+X<=p.Ed)&ee>=G&ie>=X&Pe>=X,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,q==12&&(y&=Ie>=G,y&=Ee<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||T!=null&&T.fd&&(p=du(D)),p}var Or=64,Co=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bl=24,_l=32,pu=8,$i=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(p){return p},L.Predictor2=function(p,y,T){return y[T+0]},L.Predictor3=function(p,y,T){return y[T+1]},L.Predictor4=function(p,y,T){return y[T-1]},L.Predictor5=function(p,y,T){return ot(ot(p,y[T+1]),y[T+0])},L.Predictor6=function(p,y,T){return ot(p,y[T-1])},L.Predictor7=function(p,y,T){return ot(p,y[T+0])},L.Predictor8=function(p,y,T){return ot(y[T-1],y[T+0])},L.Predictor9=function(p,y,T){return ot(y[T+0],y[T+1])},L.Predictor10=function(p,y,T){return ot(ot(p,y[T-1]),ot(y[T+0],y[T+1]))},L.Predictor11=function(p,y,T){var D=y[T+0];return 0>=zt(D>>24&255,p>>24&255,(y=y[T-1])>>24&255)+zt(D>>16&255,p>>16&255,y>>16&255)+zt(D>>8&255,p>>8&255,y>>8&255)+zt(255&D,255&p,255&y)?D:p},L.Predictor12=function(p,y,T){var D=y[T+0];return(vt((p>>24&255)+(D>>24&255)-((y=y[T-1])>>24&255))<<24|vt((p>>16&255)+(D>>16&255)-(y>>16&255))<<16|vt((p>>8&255)+(D>>8&255)-(y>>8&255))<<8|vt((255&p)+(255&D)-(255&y)))>>>0},L.Predictor13=function(p,y,T){var D=y[T-1];return(Ot((p=ot(p,y[T+0]))>>24&255,D>>24&255)<<24|Ot(p>>16&255,D>>16&255)<<16|Ot(p>>8&255,D>>8&255)<<8|Ot(p>>0&255,D>>0&255))>>>0};var _f=L.PredictorAdd0;L.PredictorAdd1=bt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var yc=L.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var nh,Ea=L.ColorIndexInverseTransform,$r=L.MapARGB,Io=L.VP8LColorIndexInverseTransformAlpha,bc=L.MapAlpha,Ws=L.VP8LPredictorsAdd=[];Ws.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Ro,Ii,oi,Po,Yi,Ya,ws,Ka,lr,Qa,Ar,Ki,wl,Ss,mu,Lo,Do,Oo,Sl,gu,ko,Gs,xl,ur,fa,tn,nn,Gn,mr=s(511),Na=s(2041),jo=s(225),Mo=s(767),$s=0,rh=Na,Al=jo,Yr=Mo,Ca=mr,bi=0,vu=1,xs=2,_c=3,Tl=4,Ys=5,ih=6,wc=7,Fo=8,Ks=9,yu=10,ah=[2,3,7],Ia=[3,3,11],da=[280,256,256,256,40],El=[0,1,1,1,0],Qs=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],np=8,Sc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kr=null,cr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Sn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],As=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Js=[],Ri=[],pa=[],ip=1,bu=2,Ts=[],Kr=[];Ve("UpsampleRgbLinePair",J,3),Ve("UpsampleBgrLinePair",we,3),Ve("UpsampleRgbaLinePair",Ht,4),Ve("UpsampleBgraLinePair",sn,4),Ve("UpsampleArgbLinePair",Lt,4),Ve("UpsampleRgba4444LinePair",Xe,2),Ve("UpsampleRgb565LinePair",De,2);var Zs=L.UpsampleRgbLinePair,Bo=L.UpsampleBgrLinePair,Es=L.UpsampleRgbaLinePair,sh=L.UpsampleBgraLinePair,oh=L.UpsampleArgbLinePair,_u=L.UpsampleRgba4444LinePair,lh=L.UpsampleRgb565LinePair,Ns=16,jr=1<<Ns-1,Uo=-227,uh=482,n0=6,ap=0,r0=s(256),Mr=s(256),Sf=s(256),Ac=s(256),Tc=s(uh-Uo),xf=s(uh-Uo);kn("YuvToRgbRow",J,3),kn("YuvToBgrRow",we,3),kn("YuvToRgbaRow",Ht,4),kn("YuvToBgraRow",sn,4),kn("YuvToArgbRow",Lt,4),kn("YuvToRgba4444Row",Xe,2),kn("YuvToRgb565Row",De,2);var Il=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],eo=[0,2,8],i0=[8,7,6,4,4,2,2,2,1,1,1,1],sp=1;this.WebPDecodeRGBA=function(p,y,T,D,q){var G=vu,Y=new qs,X=new Rr;Y.ba=X,X.S=G,X.width=[X.width],X.height=[X.height];var ee=X.width,ie=X.height,ge=new ni;if(ge==null||p==null)var Pe=2;else e(ge!=null),Pe=_s(p,y,T,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Pe!=0?ee=0:(ee!=null&&(ee[0]=ge.width[0]),ie!=null&&(ie[0]=ge.height[0]),ee=1),ee){X.width=X.width[0],X.height=X.height[0],D!=null&&(D[0]=X.width),q!=null&&(q[0]=X.height);e:{if(D=new Ba,(q=new To).data=p,q.w=y,q.ha=T,q.kd=1,y=[0],e(q!=null),((p=_s(q.data,q.w,q.ha,null,null,null,y,null,q))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(e(Y!=null),D.data=q.data,D.w=q.w+q.offset,D.ha=q.ha-q.offset,D.put=ri,D.ac=sr,D.bc=la,D.ma=Y,q.xa){if((p=Hn())==null){Y=1;break e}if(function(Ie,Ee){var He=[0],Me=[0],ve=[0];t:for(;;){if(Ie==null)return 0;if(Ee==null)return Ie.a=2,0;if(Ie.l=Ee,Ie.a=0,he(Ie.m,Ee.data,Ee.w,Ee.ha),!ut(Ie.m,He,Me,ve)){Ie.a=3;break t}if(Ie.xb=bu,Ee.width=He[0],Ee.height=Me[0],!xn(He[0],Me[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(p,D)){if(D=(y=yl(D.width,D.height,Y.Oa,Y.ba))==0){t:{D=p;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((q=T.ma)!=null),D.xb!=0){if(D.ca=q.ba,D.tb=q.tb,e(D.ca!=null),!No(q.Oa,T,_c)){D.a=2;break n}if(!Ma(D,T.width)||T.da)break n;if((T.da||cn(D.ca.S))&&Ae(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Ae()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!_t(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!wr(D,D.V,D.Ba,D.c,D.i,T.o,ks))break n;q.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(y=p.a)}else y=p.a}else{if((p=new hl)==null){Y=1;break e}if(p.Fa=q.na,p.P=q.P,p.qc=q.Sa,_o(p,D)){if((y=yl(D.width,D.height,Y.Oa,Y.ba))==0){if(p.Aa=0,T=Y.Oa,e((q=p)!=null),T!=null){if(0<(ee=0>(ee=T.Md)?0:100<ee?255:255*ee/100)){for(ie=ge=0;4>ie;++ie)12>(Pe=q.pb[ie]).lc&&(Pe.ia=ee*i0[0>Pe.lc?0:Pe.lc]>>3),ge|=Pe.ia;ge&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=T.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}fl(p,D)||(y=p.a)}}else y=p.a}y==0&&Y.Oa!=null&&Y.Oa.fd&&(y=du(Y.ba))}Y=y}G=Y!=0?null:11>G?X.f.RGBA.eb:X.f.kb.y}else G=null;return G};var op=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,F){for(var W="",P=0;P<4;P++)W+=String.fromCharCode(L[F++]);return W}function g(L,F){return(L[F+0]<<0|L[F+1]<<8|L[F+2]<<16)>>>0}function b(L,F){return(L[F+0]<<0|L[F+1]<<8|L[F+2]<<16|L[F+3]<<24)>>>0}new c;var S=[0],_=[0],E=[],C=new c,R=n,I=function(L,F){var W={},P=0,O=!1,j=0,se=0;if(W.frames=[],!function(K,te,ue,fe){for(var Ne=0;Ne<fe;Ne++)if(K[te+Ne]!=ue.charCodeAt(Ne))return!0;return!1}(L,F,"RIFF",4)){for(b(L,F+=4),F+=8;F<L.length;){var Se=d(L,F),re=b(L,F+=4);F+=4;var le=re+(1&re);switch(Se){case"VP8 ":case"VP8L":W.frames[P]===void 0&&(W.frames[P]={}),(Q=W.frames[P]).src_off=O?se:F-8,Q.src_size=j+re+8,P++,O&&(O=!1,j=0,se=0);break;case"VP8X":(Q=W.header={}).feature_flags=L[F];var he=F+4;Q.canvas_width=1+g(L,he),he+=3,Q.canvas_height=1+g(L,he),he+=3;break;case"ALPH":O=!0,j=le+8,se=F-8;break;case"ANIM":(Q=W.header).bgcolor=b(L,F),he=F+4,Q.loop_count=(xe=L)[(M=he)+0]<<0|xe[M+1]<<8,he+=2;break;case"ANMF":var _e,Q;(Q=W.frames[P]={}).offset_x=2*g(L,F),F+=3,Q.offset_y=2*g(L,F),F+=3,Q.width=1+g(L,F),F+=3,Q.height=1+g(L,F),F+=3,Q.duration=g(L,F),F+=3,_e=L[F++],Q.dispose=1&_e,Q.blend=_e>>1&1}Se!="ANMF"&&(F+=le)}var xe,M;return W}}(R,0);I.response=R,I.rgbaoutput=!0,I.dataurl=!1;var B=I.header?I.header:null,H=I.frames?I.frames:null;if(B){B.loop_counter=B.loop_count,S=[B.canvas_height],_=[B.canvas_width];for(var ae=0;ae<H.length&&H[ae].blend!=0;ae++);}var $=H[0],ce=C.WebPDecodeRGBA(R,$.src_off,$.src_size,_,S);$.rgba=ce,$.imgwidth=_[0],$.imgheight=S[0];for(var U=0;U<_[0]*S[0]*4;U++)E[U]=ce[U];return this.width=_,this.height=S,this.data=E,this}(function(n){var e=function(){return typeof D1=="function"},t=function(S,_,E,C){var R=4,I=l;switch(C){case n.image_compression.FAST:R=1,I=s;break;case n.image_compression.MEDIUM:R=6,I=h;break;case n.image_compression.SLOW:R=9,I=c}S=r(S,_,E,I);var B=D1(S,{level:R});return n.__addimage__.arrayBufferToBinaryString(B)},r=function(S,_,E,C){for(var R,I,B,H=S.length/_,ae=new Uint8Array(S.length+H),$=g(),ce=0;ce<H;ce+=1){if(B=ce*_,R=S.subarray(B,B+_),C)ae.set(C(R,E,I),B+ce);else{for(var U,L=$.length,F=[];U<L;U+=1)F[U]=$[U](R,E,I);var W=b(F.concat());ae.set(F[W],B+ce)}I=R}return ae},i=function(S){var _=Array.apply([],S);return _.unshift(0),_},s=function(S,_){var E,C=[],R=S.length;C[0]=1;for(var I=0;I<R;I+=1)E=S[I-_]||0,C[I+1]=S[I]-E+256&255;return C},l=function(S,_,E){var C,R=[],I=S.length;R[0]=2;for(var B=0;B<I;B+=1)C=E&&E[B]||0,R[B+1]=S[B]-C+256&255;return R},h=function(S,_,E){var C,R,I=[],B=S.length;I[0]=3;for(var H=0;H<B;H+=1)C=S[H-_]||0,R=E&&E[H]||0,I[H+1]=S[H]+256-(C+R>>>1)&255;return I},c=function(S,_,E){var C,R,I,B,H=[],ae=S.length;H[0]=4;for(var $=0;$<ae;$+=1)C=S[$-_]||0,R=E&&E[$]||0,I=E&&E[$-_]||0,B=d(C,R,I),H[$+1]=S[$]-B+256&255;return H},d=function(S,_,E){if(S===_&&_===E)return S;var C=Math.abs(_-E),R=Math.abs(S-E),I=Math.abs(S+_-E-E);return C<=R&&C<=I?S:R<=I?_:E},g=function(){return[i,s,l,h,c]},b=function(S){var _=S.map(function(E){return E.reduce(function(C,R){return C+Math.abs(R)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(S,_,E,C){var R,I,B,H,ae,$,ce,U,L,F,W,P,O,j,se,Se=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){if(S=(B=new $k(S)).imgData,I=B.bits,R=B.colorSpace,ae=B.colors,[4,6].indexOf(B.colorType)!==-1){if(B.bits===8){L=(U=B.pixelBitlength==32?new Uint32Array(B.decodePixels().buffer):B.pixelBitlength==16?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,W=new Uint8Array(L*B.colors),F=new Uint8Array(L);var le,he=B.pixelBitlength-B.bits;for(j=0,se=0;j<L;j++){for(O=U[j],le=0;le<he;)W[se++]=O>>>le&255,le+=B.bits;F[j]=O>>>le&255}}if(B.bits===16){L=(U=new Uint32Array(B.decodePixels().buffer)).length,W=new Uint8Array(L*(32/B.pixelBitlength)*B.colors),F=new Uint8Array(L*(32/B.pixelBitlength)),P=B.colors>1,j=0,se=0;for(var _e=0;j<L;)O=U[j++],W[se++]=O>>>0&255,P&&(W[se++]=O>>>16&255,O=U[j++],W[se++]=O>>>0&255),F[_e++]=O>>>16&255;I=8}C!==n.image_compression.NONE&&e()?(S=t(W,B.width*B.colors,B.colors,C),ce=t(F,B.width,1,C)):(S=W,ce=F,Se=void 0)}if(B.colorType===3&&(R=this.color_spaces.INDEXED,$=B.palette,B.transparency.indexed)){var Q=B.transparency.indexed,xe=0;for(j=0,L=Q.length;j<L;++j)xe+=Q[j];if((xe/=255)===L-1&&Q.indexOf(0)!==-1)H=[Q.indexOf(0)];else if(xe!==L){for(U=B.decodePixels(),F=new Uint8Array(U.length),j=0,L=U.length;j<L;j++)F[j]=Q[U[j]];ce=t(F,B.width,1)}}var M=function(K){var te;switch(K){case n.image_compression.FAST:te=11;break;case n.image_compression.MEDIUM:te=13;break;case n.image_compression.SLOW:te=14;break;default:te=12}return te}(C);return Se===this.decode.FLATE_DECODE&&(re="/Predictor "+M+" "),re+="/Colors "+ae+" /BitsPerComponent "+I+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(ce&&this.__addimage__.isArrayBuffer(ce)||this.__addimage__.isArrayBufferView(ce))&&(ce=this.__addimage__.arrayBufferToBinaryString(ce)),{alias:E,data:S,index:_,filter:Se,decodeParameters:re,transparency:H,palette:$,sMask:ce,predictor:M,width:B.width,height:B.height,bitsPerComponent:I,colorSpace:R}}}})(It.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new Yk(e),l=s.width,h=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:h},g=new zv(100).encode(d,100);return n.processJPEG.call(this,g,t,r,i)},n.processGIF87A=n.processGIF89A}(It.API),lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Xn.log("bit decode error:"+t)}},lo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,h=0;h<8&&8*i+h<this.width;h++){var c=this.palette[s>>7-h&1];this.data[l+4*h]=c.blue,this.data[l+4*h+1]=c.green,this.data[l+4*h+2]=c.red,this.data[l+4*h+3]=255}t!==0&&(this.pos+=4-t)}},lo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,h=s>>4,c=15&s,d=this.palette[h];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},lo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},lo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,h=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,g=r*this.width*4+4*i;this.data[g]=c,this.data[g+1]=h,this.data[g+2]=l,this.data[g+3]=d}this.pos+=n}},lo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(l&e)/e*255|0,c=(l>>5&t)/t*255|0,d=(l>>11)/e*255|0,g=i*this.width*4+4*s;this.data[g]=d,this.data[g+1]=c,this.data[g+2]=h,this.data[g+3]=255}this.pos+=n}},lo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},lo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=s,this.data[h+1]=i,this.data[h+2]=r,this.data[h+3]=l}},lo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new lo(e,!1),l=s.width,h=s.height,c={data:s.getData(),width:l,height:h},d=new zv(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)}}(It.API),Gw.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new Gw(e),l=s.width,h=s.height,c={data:s.getData(),width:l,height:h},d=new zv(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)}}(It.API),It.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),h=0,c=0,d=0;d<i;d+=4){var g=r[d],b=r[d+1],S=r[d+2],_=r[d+3];s[h++]=g,s[h++]=b,s[h++]=S,l[c++]=_}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},It.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dh=It.API,gm=Dh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:i.metadata.Unicode.widths,c=h.fof?h.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=d.fof?d.fof:1,b=e.doKerning!==!1,S=0,_=n.length,E=0,C=h[0]||c,R=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(S=b&&_n(d[r])==="object"&&!isNaN(parseInt(d[r][E],10))?d[r][E]/g:0,R.push((h[r]||C)/c+S)),E=r;return R},qw=Dh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Dh.processArabic&&(n=Dh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:gm.apply(this,arguments).reduce(function(s,l){return s+l},0)},zw=function(n,e,t,r){for(var i=[],s=0,l=n.length,h=0;s!==l&&h+e[s]<t;)h+=e[s],s++;i.push(n.slice(0,s));var c=s;for(h=0;s!==l;)h+e[s]>r&&(i.push(n.slice(c,s)),h=0,c=s),h+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},Hw=function(n,e,t){t||(t={});var r,i,s,l,h,c,d,g=[],b=[g],S=t.textIndent||0,_=0,E=0,C=n.split(" "),R=gm.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?C[0].length+2:t.lineIndent||0){var I=Array(c).join(" "),B=[];C.map(function(ae){(ae=ae.split(/\s*\n/)).length>1?B=B.concat(ae.map(function($,ce){return(ce&&$.length?`
`:"")+$})):B.push(ae[0])}),C=B,c=qw.apply(this,[I,t])}for(s=0,l=C.length;s<l;s++){var H=0;if(r=C[s],c&&r[0]==`
`&&(r=r.substr(1),H=1),S+_+(E=(i=gm.apply(this,[r,t])).reduce(function(ae,$){return ae+$},0))>e||H){if(E>e){for(h=zw.apply(this,[r,i,e-(S+_),e]),g.push(h.shift()),g=[h.pop()];h.length;)b.push([h.shift()]);E=i.slice(r.length-(g[0]?g[0].length:0)).reduce(function(ae,$){return ae+$},0)}else g=[r];b.push(g),S=E+c,_=R}else g.push(r),S+=_+E,_=R}return d=c?function(ae,$){return($?I:"")+ae.join(" ")}:function(ae){return ae.join(" ")},b.map(d)},Dh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var h,c,d=[];for(h=0,c=r.length;h<c;h++)d=d.concat(Hw.apply(this,[r[h],l,s]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(b){return"0x"+parseInt(b,10).toString(16)},l=n.__fontmetrics__.compress=function(b){var S,_,E,C,R=["{"];for(var I in b){if(S=b[I],isNaN(parseInt(I,10))?_="'"+I+"'":(I=parseInt(I,10),_=(_=s(I).slice(2)).slice(0,-1)+r[_.slice(-1)]),typeof S=="number")S<0?(E=s(S).slice(3),C="-"):(E=s(S).slice(2),C=""),E=C+E.slice(0,-1)+r[E.slice(-1)];else{if(_n(S)!=="object")throw new Error("Don't know what to do with value type "+_n(S)+".");E=l(S)}R.push(_+E)}return R.push("}"),R.join("")},h=n.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,_,E,C,R={},I=1,B=R,H=[],ae="",$="",ce=b.length-1,U=1;U<ce;U+=1)(C=b[U])=="'"?S?(E=S.join(""),S=void 0):S=[]:S?S.push(C):C=="{"?(H.push([B,E]),B={},E=void 0):C=="}"?((_=H.pop())[0][_[1]]=B,E=void 0,B=_[0]):C=="-"?I=-1:E===void 0?t.hasOwnProperty(C)?(ae+=t[C],E=parseInt(ae,16)*I,I=1,ae=""):ae+=C:t.hasOwnProperty(C)?($+=t[C],B[E]=parseInt($,16)*I,I=1,E=void 0,$=""):$+=C;return R},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(b){var S=b.font,_=g.Unicode[S.postScriptName];_&&(S.metadata.Unicode={},S.metadata.Unicode.widths=_.widths,S.metadata.Unicode.kerning=_.kerning);var E=d.Unicode[S.postScriptName];E&&(S.metadata.Unicode.encoding=E,S.encoding=E.codePages[0])}])}(It.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(Td(h)),l.metadata=n.API.TTFFont.open(h),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])}(It),function(n){function e(){return(Ft.canvg?Promise.resolve(Ft.canvg):C1(()=>import("./index.es-CBSZOeDz.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}It.API.addSvgAsImage=function(t,r,i,s,l,h,c,d){if(isNaN(r)||isNaN(i))throw Xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw Xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=s,g.height=l;var b=g.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,g.width,g.height);var S={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(E){return E.fromString(b,t,S)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(S)}).then(function(){_.addImage(g.toDataURL("image/jpeg",1),r,i,s,l,c,d)})}}(),It.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},It.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(l),c=[],d=0,g=0,b=0;function S(E,C){var R,I=!1;for(R=0;R<E.length;R+=1)E[R]===C&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=h.length;for(b=0;b<_;b+=1)t[h[b]].value=t[h[b]].defaultValue,t[h[b]].explicitSet=!1}if(_n(n)==="object"){for(i in n)if(s=n[i],S(h,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&S(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(g=0;g<s[d].length;g+=1)typeof s[d][g]!="number"&&(r=!1);r===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,C=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?C.push("/"+E+" /"+t[E].value):C.push("/"+E+" "+t[E].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+l.length+h.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+h+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(It.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,l){for(var h,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],b=0,S=s.length;b<S;++b){if(h=l.metadata.characterToGlyph(s.charCodeAt(b)),l.metadata.glyIdsUsed.push(h),l.metadata.toUnicode[h]=s.charCodeAt(b),c.indexOf(h)==-1&&(c.push(h),c.push([parseInt(l.metadata.widthOfGlyph(h),10)])),h=="0")return g.join("");h=h.toString(16),g.push(d[4-h.length],h)}return g.join("")},r=function(s){var l,h,c,d,g,b,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],b=0,S=(h=Object.keys(s).sort(function(_,E){return _-E})).length;b<S;b++)l=h[b],c.length>=100&&(g+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(d=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(g+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var h=l.font,c=l.out,d=l.newObject,g=l.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var b=h.metadata.Unicode.widths,S=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",E=0;E<S.length;E++)_+=String.fromCharCode(S[E]);var C=d();g({data:_,addLength1:!0,objectId:C}),c("endobj");var R=d();g({data:r(h.metadata.toUnicode),addLength1:!0,objectId:R}),c("endobj");var I=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Vh(h.fontName)),c("/FontFile2 "+C+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),c("/Flags "+h.metadata.flags),c("/StemV "+h.metadata.stemV),c("/ItalicAngle "+h.metadata.italicAngle),c("/Ascent "+h.metadata.ascender),c("/Descent "+h.metadata.decender),c("/CapHeight "+h.metadata.capHeight),c(">>"),c("endobj");var B=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Vh(h.fontName)),c("/FontDescriptor "+I+" 0 R"),c("/W "+n.API.PDFObject.convert(b)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+h.encoding+")"),c(">>"),c(">>"),c("endobj"),h.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+R+" 0 R"),c("/BaseFont /"+Vh(h.fontName)),c("/Encoding /"+h.encoding),c("/DescendantFonts ["+B+" 0 R]"),c(">>"),c("endobj"),h.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var h=l.font,c=l.out,d=l.newObject,g=l.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var b=h.metadata.rawData,S="",_=0;_<b.length;_++)S+=String.fromCharCode(b[_]);var E=d();g({data:S,addLength1:!0,objectId:E}),c("endobj");var C=d();g({data:r(h.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var R=d();c("<<"),c("/Descent "+h.metadata.decender),c("/CapHeight "+h.metadata.capHeight),c("/StemV "+h.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),c("/FontName /"+Vh(h.fontName)),c("/ItalicAngle "+h.metadata.italicAngle),c("/Ascent "+h.metadata.ascender),c(">>"),c("endobj"),h.objectNumber=d();for(var I=0;I<h.metadata.hmtx.widths.length;I++)h.metadata.hmtx.widths[I]=parseInt(h.metadata.hmtx.widths[I]*(1e3/h.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Vh(h.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),c("endobj"),h.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,h=s.text||"",c=s.x,d=s.y,g=s.options||{},b=s.mutex||{},S=b.pdfEscape,_=b.activeFontKey,E=b.fonts,C=_,R="",I=0,B="",H=E[C].encoding;if(E[C].encoding!=="Identity-H")return{text:h,x:c,y:d,options:g,mutex:b};for(B=h,C=_,Array.isArray(h)&&(B=h[0]),I=0;I<B.length;I+=1)E[C].metadata.hasOwnProperty("cmap")&&(l=E[C].metadata.cmap.unicode.codeMap[B[I].charCodeAt(0)]),l||B[I].charCodeAt(0)<256&&E[C].metadata.hasOwnProperty("Unicode")?R+=B[I]:R+="";var ae="";return parseInt(C.slice(1))<14||H==="WinAnsiEncoding"?ae=S(R,C).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):H==="Identity-H"&&(ae=t(R,E[C])),b.isHex=!0,{text:ae,x:c,y:d,options:g,mutex:b}};e.events.push(["postProcessText",function(s){var l=s.text||"",h=[],c={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?h.push([i(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):h.push(i(Object.assign({},c,{text:l[d]})).text);s.text=h}else s.text=i(Object.assign({},c,{text:l})).text}])}(It),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(It.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,l,h,c,d,g,b=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,H=0;this.__bidiEngine__={};var ae=function(P){var O=P.charCodeAt(),j=O>>8,se=C[j];return se!==void 0?b[256*se+(255&O)]:j===252||j===253?"AL":I.test(j)?"L":j===8?"R":"N"},$=function(P){for(var O,j=0;j<P.length;j++){if((O=ae(P.charAt(j)))==="L")return!1;if(O==="R")return!0}return!1},ce=function(P,O,j,se){var Se,re,le,he,_e=O[se];switch(_e){case"L":case"R":B=!1;break;case"N":case"AN":break;case"EN":B&&(_e="AN");break;case"AL":B=!0,_e="R";break;case"WS":_e="N";break;case"CS":se<1||se+1>=O.length||(Se=j[se-1])!=="EN"&&Se!=="AN"||(re=O[se+1])!=="EN"&&re!=="AN"?_e="N":B&&(re="AN"),_e=re===Se?re:"N";break;case"ES":_e=(Se=se>0?j[se-1]:"B")==="EN"&&se+1<O.length&&O[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&j[se-1]==="EN"){_e="EN";break}if(B){_e="N";break}for(le=se+1,he=O.length;le<he&&O[le]==="ET";)le++;_e=le<he&&O[le]==="EN"?"EN":"N";break;case"NSM":if(l&&!h){for(he=O.length,le=se+1;le<he&&O[le]==="NSM";)le++;if(le<he){var Q=P[se],xe=Q>=1425&&Q<=2303||Q===64286;if(Se=O[le],xe&&(Se==="R"||Se==="AL")){_e="R";break}}}_e=se<1||(Se=O[se-1])==="B"?"N":j[se-1];break;case"B":B=!1,i=!0,_e=H;break;case"S":s=!0,_e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"BN":_e="N"}return _e},U=function(P,O,j){var se=P.split("");return j&&L(se,j,{hiLevel:H}),se.reverse(),O&&O.reverse(),se.join("")},L=function(P,O,j){var se,Se,re,le,he,_e=-1,Q=P.length,xe=0,M=[],K=H?_:S,te=[];for(B=!1,i=!1,s=!1,Se=0;Se<Q;Se++)te[Se]=ae(P[Se]);for(re=0;re<Q;re++){if(he=xe,M[re]=ce(P,te,M,re),se=240&(xe=K[he][E[M[re]]]),xe&=15,O[re]=le=K[xe][5],se>0)if(se===16){for(Se=_e;Se<re;Se++)O[Se]=1;_e=-1}else _e=-1;if(K[xe][6])_e===-1&&(_e=re);else if(_e>-1){for(Se=_e;Se<re;Se++)O[Se]=le;_e=-1}te[re]==="B"&&(O[re]=0),j.hiLevel|=le}s&&function(ue,fe,Ne){for(var Te=0;Te<Ne;Te++)if(ue[Te]==="S"){fe[Te]=H;for(var Le=Te-1;Le>=0&&ue[Le]==="WS";Le--)fe[Le]=H}}(te,O,Q)},F=function(P,O,j,se,Se){if(!(Se.hiLevel<P)){if(P===1&&H===1&&!i)return O.reverse(),void(j&&j.reverse());for(var re,le,he,_e,Q=O.length,xe=0;xe<Q;){if(se[xe]>=P){for(he=xe+1;he<Q&&se[he]>=P;)he++;for(_e=xe,le=he-1;_e<le;_e++,le--)re=O[_e],O[_e]=O[le],O[le]=re,j&&(re=j[_e],j[_e]=j[le],j[le]=re);xe=he}xe++}}},W=function(P,O,j){var se=P.split(""),Se={hiLevel:H};return j||(j=[]),L(se,j,Se),function(re,le,he){if(he.hiLevel!==0&&g)for(var _e,Q=0;Q<re.length;Q++)le[Q]===1&&(_e=R.indexOf(re[Q]))>=0&&(re[Q]=R[_e+1])}(se,j,Se),F(2,se,O,j,Se),F(1,se,O,j,Se),se.join("")};return this.__bidiEngine__.doBidiReorder=function(P,O,j){if(function(Se,re){if(re)for(var le=0;le<Se.length;le++)re[le]=le;h===void 0&&(h=$(Se)),d===void 0&&(d=$(Se))}(P,O),l||!c||d)if(l&&c&&h^d)H=h?1:0,P=U(P,O,j);else if(!l&&c&&d)H=h?1:0,P=W(P,O,j),P=U(P,O);else if(!l||h||c||d){if(l&&!c&&h^d)P=U(P,O),h?(H=0,P=W(P,O,j)):(H=1,P=W(P,O,j),P=U(P,O));else if(l&&h&&!c&&d)H=1,P=W(P,O,j),P=U(P,O);else if(!l&&!c&&h^d){var se=g;h?(H=1,P=W(P,O,j),H=0,g=!1,P=W(P,O,j),g=se):(H=0,P=W(P,O,j),P=U(P,O),H=1,g=!1,P=W(P,O,j),g=se,P=U(P,O))}}else H=0,P=W(P,O,j);else H=h?1:0,P=W(P,O,j);return P},this.__bidiEngine__.setOptions=function(P){P&&(l=P.isInputVisual,c=P.isOutputVisual,h=P.isInputRtl,d=P.isOutputRtl,g=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var h=0;for(l=[],h=0;h<i.length;h+=1)Object.prototype.toString.call(i[h])==="[object Array]"?l.push([t.doBidiReorder(i[h][0]),i[h][1],i[h][2]]):l.push([t.doBidiReorder(i[h])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(It),It.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new fc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new uj(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Kk(this.contents),this.head=new Xk(this),this.name=new nj(this),this.cmap=new Z4(this),this.toUnicode={},this.hhea=new Jk(this),this.maxp=new rj(this),this.hmtx=new ij(this),this.post=new ej(this),this.os2=new Zk(this),this.loca=new lj(this),this.glyf=new aj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,h,c,d;for(d=[],l=0,h=(c=this.bbox).length;l<h;l++)e=c[l],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,l,h;for(l=0,s=0,h=(e=""+e).length;0<=h?s<h:s>h;s=0<=h?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var yo,fc=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,l,h,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),h=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^h)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*l+256*h+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),Kk=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,l,h,c,d,g,b,S,_,E,C;for(C in _=Object.keys(t).length,c=Math.log(2),b=16*Math.floor(Math.log(_)/c),l=Math.floor(b/c),g=16*_-b,(i=new fc).writeInt(this.scalarType),i.writeShort(_),i.writeShort(b),i.writeShort(l),i.writeShort(g),s=16*_,d=i.pos+s,h=null,E=[],t)for(S=t[C],i.writeString(C),i.writeInt(n(S)),i.writeInt(d),i.writeInt(S.length),E=E.concat(S),C==="head"&&(h=d),d+=S.length;d%4;)E.push(0),d++;return i.write(E),r=2981146554-n(i.data),i.pos=h+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,l;for(t=e3.call(t);t.length%4;)t.push(0);for(s=new fc(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Qk={}.hasOwnProperty,ul=function(n,e){for(var t in e)Qk.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};yo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Xk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new fc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),$w=function(){function n(e,t){var r,i,s,l,h,c,d,g,b,S,_,E,C,R,I,B,H;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(_=e.readUInt16(),S=_/2,e.pos+=6,s=function(){var ae,$;for($=[],c=ae=0;0<=S?ae<S:ae>S;c=0<=S?++ae:--ae)$.push(e.readUInt16());return $}(),e.pos+=2,C=function(){var ae,$;for($=[],c=ae=0;0<=S?ae<S:ae>S;c=0<=S?++ae:--ae)$.push(e.readUInt16());return $}(),d=function(){var ae,$;for($=[],c=ae=0;0<=S?ae<S:ae>S;c=0<=S?++ae:--ae)$.push(e.readUInt16());return $}(),g=function(){var ae,$;for($=[],c=ae=0;0<=S?ae<S:ae>S;c=0<=S?++ae:--ae)$.push(e.readUInt16());return $}(),i=(this.length-e.pos+this.offset)/2,h=function(){var ae,$;for($=[],c=ae=0;0<=i?ae<i:ae>i;c=0<=i?++ae:--ae)$.push(e.readUInt16());return $}(),c=I=0,H=s.length;I<H;c=++I)for(R=s[c],r=B=E=C[c];E<=R?B<=R:B>=R;r=E<=R?++B:--B)g[c]===0?l=r+d[c]:(l=h[g[c]/2+(r-E)-(S-c)]||0)!==0&&(l+=d[c]),this.codeMap[r]=65535&l}e.pos=b}return n.encode=function(e,t){var r,i,s,l,h,c,d,g,b,S,_,E,C,R,I,B,H,ae,$,ce,U,L,F,W,P,O,j,se,Se,re,le,he,_e,Q,xe,M,K,te,ue,fe,Ne,Te,Le,Je,Qe,nt;switch(se=new fc,l=Object.keys(e).sort(function(et,_t){return et-_t}),t){case"macroman":for(C=0,R=function(){var et=[];for(E=0;E<256;++E)et.push(0);return et}(),B={0:0},s={},Se=0,_e=l.length;Se<_e;Se++)B[Le=e[i=l[Se]]]==null&&(B[Le]=++C),s[i]={old:e[i],new:B[e[i]]},R[i]=B[e[i]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(R),{charMap:s,subtable:se.data,maxGlyphID:C+1};case"unicode":for(O=[],b=[],H=0,B={},r={},I=d=null,re=0,Q=l.length;re<Q;re++)B[$=e[i=l[re]]]==null&&(B[$]=++H),r[i]={old:$,new:B[$]},h=B[$]-i,I!=null&&h===d||(I&&b.push(I),O.push(i),d=h),I=i;for(I&&b.push(I),b.push(65535),O.push(65535),W=2*(F=O.length),L=2*Math.pow(Math.log(F)/Math.LN2,2),S=Math.log(L/2)/Math.LN2,U=2*F-L,c=[],ce=[],_=[],E=le=0,xe=O.length;le<xe;E=++le){if(P=O[E],g=b[E],P===65535){c.push(0),ce.push(0);break}if(P-(j=r[P].new)>=32768)for(c.push(0),ce.push(2*(_.length+F-E)),i=he=P;P<=g?he<=g:he>=g;i=P<=g?++he:--he)_.push(r[i].new);else c.push(j-P),ce.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*F+2*_.length),se.writeUInt16(0),se.writeUInt16(W),se.writeUInt16(L),se.writeUInt16(S),se.writeUInt16(U),Ne=0,M=b.length;Ne<M;Ne++)i=b[Ne],se.writeUInt16(i);for(se.writeUInt16(0),Te=0,K=O.length;Te<K;Te++)i=O[Te],se.writeUInt16(i);for(Je=0,te=c.length;Je<te;Je++)h=c[Je],se.writeUInt16(h);for(Qe=0,ue=ce.length;Qe<ue;Qe++)ae=ce[Qe],se.writeUInt16(ae);for(nt=0,fe=_.length;nt<fe;nt++)C=_[nt],se.writeUInt16(C);return{charMap:r,subtable:se.data,maxGlyphID:H+1}}},n}(),Z4=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new $w(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=$w.encode(t,r),(s=new fc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Jk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Zk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),ej=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(i=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var h,c,d;for(d=[],l=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;l=0<=c?++h:--h)d.push(t.readUInt32());return d}).call(this)}},e}(),tj=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,l,h,c,d,g,b,S,_;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},l=b=0,S=i.length;b<S;l=++b)s=i[l],t.pos=s.offset,g=t.readString(s.length),h=new tj(g,s),d[_=s.nameID]==null&&(d[_]=[]),d[s.nameID].push(h);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),rj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),ij=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,l,h,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,b;for(b=[],r=g=0;0<=s?g<s:g>s;r=0<=s?++g:--g)b.push(t.readInt16());return b}(),this.widths=(function(){var g,b,S,_;for(_=[],g=0,b=(S=this.metrics).length;g<b;g++)l=S[g],_.push(l.advance);return _}).call(this),i=this.widths[this.widths.length-1],d=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),e3=[].slice,aj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,l,h,c,d,g,b,S;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(t),(s=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,h=(c=new fc(r.read(s))).readShort(),g=c.readShort(),S=c.readShort(),d=c.readShort(),b=c.readShort(),this.cache[t]=h===-1?new oj(c,g,S,d,b):new sj(c,h,g,S,d,b),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,l,h,c,d;for(h=[],l=[],c=0,d=r.length;c<d;c++)s=t[r[c]],l.push(h.length),s&&(h=h.concat(s.encode(i)));return l.push(h.length),{table:h,offsets:l}},e}(),sj=function(){function n(e,t,r,i,s,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),oj=function(){function n(e,t,r,i,s){var l,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;h=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&h;)l.pos+=1&h?4:2,128&h?l.pos+=8:64&h?l.pos+=4:8&h&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new fc(e3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),lj=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,yo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,l=0,h=0;h<i.length;++h)if(i[h]=s,l<r.length&&r[l]==h){++l,i[h]=s;var c=this.offsets[h],d=this.offsets[h+1]-c;d>0&&(s+=d)}for(var g=new Array(4*i.length),b=0;b<i.length;++b)g[4*b+3]=255&i[b],g[4*b+2]=(65280&i[b])>>8,g[4*b+1]=(16711680&i[b])>>16,g[4*b]=(4278190080&i[b])>>24;return g},e}(),uj=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,l,h,c;for(i={},l=0,h=e.length;l<h;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,l,h,c,d,g,b,S,_,E,C,R,I;for(i in r=Z4.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),_={0:0},I=r.charMap)_[(c=I[i]).old]=c.new;for(E in S=r.maxGlyphID,l)E in _||(_[E]=S++);return g=function(B){var H,ae;for(H in ae={},B)ae[B[H]]=H;return ae}(_),b=Object.keys(g).sort(function(B,H){return B-H}),C=function(){var B,H,ae;for(ae=[],B=0,H=b.length;B<H;B++)h=b[B],ae.push(g[h]);return ae}(),s=this.font.glyf.encode(l,C,_),d=this.font.loca.encode(s.offsets,C),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},n}();It.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,l;if(Array.isArray(t))return"["+function(){var h,c,d;for(d=[],h=0,c=t.length;h<c;h++)r=t[h],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)l=t[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+t},e}();function t3(n,e,t,r,i){r=r||{};var s=1.15,l=i.internal.scaleFactor,h=i.internal.getFontSize()/l,c=i.getLineHeightFactor?i.getLineHeightFactor():s,d=h*c,g=/\r\n|\r|\n/g,b="",S=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(b=typeof n=="string"?n.split(g):n,S=b.length||1),t+=h*(2-s),r.valign==="middle"?t-=S/2*d:r.valign==="bottom"&&(t-=S*d),r.halign==="center"||r.halign==="right"){var _=h;if(r.halign==="center"&&(_*=.5),b&&S>=1){for(var E=0;E<b.length;E++)i.text(b[E],e-i.getStringUnitWidth(b[E])*_,t),t+=d;return i}e-=i.getStringUnitWidth(n)*_}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var Yw={},Jh=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Yw=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),h=l.fontStyle,c=l.fontName;if(e.font&&(c=e.font),e.fontStyle){h=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(c,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(i=this.jsPDFDocument).setTextColor.apply(i,g),g=n.unifyColor(e.lineColor),g&&(s=this.jsPDFDocument).setDrawColor.apply(s,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Yw||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),B1=function(n,e){return B1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},B1(n,e)};function n3(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");B1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var r3=function(n){n3(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function cj(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hj(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function vg(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,l){return Math.max(s,l)},0);return i}function i3(n,e,t,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var l=a3(i,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,l)}function a3(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function t0(n,e){var t,r,i,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function s3(n,e){var t=t0(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function fj(n,e,t,r,i){var s={},l=1.3333333333333333,h=Hv(e,function(H){return i.getComputedStyle(H).backgroundColor});h!=null&&(s.fillColor=h);var c=Hv(e,function(H){return i.getComputedStyle(H).color});c!=null&&(s.textColor=c);var d=pj(r,t);d&&(s.cellPadding=d);var g="borderTopColor",b=l*t,S=r.borderTopWidth;if(r.borderBottomWidth===S&&r.borderRightWidth===S&&r.borderLeftWidth===S){var _=(parseFloat(S)||0)/b;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/b,right:(parseFloat(r.borderRightWidth)||0)/b,bottom:(parseFloat(r.borderBottomWidth)||0)/b,left:(parseFloat(r.borderLeftWidth)||0)/b},s.lineWidth.top||(s.lineWidth.right?g="borderRightColor":s.lineWidth.bottom?g="borderBottomColor":s.lineWidth.left&&(g="borderLeftColor"));var E=Hv(e,function(H){return i.getComputedStyle(H)[g]});E!=null&&(s.lineColor=E);var C=["left","right","center","justify"];C.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),C=["middle","bottom","top"],C.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var R=parseInt(r.fontSize||"");isNaN(R)||(s.fontSize=R/l);var I=dj(r);I&&(s.fontStyle=I);var B=(r.fontFamily||"").toLowerCase();return n.indexOf(B)!==-1&&(s.font=B),s}function dj(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Hv(n,e){var t=o3(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function o3(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:o3(n.parentElement,e):t}function pj(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(h){return parseInt(h||"0")/r}),l=t0(s,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function l3(n,e,t,r,i){var s,l;r===void 0&&(r=!1),i===void 0&&(i=!1);var h;typeof e=="string"?h=t.document.querySelector(e):h=e;var c=Object.keys(n.getFontList()),d=n.scaleFactor(),g=[],b=[],S=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:g,body:b,foot:S};for(var _=0;_<h.rows.length;_++){var E=h.rows[_],C=(l=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||l===void 0?void 0:l.toLowerCase(),R=mj(c,d,t,E,r,i);R&&(C==="thead"?g.push(R):C==="tfoot"?S.push(R):b.push(R))}return{head:g,body:b,foot:S}}function mj(n,e,t,r,i,s){for(var l=new r3(r),h=0;h<r.cells.length;h++){var c=r.cells[h],d=t.getComputedStyle(c);if(i||d.display!=="none"){var g=void 0;s&&(g=fj(n,c,e,d,t)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:g,_element:c,content:gj(c)})}}var b=t.getComputedStyle(r);if(l.length>0&&(i||b.display!=="none"))return l}function gj(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function vj(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function $l(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),l=1;l<arguments.length;l++){var h=arguments[l];if(h!=null)for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(s[c]=h[c])}return s}function u3(n,e){var t=new Jh(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();vj(i,r,e);var s=$l({},i,r,e),l;typeof window<"u"&&(l=window);var h=yj(i,r,e),c=bj(i,r,e),d=_j(t,s),g=Sj(t,s,l);return{id:e.tableId,content:g,hooks:c,styles:h,settings:d}}function yj(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var d=n[c],g=e[c],b=t[c];r.columnStyles=$l({},d,g,b)}else{var S=[n,e,t],_=S.map(function(E){return E[c]||{}});r[c]=$l({},_[0],_[1],_[2])}},s=0,l=Object.keys(r);s<l.length;s++){var h=l[s];i(h)}return r}function bj(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,l=r;s<l.length;s++){var h=l[s];h.didParseCell&&i.didParseCell.push(h.didParseCell),h.willDrawCell&&i.willDrawCell.push(h.willDrawCell),h.didDrawCell&&i.didDrawCell.push(h.didDrawCell),h.willDrawPage&&i.willDrawPage.push(h.willDrawPage),h.didDrawPage&&i.didDrawPage.push(h.didDrawPage)}return i}function _j(n,e){var t,r,i,s,l,h,c,d,g,b,S,_,E=t0(e.margin,40/n.scaleFactor()),C=(t=wj(n,e.startY))!==null&&t!==void 0?t:E.top,R;e.showFoot===!0?R="everyPage":e.showFoot===!1?R="never":R=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var I;e.showHead===!0?I="everyPage":e.showHead===!1?I="never":I=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var B=(s=e.useCss)!==null&&s!==void 0?s:!1,H=e.theme||(B?"plain":"striped"),ae=!!e.horizontalPageBreak,$=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:B,theme:H,startY:C,margin:E,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:I,showFoot:R,tableLineWidth:(b=e.tableLineWidth)!==null&&b!==void 0?b:0,tableLineColor:(S=e.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:ae,horizontalPageBreakRepeat:$,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function wj(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;s=l===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function Sj(n,e,t){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var h=l3(n,e.html,t,l,e.useCss)||{};r=h.head||r,i=h.body||r,s=h.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||xj(r,i,s);return{columns:c,head:r,body:i,foot:s}}function xj(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var l=1,h;Array.isArray(r)?h=r[parseInt(s)]:h=r[s],typeof h=="object"&&!Array.isArray(h)&&(l=(h==null?void 0:h.colSpan)||1);for(var c=0;c<l;c++){var d=void 0;Array.isArray(r)?d=i.length:d=s+(c>0?"_".concat(c):"");var g={dataKey:d};i.push(g)}}),i}var U1=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),Aj=function(n){n3(e,n);function e(t,r,i,s,l,h){var c=n.call(this,t,r,h)||this;return c.cell=i,c.row=s,c.column=l,c.section=s.section,c}return e}(U1),Tj=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,s,l){for(var h=0,c=t;h<c.length;h++){var d=c[h],g=new Aj(e,this,r,i,s,l),b=d(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],b)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new U1(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new U1(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),c3=function(){function n(e,t,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof r3&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,s){var l=r.cells[s.index];if(!l)return 0;var h=t.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),d=c+h;return d>i?d:i},0)},n}(),h3=function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=s!=null?""+s:"",h=/\r\n|\r|\n/g;this.text=l.split(h)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=t0(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),Ej=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],l=s.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n}();function Nj(n,e){Cj(n,e);var t=[],r=0;e.columns.forEach(function(s){var l=s.getMaxCustomCellWidth(e);l?s.width=l:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=q1(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=q1(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Rj(e),Pj(e,n),Ij(e)}function Cj(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=s3(n,e);e.allRows().forEach(function(s){for(var l=0,h=e.columns;l<h.length;l++){var c=h[l],d=s.cells[c.index];if(d){var g=e.hooks.didParseCell;e.callCellHooks(n,g,d,s,c,null);var b=d.padding("horizontal");d.contentWidth=vg(d.text,d.styles,n)+b;var S=vg(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=S+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/t;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var l=0,h=e.columns;l<h.length;l++){var c=h[l],d=s.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var g=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},b=g.cellWidth||g.minCellWidth;b&&typeof b=="number"&&(c.minWidth=b,c.wrappedWidth=b)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function q1(n,e,t){for(var r=e,i=n.reduce(function(_,E){return _+E.wrappedWidth},0),s=0;s<n.length;s++){var l=n[s],h=l.wrappedWidth/i,c=r*h,d=l.width+c,g=t(l),b=d<g?g:d;e-=b-l.width,l.width=b}if(e=Math.round(e*1e10)/1e10,e){var S=n.filter(function(_){return e<0?_.width>t(_):!0});S.length&&(e=q1(S,e,t))}return e}function Ij(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],l=0,h=n.columns;l<h.length;l++){var c=h[l],d=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(d)d.cell.height+=s.height,t=d.cell.colSpan,delete s.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var g=s.cells[c.index];if(!g)continue;if(g.height=s.height,g.rowSpan>1){var b=r.length-i,S=g.rowSpan>b?b:g.rowSpan;e[c.index]={cell:g,left:S,row:s}}}}}function Rj(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,s=0,l=0,h=0;h<n.columns.length;h++){var c=n.columns[h];if(l-=1,l>1&&n.columns[h+1])s+=c.width,delete r.cells[c.index];else if(i){var d=i;delete r.cells[c.index],i=null,d.width=c.width+s}else{var d=r.cells[c.index];if(!d)continue;if(l=d.colSpan,s=0,d.colSpan>1){i=d,s+=c.width;continue}d.width=c.width+s}}}function Pj(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],l=0,h=n.columns;l<h.length;l++){var c=h[l],d=s.cells[c.index];if(d){e.applyStyles(d.styles,!0);var g=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,g+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Kw(d.text,g,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Kw(d.text,g,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var b=d.styles.overflow(d.text,g);typeof b=="string"?d.text=[b]:d.text=b}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var S=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<S*d.rowSpan?t={height:S,count:d.rowSpan}:t&&t.count>0&&t.height>S&&(S=t.height),S>s.height&&(s.height=S)}}t.count--}}function Kw(n,e,t,r,i){return n.map(function(s){return Lj(s,e,t,r,i)})}function Lj(n,e,t,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=vg(n,t,r))return n;for(;e<vg(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function f3(n,e){var t=new Jh(n),r=Dj(e,t.scaleFactor()),i=new Tj(e,r);return Nj(t,i),t.applyStyles(t.userStyles),i}function Dj(n,e){var t=n.content,r=kj(t.columns);if(t.head.length===0){var i=Qw(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=Qw(r,"foot");i&&t.foot.push(i)}var s=n.settings.theme,l=n.styles;return{columns:r,head:Wv("head",t.head,r,l,s,e),body:Wv("body",t.body,r,l,s,e),foot:Wv("foot",t.foot,r,l,s,e)}}function Wv(n,e,t,r,i,s){var l={},h=e.map(function(c,d){for(var g=0,b={},S=0,_=0,E=0,C=t;E<C.length;E++){var R=C[E];if(l[R.index]==null||l[R.index].left===0)if(_===0){var I=void 0;Array.isArray(c)?I=c[R.index-S-g]:I=c[R.dataKey];var B={};typeof I=="object"&&!Array.isArray(I)&&(B=(I==null?void 0:I.styles)||{});var H=jj(n,R,d,i,r,s,B),ae=new h3(I,H,n);b[R.dataKey]=ae,b[R.index]=ae,_=ae.colSpan-1,l[R.index]={left:ae.rowSpan-1,times:_}}else _--,S++;else l[R.index].left--,_=l[R.index].times,g++}return new c3(c,d,n,b)});return h}function Qw(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=Oj(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Oj(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function kj(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new Ej(i,e,t)})}function jj(n,e,t,r,i,s,l){var h=hj(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var d=$l({},h.table,h[n],i.styles,c),g=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},b=n==="body"?g:{},S=n==="body"&&t%2===0?$l({},h.alternateRow,i.alternateRowStyles):{},_=cj(s),E=$l({},_,d,S,b);return $l(E,l)}function Mj(n,e,t){var r;t===void 0&&(t={});var i=s3(n,e),s=new Map,l=[],h=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(S){var _=e.columns.find(function(E){return E.dataKey===S||E.index===S});_&&!s.has(_.index)&&(s.set(_.index,!0),l.push(_.index),h.push(e.columns[_.index]),i-=_.wrappedWidth)});for(var d=!0,g=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(s.has(g)){g++;continue}var b=e.columns[g].wrappedWidth;if(d||i>=b)d=!1,l.push(g),h.push(e.columns[g]),i-=b;else break;g++}return{colIndexes:l,columns:h,lastIndex:g-1}}function Fj(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=Mj(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function d3(n,e){var t=e.settings,r=t.startY,i=t.margin,s={x:i.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=r+i.bottom+l;if(t.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(S,_){return S+_.height},0);h+=d}var g=new Jh(n);(t.pageBreak==="always"||t.startY!=null&&h>g.pageSize().height)&&(m3(g),s.y=i.top),e.callWillDrawPageHooks(g,s);var b=$l({},s);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?Vj(g,e,b,s):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(S){return nu(g,e,S,s,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(S,_){var E=_===e.body.length-1;yg(g,e,S,E,b,s,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(S){return nu(g,e,S,s,e.columns)})),i3(g,e,b,s),e.callEndPageHooks(g,s),e.finalY=s.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function Vj(n,e,t,r){var i=Fj(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,g){n.applyStyles(n.userStyles),g>0?Ed(n,e,t,r,d.columns,!0):Xw(n,e,r,d.columns),Bj(n,e,t,r,d.columns),Gv(n,e,r,d.columns)});else for(var l=-1,h=i[0],c=function(){var d=l;if(h){n.applyStyles(n.userStyles);var g=h.columns;l>=0?Ed(n,e,t,r,g,!0):Xw(n,e,r,g),d=Jw(n,e,l+1,r,g),Gv(n,e,r,g)}var b=d-l;i.slice(1).forEach(function(S){n.applyStyles(n.userStyles),Ed(n,e,t,r,S.columns,!0),Jw(n,e,l+1,r,S.columns,b),Gv(n,e,r,S.columns)}),l=d};l<e.body.length-1;)c()}function Xw(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return nu(n,e,s,t,r)})}function Bj(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(s,l){var h=l===e.body.length-1;yg(n,e,s,h,t,r,i)})}function Jw(n,e,t,r,i,s){n.applyStyles(n.userStyles),s=s??e.body.length;var l=Math.min(t+s,e.body.length),h=-1;return e.body.slice(t,l).forEach(function(c,d){var g=t+d===e.body.length-1,b=p3(n,e,g,r);c.canEntireRowFit(b,i)&&(nu(n,e,c,r,i),h=t+d)}),h}function Gv(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return nu(n,e,s,t,r)})}function Uj(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function qj(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,l=0,h=t.columns;l<h.length;l++){var c=h[l],d=n.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var g=new h3(d.raw,d.styles,d.section);g=$l(g,d),g.text=[];var b=Uj(d,e,r);d.text.length>b&&(g.text=d.text.splice(b,d.text.length));var S=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(S,_),d.contentHeight>=e&&(d.contentHeight=e,g.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),g.contentHeight=g.getContentHeight(S,_),g.contentHeight>s&&(s=g.contentHeight),i[c.index]=g}}var E=new c3(n.raw,-1,n.section,i,!0);E.height=s;for(var C=0,R=t.columns;C<R.length;C++){var c=R[C],g=E.cells[c.index];g&&(g.height=E.height);var d=n.cells[c.index];d&&(d.height=n.height)}return E}function zj(n,e,t,r){var i=n.pageSize().height,s=r.settings.margin,l=s.top+s.bottom,h=i-l;e.section==="body"&&(h-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,n),d=c<t;if(c>h)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var g=e.hasRowSpan(r.columns),b=e.getMaxCellHeight(r.columns)>h;return b?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function yg(n,e,t,r,i,s,l){var h=p3(n,e,r,s);if(t.canEntireRowFit(h,l))nu(n,e,t,s,l);else if(zj(n,t,h,e)){var c=qj(t,h,e,n);nu(n,e,t,s,l),Ed(n,e,i,s,l),yg(n,e,c,r,i,s,l)}else Ed(n,e,i,s,l),yg(n,e,t,r,i,s,l)}function nu(n,e,t,r,i){r.x=e.settings.margin.left;for(var s=0,l=i;s<l.length;s++){var h=l[s],c=t.cells[h.index];if(!c){r.x+=h.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,c,t,h,r);if(d===!1){r.x+=h.width;continue}Hj(n,c,r);var g=c.getTextPos();t3(c.text,g.x,g.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,h,r),r.x+=h.width}r.y+=t.height}function Hj(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=a3(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),Wj(n,e,t,r.lineWidth))}function Wj(n,e,t,r){var i,s,l,h;r.top&&(i=t.x,s=t.y,l=t.x+e.width,h=t.y,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,l,h)),r.bottom&&(i=t.x,s=t.y+e.height,l=t.x+e.width,h=t.y+e.height,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,l,h)),r.left&&(i=t.x,s=t.y,l=t.x,h=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(h+=.5*r.bottom),c(r.left,i,s,l,h)),r.right&&(i=t.x+e.width,s=t.y,l=t.x+e.width,h=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(h+=.5*r.bottom),c(r.right,i,s,l,h));function c(d,g,b,S,_){n.getDocument().setLineWidth(d),n.getDocument().line(g,b,S,_,"S")}}function p3(n,e,t,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function Ed(n,e,t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(h){return nu(n,e,h,r,i)}),e.callEndPageHooks(n,r);var l=e.settings.margin;i3(n,e,t,r),m3(n),e.pageNumber++,r.x=l.left,r.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return nu(n,e,h,r,i)}),n.applyStyles(n.userStyles))}function m3(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function Gj(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=u3(this,r),s=f3(this,i);return d3(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){t3(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Jh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Jh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Jh(this),s=l3(i,e,window,t,!1),l=s.head,h=s.body,c=((r=l[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:h,data:h}}}var $v;function ic(n,e){var t=u3(n,e),r=f3(n,t);d3(n,r)}try{if(typeof window<"u"&&window){var Zw=window,eS=Zw.jsPDF||(($v=Zw.jspdf)===null||$v===void 0?void 0:$v.jsPDF);eS&&Gj(eS)}}catch(n){console.error("Could not apply autoTable plugin",n)}async function $j(n,e){const t=new It;t.setFont("Arial","normal");const r=n.invoice_type==="WT"||n.invoice_type==="WTPL",i=`${window.location.origin}${r?"/wt-logo.png":"/wtx_logo.webp"}`,s=`${window.location.origin}/csh-sign.PNG`;async function l(W){try{const P=await fetch(W);if(!P.ok)throw new Error(`Failed to load image at ${W}`);const O=await P.blob();return await new Promise(j=>{const se=new FileReader;se.onloadend=()=>j(se.result),se.readAsDataURL(O)})}catch(P){return console.error("Image load failed:",P),null}}const h=await l(i),c=await l(s);h&&t.addImage(h,"PNG",15,10,30,18),t.setFontSize(10),t.text("19/B, 3rd Floor, Progressive Tower, 100 Ft Road,",15,32),t.text("Siddhi Vinayak Nagar, Madhapur,",15,37),t.text("Hyderabad, Telangana - 500081",15,42),t.setFontSize(16),t.setTextColor(59,89,152),t.setFont("Arial","normal"),t.text("Tax Invoice",15,52);function d(W,P,O,j){t.setFont("Arial","bold"),t.text(W,O,j);const se=t.getTextWidth(W);t.setFont("Arial","normal"),t.text(P,O+se+1,j)}t.setFontSize(10),t.setTextColor(0);let g=55;const b=7;t.rect(15,g,95,b),t.rect(110,g,95,b),d("Invoice Number:",n.invoice_id,17,g+5),d("GST IN:",r?"36AACFW6827B1Z8":"36AAACW8991C1Z9",112,g+5),g+=b,t.rect(15,g,95,b),t.rect(110,g,95,b),d("Invoice Date:",Kj(n.created_at.toDate()),17,g+5),d("Total Cost:",`INR ${n.total_amount.toLocaleString("en-IN")}`,112,g+5),g+=b,t.rect(15,g,95,b),t.rect(110,g,95,b),d("Invoice Title:",n.service_name||"N/A",17,g+5);const S=g+b;t.setFont("Arial","normal"),t.text(`This invoice prepared by Walls & Trends (${n.invoice_type}) includes ${n.service_name||"the selected service"} for ${e.client_name}.`,15,S+5);let _=S+15;const E=7;t.rect(15,_,95,E),t.rect(110,_,95,E),d("Customer Name:",e.client_name||"N/A",17,_+5),d("Customer Address:",e.address||"N/A",112,_+5),_+=E,t.rect(15,_,190,E),d("Customer GST IN:",e.gst_number||"N/A",17,_+5);const C=_+E;ic(t,{startY:C+5,head:[["HSN / SAC Code","Item","Description","Amount (INR)"]],body:[["9983",n.service_name||"",n.service_description||"",n.subtotal.toLocaleString("en-IN")],["","","Gross",n.subtotal.toLocaleString("en-IN")],...n.cgst>0?[["","","CGST @ 9%",n.cgst.toLocaleString("en-IN")]]:[],...n.sgst>0?[["","","SGST @ 9%",n.sgst.toLocaleString("en-IN")]]:[],...n.igst>0?[["","","IGST @ 18%",n.igst.toLocaleString("en-IN")]]:[],["","",{content:"Total",styles:{fontStyle:"bold"}},{content:n.total_amount.toLocaleString("en-IN"),styles:{fontStyle:"bold"}}]],theme:"grid",headStyles:{fillColor:!1,textColor:[0,0,0],fontStyle:"bold",halign:"center",lineColor:[0,0,0],lineWidth:.3},styles:{fontSize:10,font:"Arial",textColor:[0,0,0],halign:"center",lineColor:[0,0,0],lineWidth:.3},columnStyles:{0:{cellWidth:47.5},1:{cellWidth:47.5},2:{cellWidth:47.5},3:{cellWidth:47.5}}});const R=Yj(Math.floor(n.total_amount));ic(t,{startY:t.lastAutoTable.finalY+2,body:[[{content:"(Total Amount In Words)",styles:{fontStyle:"bold",halign:"left",valign:"middle"}},{content:`${R} only`,styles:{halign:"left",valign:"middle"}}]],theme:"grid",styles:{fontSize:10,font:"Arial",textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.3},columnStyles:{0:{cellWidth:95},1:{cellWidth:95}}}),t.setFontSize(12),t.setTextColor(59,89,152),t.setFont("Arial","normal"),t.text("Bank Details",15,t.lastAutoTable.finalY+10),ic(t,{startY:t.lastAutoTable.finalY+12,body:[["Bank Name","Yes Bank"],["Beneficiary Name",r?"Walls And Trends":"Walls And Trends WTX"],["Account Number","000663300001713"],["Account Type","Current Account"],["IFSC Code","YESB0000006"],["Bank Branch","Somajiguda"],["City","Hyderabad"]],theme:"grid",styles:{fontSize:10,font:"Arial",textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.3,halign:"center",valign:"middle"},columnStyles:{0:{fontStyle:"bold",cellWidth:95},1:{cellWidth:95}}});const I=t.internal.pageSize.height;t.setFont("helvetica","bold"),t.setFontSize(11),t.text("NOTE:",14,I-10),t.setFont("helvetica","normal"),t.text("No files will be delivered until the final payment is made.",30,I-10);const B=t.lastAutoTable.finalY+12,H=35,ae=28,$=14;c&&t.addImage(c,"PNG",H,B,ae,$);const ce=B+$+2;t.setDrawColor(0),t.setLineWidth(.2),t.line(H,ce,H+ae,ce),t.setFont("Arial","normal"),t.setFontSize(10),t.setTextColor(0),t.text("Authorised signature for Walls & Trends",H+ae/2,ce+6,{align:"center"});const U=B+20,F=t.internal.pageSize.getWidth()-15;t.setFont("times","italic"),t.setFontSize(9),t.setTextColor(59,89,152),t.text("Authenticity Promised. Creativity Published.",F,U,{align:"right"}),t.text("Thank you for your business!",F,U+6,{align:"right"}),t.save(`${n.invoice_id}.pdf`)}function Yj(n){const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],t=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(n===0)return"Zero";const r=i=>i<20?e[i]:i<100?t[Math.floor(i/10)]+(i%10?" "+e[i%10]:""):i<1e3?e[Math.floor(i/100)]+" Hundred"+(i%100?" and "+r(i%100):""):i<1e5?r(Math.floor(i/1e3))+" Thousand"+(i%1e3?" "+r(i%1e3):""):i<1e7?r(Math.floor(i/1e5))+" Lakh"+(i%1e5?" "+r(i%1e5):""):r(Math.floor(i/1e7))+" Crore"+(i%1e7?" "+r(i%1e7):"");return r(n)}function Kj(n){const e=new Date(n),t=String(e.getDate()).padStart(2,"0"),r=e.toLocaleString("en-us",{month:"long"}),i=e.getFullYear();return`${t} ${r} ${i}`}async function Qj(n,e){const t=new It;t.setFont("Arial","normal");const r=n.invoice_type==="WT"||n.invoice_type==="WTPL",i=`${window.location.origin}${r?"/wt-logo.png":"/wtx_logo.webp"}`,s=`${window.location.origin}/csh-sign.PNG`;async function l(F){try{const W=await fetch(F);if(!W.ok)throw new Error(`Failed to load image at ${F}`);const P=await W.blob();return await new Promise(O=>{const j=new FileReader;j.onloadend=()=>O(j.result),j.readAsDataURL(P)})}catch(W){return console.error("Image load failed:",W),null}}const h=await l(i),c=await l(s);h&&t.addImage(h,"PNG",15,10,30,18),t.setFontSize(10),t.text("19/B, 3rd Floor, Progressive Tower, 100 Ft Road,",15,32),t.text("Siddhi Vinayak Nagar, Madhapur,",15,37),t.text("Hyderabad, Telangana - 500081",15,42),t.setFontSize(16),t.setTextColor(59,89,152),t.setFont("Arial","normal"),t.text("Proforma Invoice",15,52);function d(F,W,P,O){t.setFont("Arial","bold"),t.text(F,P,O);const j=t.getTextWidth(F);t.setFont("Arial","normal"),t.text(W,P+j+1,O)}t.setFontSize(10),t.setTextColor(0);let g=55;const b=7;t.rect(15,g,95,b),t.rect(110,g,95,b),d("Invoice Number:",n.invoice_id,17,g+5),d("GST IN:",r?"36AACFW6827B1Z8":"36AAACW8991C1Z9",112,g+5),g+=b,t.rect(15,g,95,b),t.rect(110,g,95,b),d("Invoice Date:",Jj(n.created_at.toDate()),17,g+5),d("Total Cost:",`INR ${n.total_amount.toLocaleString("en-IN")}`,112,g+5),g+=b,t.rect(15,g,95,b),t.rect(110,g,95,b),d("Invoice Title:",n.service_name||"N/A",17,g+5);const S=g+b;t.setFont("Arial","normal"),t.text(`This invoice prepared by Walls & Trends (${n.invoice_type}) includes ${n.service_name||"the selected service"} for ${e.client_name}.`,15,S+5);let _=S+15;const E=7;t.rect(15,_,95,E),t.rect(110,_,95,E),d("Customer Name:",e.client_name||"N/A",17,_+5),d("Customer Address:",e.address||"N/A",112,_+5),_+=E,t.rect(15,_,190,E),d("Customer GST IN:",e.gst_number||"N/A",17,_+5);const C=_+E;ic(t,{startY:C+5,head:[["HSN / SAC Code","Item","Description","Amount (INR)"]],body:[["9983",n.service_name||"",n.service_description||"",n.subtotal.toLocaleString("en-IN")],["","","Gross",n.subtotal.toLocaleString("en-IN")],...n.cgst>0?[["","","CGST @ 9%",n.cgst.toLocaleString("en-IN")]]:[],...n.sgst>0?[["","","SGST @ 9%",n.sgst.toLocaleString("en-IN")]]:[],...n.igst>0?[["","","IGST @ 18%",n.igst.toLocaleString("en-IN")]]:[],["","",{content:"Total",styles:{fontStyle:"bold"}},{content:n.total_amount.toLocaleString("en-IN"),styles:{fontStyle:"bold"}}]],theme:"grid",headStyles:{fillColor:!1,textColor:[0,0,0],fontStyle:"bold",halign:"center",lineColor:[0,0,0],lineWidth:.3},styles:{fontSize:10,font:"Arial",textColor:[0,0,0],halign:"center",lineColor:[0,0,0],lineWidth:.3},columnStyles:{0:{cellWidth:47.5},1:{cellWidth:47.5},2:{cellWidth:47.5},3:{cellWidth:47.5}}});const R=Xj(Math.floor(n.total_amount));ic(t,{startY:t.lastAutoTable.finalY+2,body:[[{content:"(Total Amount In Words)",styles:{fontStyle:"bold",halign:"left",valign:"middle"}},{content:`${R} only`,styles:{halign:"left",valign:"middle"}}]],theme:"grid",styles:{fontSize:10,font:"Arial",textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.3},columnStyles:{0:{cellWidth:95},1:{cellWidth:95}}}),t.setFontSize(12),t.setTextColor(59,89,152),t.setFont("Arial","normal"),t.text("Bank Details",15,t.lastAutoTable.finalY+10),ic(t,{startY:t.lastAutoTable.finalY+12,body:[["Bank Name","Yes Bank"],["Beneficiary Name",r?"Walls And Trends":"Walls And Trends WTX"],["Account Number","000663300001713"],["Account Type","Current Account"],["IFSC Code","YESB0000006"],["Bank Branch","Somajiguda"],["City","Hyderabad"]],theme:"grid",styles:{fontSize:10,font:"Arial",textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.3,halign:"center",valign:"middle"},columnStyles:{0:{fontStyle:"bold",cellWidth:95},1:{cellWidth:95}}}),t.setFont("helvetica","bold"),t.setFontSize(11),t.text("NOTE:",14,t.internal.pageSize.height-10),t.setFont("helvetica","normal"),t.text("No files will be delivered until the final payment is made.",30,t.internal.pageSize.height-10);const I=t.lastAutoTable.finalY+12,B=35,H=28,ae=14;c&&t.addImage(c,"PNG",B,I,H,ae);const $=I+ae+2;t.setDrawColor(0),t.setLineWidth(.2),t.line(B,$,B+H,$),t.setFont("Arial","normal"),t.setFontSize(10),t.setTextColor(0),t.text("Authorised signature for Walls & Trends",B+H/2,$+6,{align:"center"});const ce=I+20,L=t.internal.pageSize.getWidth()-15;t.setFont("times","italic"),t.setFontSize(9),t.setTextColor(59,89,152),t.text("Authenticity Promised. Creativity Published.",L,ce,{align:"right"}),t.text("Thank you for your business!",L,ce+6,{align:"right"}),t.save(`${n.invoice_id}_PROFORMA.pdf`)}function Xj(n){const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],t=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(n===0)return"Zero";const r=i=>i<20?e[i]:i<100?t[Math.floor(i/10)]+(i%10?" "+e[i%10]:""):i<1e3?e[Math.floor(i/100)]+" Hundred"+(i%100?" and "+r(i%100):""):i<1e5?r(Math.floor(i/1e3))+" Thousand"+(i%1e3?" "+r(i%1e3):""):i<1e7?r(Math.floor(i/1e5))+" Lakh"+(i%1e5?" "+r(i%1e5):""):r(Math.floor(i/1e7))+" Crore"+(i%1e7?" "+r(i%1e7):"");return r(n)}function Jj(n){const e=new Date(n),t=String(e.getDate()).padStart(2,"0"),r=e.toLocaleString("en-us",{month:"long"}),i=e.getFullYear();return`${t} ${r} ${i}`}function tS(){const{id:n}=dc(),e=fi(),[t,r]=ne.useState(null),[i,s]=ne.useState(null);ne.useEffect(()=>{(async()=>{try{const _=Jn(Ut,"invoices",n),E=await Ds(_);if(E.exists()){const C=E.data();r(C);const R=Jn(Ut,"clients",C.client_id),I=await Ds(R);I.exists()&&s(I.data())}}catch(_){console.error("Error loading invoice:",_)}})()},[n]);const l=()=>{e(`/dashboard/edit-invoice/${n}`)},h=async()=>{if(!t||!i)return;const S=await $j(t,i);S!=null&&S.save?S.save(`${t.invoice_id}.pdf`):console.error("Tax Invoice PDF generation failed.")},c=async()=>{if(!t||!i)return;const S=await Qj(t,i);S!=null&&S.save?S.save(`${t.invoice_id}_PROFORMA.pdf`):console.error("Proforma Invoice PDF generation failed.")},d=S=>{const _=new Date(S),E=String(_.getDate()).padStart(2,"0");String(_.getMonth()+1).padStart(2,"0");const C=_.getFullYear();return`${E} ${_.toLocaleString("default",{month:"long"})} ${C}`};function g(S){const _=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],E=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if((S=S.toString()).length>9)return"Overflow";const C=("000000000"+S).substr(-9).match(/(\d{2})(\d{2})(\d{2})(\d{3})/);if(!C)return;let R="";return R+=C[1]!=0?(_[Number(C[1])]||E[C[1][0]]+" "+_[C[1][1]])+" Crore ":"",R+=C[2]!=0?(_[Number(C[2])]||E[C[2][0]]+" "+_[C[2][1]])+" Lakh ":"",R+=C[3]!=0?(_[Number(C[3])]||E[C[3][0]]+" "+_[C[3][1]])+" Thousand ":"",R+=C[4]!=0?(_[Number(C[4])]||E[C[4][0]]+" "+_[C[4][1]])+" ":"",R.trim()}if(!t||!i)return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f3f4f6] text-[#3b5999] text-xl",children:"Loading invoice..."});const b=t.invoice_type==="WT"||t.invoice_type==="WTPL"?"/wt-logo.png":"/wtx_logo.png";return A.jsxs("div",{className:"min-h-screen bg-white px-6 py-10 font-sans text-sm text-gray-900 preview",children:[A.jsx("button",{onClick:l,className:"absolute top-4 left-6 bg-[#3b5999] text-[#ffffff] px-4 py-2 rounded hover:bg-[#2d4373] downloadbtn downloadbtn3",children:"Edit Invoice"}),A.jsx("button",{onClick:h,className:"absolute top-4 right-6 bg-[#3b5999] text-[#ffffff] px-4 py-2 rounded hover:bg-[#2d4373] downloadbtn",children:"Download Tax Invoice PDF"}),A.jsx("button",{onClick:c,className:"absolute top-4 right-6 mt-14 bg-[#3b5999] text-[#ffffff] px-4 py-2 rounded hover:bg-[#2d4373] downloadbtn downloadbtn2",children:"Download Proforma Invoice PDF"}),A.jsxs("div",{className:"max-w-5xl mx-auto p-6 border-gray-300",children:[A.jsxs("div",{className:"items-start mb-4",children:[A.jsx("img",{src:b,alt:"Company Logo",className:"h-16"}),A.jsxs("div",{className:"text-left text-sm leading-5 address",children:[A.jsx("p",{children:"19/B, 3rd Floor, Progressive Tower"}),A.jsx("p",{children:"100 Ft Road, Siddhi Vinayak Nagar"}),A.jsx("p",{children:"Madhapur, Hyderabad, Telangana - 500081"})]})]}),A.jsx("h1",{className:"text-xl font-bold text-left mb-6 text-[#3b5998] font-heading",children:"Tax Invoice"}),A.jsx("table",{className:"w-full border-collapse border-gray-300 mb-4",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2 font-medium",children:A.jsx("b",{children:t.invoice_type==="WT"||t.invoice_type==="WTPL"?"Walls And Trends":"WTX"})}),A.jsxs("td",{className:"border p-2 font-medium",children:[A.jsx("b",{children:"GST IN: "}),t.invoice_type==="WT"||t.invoice_type==="WTPL"?"36AACFW6827B1Z8":"WTX GST NUMBER"]})]}),A.jsxs("tr",{children:[A.jsxs("td",{className:"border p-2",children:[A.jsx("b",{children:"Invoice Number:"})," ",t.invoice_id]}),A.jsxs("td",{className:"border p-2",children:[A.jsx("b",{children:"Invoice Date:"})," ",d(t.created_at.toDate())]})]}),A.jsxs("tr",{children:[A.jsxs("td",{className:"border p-2",children:[A.jsx("b",{children:"Invoice Title:"})," ",t.service_name]}),A.jsxs("td",{className:"border p-2 font-semibold",children:[A.jsx("b",{children:"Total Cost:"})," ",Number(t.total_amount).toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})}),A.jsxs("p",{className:"mb-4",children:["This invoice prepared by Walls & Trends (WTPL) includes ",t.service_name," for ",i.client_name,"."]}),A.jsx("table",{className:"w-full border border-collapse border-gray-300 mb-4",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsxs("td",{className:"border p-2",children:[A.jsx("strong",{children:"Customer Name:"})," ",i.client_name]}),A.jsxs("td",{className:"border p-2",children:[A.jsx("strong",{children:"Customer Address:"})," ",i.address]})]}),A.jsx("tr",{children:A.jsxs("td",{className:"border p-2",colSpan:2,children:[A.jsx("strong",{children:"Customer GST IN:"})," ",i.gst_number]})})]})}),A.jsxs("table",{className:"w-full border border-collapse border-gray-300 mb-4 text-center",children:[A.jsx("thead",{className:"bg-gray-100 text-black",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-2 border",children:"HSN / SAC Code"}),A.jsx("th",{className:"p-2 border",children:"Item"}),A.jsx("th",{className:"p-2 border",children:"Description"}),A.jsx("th",{className:"p-2 border text-center",children:"Amount (INR)"})]})}),A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:"9983"}),A.jsx("td",{className:"border p-2",children:t.service_name}),A.jsx("td",{className:"border p-2",children:t.service_description}),A.jsx("td",{className:"border p-2 text-center",children:Number(t.subtotal).toLocaleString("en-IN",{minimumFractionDigits:2})})]}),A.jsxs("tr",{children:[A.jsx("td",{colSpan:"3",className:"border p-2 font-medium",children:"Gross"}),A.jsx("td",{className:"border p-2 text-center",children:Number(t.subtotal).toLocaleString("en-IN",{minimumFractionDigits:2})})]}),A.jsxs("tr",{children:[A.jsx("td",{colSpan:"3",className:"border p-2 font-medium",children:"IGST @ 18%"}),A.jsx("td",{className:"border p-2 text-center",children:Number(t.igst).toLocaleString("en-IN",{minimumFractionDigits:2})})]}),A.jsxs("tr",{className:"font-bold",children:[A.jsx("td",{colSpan:"3",className:"border p-2 text-[#3b5999]",children:"Total"}),A.jsx("td",{className:"border p-2 text-center text-[#3b5999]",children:Number(t.total_amount).toLocaleString("en-IN",{minimumFractionDigits:2})})]}),A.jsx("tr",{children:A.jsx("td",{colSpan:"4",className:"border p-2 italic text-center",children:g(t.total_amount.toFixed(0))})})]})]}),A.jsx("h2",{className:"text-black font-semibold mb-2 text-[#3b5998] bank-details",children:"Bank Details"}),A.jsx("table",{className:"w-full border border-collapse border-gray-300 mb-6 text-center",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:A.jsx("b",{children:"Bank Name"})}),A.jsx("td",{className:"border p-2",children:"Yes Bank"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:A.jsx("b",{children:"Beneficiary Name"})}),A.jsx("td",{className:"border p-2",children:t.invoice_type==="WT"||t.invoice_type==="WTPL"?"Walls And Trends":"Walls And Trends WTX"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:A.jsx("b",{children:"Account Number"})}),A.jsx("td",{className:"border p-2",children:"000663300001713"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:A.jsx("b",{children:"Account Type"})}),A.jsx("td",{className:"border p-2",children:"Current Account"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:A.jsx("b",{children:"IFSC Code"})}),A.jsx("td",{className:"border p-2",children:"YESB0000006"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:A.jsx("b",{children:"Branch"})}),A.jsx("td",{className:"border p-2",children:"Somajiguda"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:A.jsx("b",{children:"City"})}),A.jsx("td",{className:"border p-2",children:"Hyderabad"})]})]})}),A.jsxs("p",{children:[A.jsx("b",{children:"NOTE:"})," No files will be delivered until the final payment is made."]}),A.jsx("div",{className:"flex justify-start mt-10",children:A.jsxs("div",{className:"text-center",children:[A.jsx("img",{src:"/csh-sign.PNG",alt:"Signature",className:"h-12 mx-auto mb-1"}),A.jsx("p",{className:"text-xs authorised-text",children:"Authorised Signature for Walls & Trends"})]})}),A.jsx("div",{className:"flex justify-end mt-10",children:A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-xs italic text-[#3b5998] thank-you-text",children:"Authenticity Promised. Creativity Published"}),A.jsx("p",{className:"text-xs italic text-[#3b5998] thank-you-text",children:"Thank you for your business!"})]})})]})]})}function Zj(){const[n,e]=ne.useState(""),[t,r]=ne.useState(""),[i,s]=ne.useState([]),[l,h]=ne.useState(!1),[c,d]=ne.useState([]),[g,b]=ne.useState([]),[S,_]=ne.useState(""),[E,C]=ne.useState(""),[R,I]=ne.useState(0);ne.useEffect(()=>{(async()=>{const U=(await ei(Hr(Ut,"clients"))).docs.map(L=>({id:L.id,...L.data()}));d(U)})()},[]),ne.useEffect(()=>{(async()=>{const U=(await ei(Hr(Ut,"projects"))).docs.map(L=>({id:L.id,...L.data()}));b(U)})()},[]);const B=$=>{const ce=$.target.value;if(ce==="")return;const U=new Date;let L,F;const W=U.getMonth(),P=U.getFullYear();ce==="1month"?(L=new Date(P,W-1,1),F=new Date(P,W,0)):ce==="3months"?(L=new Date(P,W-3,1),F=new Date(P,W,0)):ce==="6months"?(L=new Date(P,W-6,1),F=new Date(P,W,0)):ce==="1year"&&(L=new Date(P-1,W,1),F=new Date(P,W,0)),e(L.toISOString().substring(0,10)),r(F.toISOString().substring(0,10)),_(""),C("")},H=async()=>{if(!n||!t){alert("Please select both dates");return}h(!0);try{const $=new Date(n),ce=new Date(t);ce.setHours(23,59,59,999);const F=(await ei(Hr(Ut,"invoices"))).docs.map(P=>({id:P.id,...P.data()})).filter(P=>{let O=P.invoice_date;if(!O)return!1;O.toDate?O=O.toDate():O=new Date(O);const j=S?P.client_id===S:!0,se=E?P.project_id===E:!0;return O>=$&&O<=ce&&j&&se});F.sort((P,O)=>{var Se,re,le,he;const j=((re=(Se=P.invoice_date)==null?void 0:Se.toDate)==null?void 0:re.call(Se))||new Date(P.invoice_date);return(((he=(le=O.invoice_date)==null?void 0:le.toDate)==null?void 0:he.call(le))||new Date(O.invoice_date))-j});const W=F.reduce((P,O)=>P+Number(O.total_amount||0),0);s(F),I(W)}catch($){console.error("Error generating report:",$),alert("Error generating report")}h(!1)},ae=S?g.filter($=>$.clientId===S):g;return A.jsxs("div",{className:"bg-white p-6 rounded shadow-md invoice-summary",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Invoice Report (Date Range)"}),A.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[A.jsxs("div",{className:"invoice-summary-cnt",children:[A.jsx("label",{children:"From:"}),A.jsx("input",{type:"date",value:n,onChange:$=>e($.target.value),className:"border p-2 rounded"})]}),A.jsxs("div",{className:"invoice-summary-cnt",children:[A.jsx("label",{children:"To:"}),A.jsx("input",{type:"date",value:t,onChange:$=>r($.target.value),className:"border p-2 rounded"})]}),A.jsxs("div",{className:"invoice-summary-cnt",children:[A.jsx("label",{children:"Client:"}),A.jsxs("select",{value:S,onChange:$=>{_($.target.value),C("")},className:"border p-2 rounded",children:[A.jsx("option",{value:"",children:"All Clients"}),c.map($=>A.jsx("option",{value:$.id,children:$.client_name||$.companyName},$.id))]})]}),A.jsxs("div",{className:"invoice-summary-cnt",children:[A.jsx("label",{children:"Project:"}),A.jsxs("select",{value:E,onChange:$=>C($.target.value),className:"border p-2 rounded",children:[A.jsx("option",{value:"",children:"All Projects"}),ae.map($=>A.jsx("option",{value:$.id,children:$.project_name||$.projectName},$.id))]})]}),A.jsxs("div",{className:"invoice-summary-cnt",children:[A.jsx("label",{children:"Quick Select:"}),A.jsxs("select",{onChange:B,className:"border p-2 rounded",children:[A.jsx("option",{value:"",children:"Select Range"}),A.jsx("option",{value:"1month",children:"Last 1 Month"}),A.jsx("option",{value:"3months",children:"Last 3 Months"}),A.jsx("option",{value:"6months",children:"Last 6 Months"}),A.jsx("option",{value:"1year",children:"Last 1 Year"})]})]}),A.jsx("button",{onClick:H,className:"bg-black text-white px-4 py-2 rounded generate-btn",children:"Generate"})]}),l?A.jsx("p",{children:"Loading..."}):A.jsx("div",{children:i.length===0?A.jsx("p",{className:"text-gray-600",children:"No invoices found for the selected range."}):A.jsxs("table",{className:"border-collapse border mt-4 w-full",children:[A.jsx("thead",{className:"bg-blue-600 text-white",children:A.jsxs("tr",{children:[A.jsx("th",{className:"border p-2",children:"Invoice ID"}),A.jsx("th",{className:"border p-2",children:"Client"}),A.jsx("th",{className:"border p-2",children:"Project"}),A.jsx("th",{className:"border p-2",children:"Date"}),A.jsx("th",{className:"border p-2",children:"Total"})]})}),A.jsxs("tbody",{children:[i.map(($,ce)=>{var P,O,j,se,Se;const L=(((O=(P=$.invoice_date)==null?void 0:P.toDate)==null?void 0:O.call(P))||new Date($.invoice_date)).toISOString().split("T")[0],F=((j=c.find(re=>re.id===$.client_id))==null?void 0:j.client_name)||$.client_id,W=((se=g.find(re=>re.id===$.project_id))==null?void 0:se.project_name)||((Se=g.find(re=>re.id===$.project_id))==null?void 0:Se.projectName)||"-";return A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:$.invoice_id||$.id}),A.jsx("td",{className:"border p-2",children:F}),A.jsx("td",{className:"border p-2",children:W}),A.jsx("td",{className:"border p-2",children:L}),A.jsxs("td",{className:"border p-2",children:["₹"," ",Number($.total_amount).toLocaleString("en-IN",{minimumFractionDigits:2})]})]},ce)}),A.jsxs("tr",{className:"font-bold bg-gray-100",children:[A.jsx("td",{colSpan:"4",className:"border p-2 text-right",children:"Total"}),A.jsxs("td",{className:"border p-2",children:["₹"," ",R.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})]})})]})}function eM(){const{id:n}=dc(),e=fi(),[t,r]=ne.useState({client_name:"",company_name:"",poc:"",phone:"",email:"",address:"",country:"",state:"",pan_number:"",gst_number:""});ne.useEffect(()=>{(async()=>{const c=Jn(Ut,"clients",n),d=await Ds(c);d.exists()&&r(g=>({...g,...d.data()}))})()},[n]);const i=h=>{r({...t,[h.target.name]:h.target.value})},s=async h=>{h.preventDefault();const c=Jn(Ut,"clients",n);await ep(c,t),e("/dashboard/all-clients")},l=["client_name","company_name","poc","phone","email","address","country","state","pan_number","gst_number"];return A.jsxs("div",{className:"p-6 max-w-3xl mx-auto bg-white shadow-md edit-client",children:[A.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Client"}),A.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.map(h=>A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 capitalize",children:h.replace(/_/g," ")}),A.jsx("input",{type:"text",name:h,value:t[h]||"",onChange:i,className:"w-full border px-3 py-2 rounded",required:!0})]},h)),A.jsx("button",{type:"submit",className:"bg-[#3b5999] text-[#ffffff] px-4 py-2 rounded save-changes-btn",children:"Save Changes"})]})]})}function tM(){const{id:n}=dc(),e=fi(),[t,r]=ne.useState({invoice_id:"",client_id:"",invoice_title:"",invoice_date:"",payment_date:"",subtotal:0,cgst:0,sgst:0,igst:0,tax_amount:0,total_amount:0,total_in_words:"",tax_type:"",payment_status:"",invoice_type:"",services:[]}),i=[{label:"Lyrical Videos",value:"Lyrical Videos"},{label:"Posters",value:"Posters"},{label:"Digital Creatives",value:"Digital Creatives"},{label:"Motion Posters",value:"Motion Posters"},{label:"Title Animations",value:"Title Animations"},{label:"Marketing",value:"Marketing"},{label:"Editing",value:"Editing"},{label:"Teaser",value:"Teaser"},{label:"Trailer",value:"Trailer"},{label:"Promos",value:"Promos"},{label:"Google Ads",value:"Google Ads"},{label:"YouTube Ads",value:"YouTube Ads"},{label:"Influencer Marketing",value:"Influencer Marketing"},{label:"Meme Marketing",value:"Meme Marketing"},{label:"Pitch Deck",value:"Pitch Deck"},{label:"Branding",value:"Branding"},{label:"Strategy & Marketing",value:"Strategy & Marketing"},{label:"Web Development",value:"Web Development"},{label:"Ad Film",value:"Ad Film"},{label:"Corporate Film",value:"Corporate Film"}];ne.useEffect(()=>{(async()=>{const d=Jn(Ut,"invoices",n),g=await Ds(d);if(g.exists()){const b=g.data();delete b.pdf_url,delete b.created_at,r(b)}})()},[n]);const s=c=>{r({...t,[c.target.name]:c.target.value})},l=c=>{const d=c.map(g=>({name:g.value}));r(g=>({...g,services:d}))},h=async c=>{c.preventDefault();const d=Jn(Ut,"invoices",n);await ep(d,t),e("/dashboard/all-invoices")};return A.jsx("div",{className:"p-6 min-h-screen bg-gray-50 flex justify-center items-start",children:A.jsxs("div",{className:"w-full max-w-2xl bg-white p-8 rounded-lg shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Edit Invoice"}),A.jsxs("form",{onSubmit:h,className:"space-y-5",children:[Object.keys(t).map(c=>{const d=c==="services",g=c==="payment_status";return A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize mb-1",children:c.replace(/_/g," ")}),g?A.jsxs("select",{name:"payment_status",value:t.payment_status,onChange:s,className:"w-full border border-gray-300 px-4 py-2 rounded-md focus:ring-2 focus:ring-black focus:outline-none",required:!0,children:[A.jsx("option",{value:"",disabled:!0,children:"Select Status"}),A.jsx("option",{value:"Pending",children:"Pending"}),A.jsx("option",{value:"Partial",children:"Partial"}),A.jsx("option",{value:"Paid",children:"Paid"})]}):d?A.jsx(as,{isMulti:!0,name:"services",value:t.services.map(b=>({label:b.name,value:b.name})),onChange:l,options:i,className:"basic-multi-select",classNamePrefix:"select"}):A.jsx("input",{type:"text",name:c,value:typeof t[c]=="object"?JSON.stringify(t[c]):t[c],onChange:s,className:"w-full border border-gray-300 px-4 py-2 rounded-md focus:ring-2 focus:ring-black focus:outline-none",required:!0})]},c)}),A.jsxs("div",{className:"flex justify-end gap-4 pt-8",children:[A.jsx("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center px-6 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-black text-white hover:bg-gray-100",children:"← Back"}),A.jsx("button",{type:"submit",className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md bg-black text-white hover:bg-gray-900",children:"Save Changes"})]})]})]})})}function nM(){var i;const{id:n}=dc(),[e,t]=ne.useState(null),r=fi();return ne.useEffect(()=>{(async()=>{const l=Jn(Ut,"clients",n),h=await Ds(l);h.exists()?t(h.data()):(alert("Client not found!"),r("/dashboard/all-clients"))})()},[n,r]),e?A.jsxs("div",{style:zl.container,children:[A.jsx("h2",{style:zl.heading,children:"Client Preview"}),A.jsx("table",{style:zl.table,children:A.jsxs("tbody",{children:[uo("Client Name",e.client_name),uo("Company Name",e.company_name),uo("POC",e.poc),uo("Phone Number",e.phone),uo("Email",e.email),uo("Address",e.address),uo("Country",e.country),uo("State",e.state),uo("PAN Number",e.pan_number),uo("GST Number",e.gst_number),uo("Created At",(i=e.created_at)==null?void 0:i.toDate().toLocaleString())]})}),A.jsxs("div",{style:zl.buttonWrapper,children:[A.jsx("button",{style:zl.button,onClick:()=>r(-1),children:"Back"}),A.jsx("button",{style:{...zl.button,backgroundColor:"#28a745",marginLeft:"12px"},onClick:()=>r(`/dashboard/edit-client/${n}`),children:"Edit"})]})]}):A.jsx("div",{style:zl.loading,children:"Loading..."})}function uo(n,e){return A.jsxs("tr",{children:[A.jsx("td",{style:zl.label,children:n}),A.jsx("td",{style:zl.value,children:e||"—"})]})}const zl={container:{padding:"40px",maxWidth:"700px",margin:"0 auto",fontFamily:"Arial, sans-serif"},heading:{fontSize:"32px",fontWeight:"bold",marginBottom:"30px",textAlign:"center"},table:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd",boxShadow:"0 0 10px rgba(0,0,0,0.1)"},label:{padding:"16px",fontWeight:"bold",backgroundColor:"#f7f7f7",borderBottom:"1px solid #ddd",width:"40%"},value:{padding:"16px",borderBottom:"1px solid #ddd"},buttonWrapper:{textAlign:"center",marginTop:"30px"},button:{padding:"10px 30px",fontSize:"16px",backgroundColor:"#007BFF",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},loading:{textAlign:"center",fontSize:"20px",padding:"50px"}};function rM(){return ne.useEffect(()=>{(async()=>{const e=await ei(Hr(Ut,"invoices"));for(const t of e.docs){const r=t.data();(!r.services||!Array.isArray(r.services)||r.services.length===0)&&(await ep(Jn(Ut,"invoices",t.id),{services:[{name:"Default Service",description:"Auto-fixed service"}]}),console.log(`Repaired invoice: ${t.id}`))}alert("Repair completed ✅")})()},[]),A.jsx("div",{className:"p-10 text-center",children:A.jsx("h1",{children:"Repairing Invoices..."})})}function iM(){const[n,e]=ne.useState(""),[t,r]=ne.useState([]),[i,s]=ne.useState(""),[l,h]=ne.useState(null),[c,d]=ne.useState(""),[g,b]=ne.useState(()=>new Date().toISOString().split("T")[0]),[S,_]=ne.useState(""),[E,C]=ne.useState([{name:[],description:"",amount:""}]),[R,I]=ne.useState("Pending"),B=fi(),H=[{label:"Lyrical Videos",value:"Lyrical Videos"},{label:"Posters",value:"Posters"},{label:"Marketing",value:"Marketing"},{label:"Web Development",value:"Web Development"},{label:"Ad Film",value:"Ad Film"},{label:"Editing",value:"Editing"},{label:"Meme Marketing",value:"Meme Marketing"},{label:"Creative design",value:"Creative design"}];ne.useEffect(()=>{(async()=>{const W=(await ei(Hr(Ut,"clients"))).docs.map(P=>({id:P.id,...P.data()}));r(W)})()},[]),ne.useEffect(()=>{n&&g&&ae(n)},[n,g]);const ae=async L=>{const[F,W]=g.split("-"),O=`${F.slice(-2)}${W}`,j=`${L}_${O}_QUOTATION`,se=Jn(Ut,"quotation_counters",j);try{const Se=await HA(Ut,async le=>{const he=await le.get(se),Q=(he.exists()?he.data().count:0)+1;return le.set(se,{count:Q}),Q}),re=`${L}${O}QTN${String(Se).padStart(3,"0")}`;d(re)}catch(Se){console.error("Error generating quotation ID:",Se)}},$=L=>{s(L);const F=t.find(W=>W.id===L);h(F)},ce=E.reduce((L,F)=>L+Number(F.amount||0),0),U=async L=>{if(L.preventDefault(),!l||!g||!c||!S||E.some(W=>W.name.length===0||!W.description.trim()||!W.amount)){alert("Please fill in all required fields.");return}const F={quotation_id:c,client_id:i,quotation_type:n,quotation_title:S,quotation_date:g,services:E,subtotal:Number(ce),total_amount:ce,payment_status:R,pdf_url:"",created_at:new Date};try{await G2(Jn(Ut,"quotations",c),F),B("/dashboard/quotations")}catch(W){console.error("❌ Error creating quotation:",W),alert("Failed to create quotation.")}};return A.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center",padding:"2rem"},children:A.jsxs("form",{onSubmit:U,style:{background:"#fff",borderRadius:"10px",padding:"30px",width:"100%",maxWidth:"700px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[A.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"30px"},children:"Create Quotation"}),A.jsx("label",{style:{fontWeight:"600"},children:"Select Company"}),A.jsxs("select",{value:n,onChange:L=>e(L.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"20px"},children:[A.jsx("option",{value:"",children:"Select Company"}),A.jsx("option",{value:"WT",children:"WT"}),A.jsx("option",{value:"WTPL",children:"WTPL"}),A.jsx("option",{value:"WTX",children:"WTX"}),A.jsx("option",{value:"WTXPL",children:"WTXPL"})]}),A.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{fontWeight:"600"},children:"Quotation Date"}),A.jsx("input",{type:"date",value:g,onChange:L=>b(L.target.value),required:!0,style:{width:"100%",padding:"10px"}})]}),A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{fontWeight:"600"},children:"Title of Quotation"}),A.jsx("input",{type:"text",value:S,onChange:L=>_(L.target.value),required:!0,style:{width:"100%",padding:"10px"}})]})]}),A.jsx("label",{style:{fontWeight:"600"},children:"Quotation Number"}),A.jsx("input",{type:"text",value:c,disabled:!0,style:{width:"100%",padding:"10px",marginBottom:"20px",background:"#eee",fontWeight:"bold"}}),A.jsx("label",{style:{fontWeight:"600"},children:"Select Client"}),A.jsx(as,{options:t.map(L=>({value:L.id,label:`${L.company_name} — ${L.client_name}`})),value:t.find(L=>L.id===i)?{value:i,label:`${l==null?void 0:l.company_name} — ${l==null?void 0:l.client_name}`}:null,onChange:L=>$(L.value),placeholder:"Select Client...",isSearchable:!0}),A.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",marginTop:"30px"},children:"Services"}),E.map((L,F)=>A.jsxs("div",{style:{marginBottom:"25px",padding:"20px",background:"#fafafa",border:"1px solid #ddd",borderRadius:"8px"},children:[A.jsxs("div",{style:{marginBottom:"15px"},children:[A.jsxs("label",{style:{fontWeight:"600",display:"block",marginBottom:"6px"},children:["Service Name ",F+1]}),A.jsx(as,{isMulti:!0,options:H,value:L.name.map(W=>H.find(P=>P.value===W)),onChange:W=>{const P=[...E];P[F].name=W.map(O=>O.value),C(P)},placeholder:"Select Service(s)",isSearchable:!0,styles:{control:W=>({...W,minHeight:"44px",padding:"2px",borderColor:"#ccc"})}})]}),A.jsxs("div",{style:{marginBottom:"15px"},children:[A.jsx("label",{style:{fontWeight:"600",display:"block"},children:"Service Description"}),A.jsx("textarea",{value:L.description,onChange:W=>{const P=[...E];P[F].description=W.target.value,C(P)},placeholder:"Enter Service Description",style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"},rows:3,required:!0})]}),A.jsxs("div",{style:{marginBottom:"15px"},children:[A.jsx("label",{style:{fontWeight:"600",display:"block"},children:"Service Amount ₹"}),A.jsx("input",{type:"number",value:L.amount,onChange:W=>{const P=[...E];P[F].amount=W.target.value,C(P)},placeholder:"Enter Amount",style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"},required:!0})]}),E.length>1&&A.jsx("button",{type:"button",onClick:()=>{const W=[...E];W.splice(F,1),C(W)},style:{backgroundColor:"#dc3545",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"Remove Service"})]},F)),A.jsx("button",{type:"button",onClick:()=>C([...E,{name:[],description:"",amount:""}]),style:{marginBottom:"20px",padding:"10px 20px",background:"#000",color:"#fff",borderRadius:"5px",fontWeight:"bold"},children:"Add Service"}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsx("label",{style:{fontWeight:"600"},children:"Payment Status"}),A.jsxs("select",{value:R,onChange:L=>I(L.target.value),style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"},children:[A.jsx("option",{value:"Pending",children:"Pending"}),A.jsx("option",{value:"Confirmed",children:"Confirmed"}),A.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),A.jsxs("div",{style:{background:"#f9f9f9",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[A.jsxs("p",{children:["Subtotal: ₹",ce.toFixed(2)]}),A.jsxs("p",{children:[A.jsx("b",{children:"Total Amount:"})," ₹",ce.toFixed(2)]})]}),A.jsx("button",{type:"submit",style:{width:"100%",padding:"15px",background:"#000000",color:"#fff",borderRadius:"5px",fontWeight:"bold",fontSize:"16px"},children:"Submit Quotation"})]})})}function aM(){const[n,e]=ne.useState([]),t=fi();ne.useEffect(()=>{(async()=>{try{const l=(await ei(Hr(Ut,"quotations"))).docs.map(h=>({id:h.id,...h.data()}));e(l)}catch(s){console.error("Error fetching quotations:",s)}})()},[]);const r=async i=>{window.confirm("Are you sure you want to delete this quotation?")&&(await Wg(Jn(Ut,"quotations",i)),e(s=>s.filter(l=>l.id!==i)))};return A.jsxs("div",{className:"min-h-screen bg-gray-100 px-6 py-10 font-inter",children:[A.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-black",children:"All Quotations"}),A.jsx("div",{className:" rounded-xl shadow-lg",children:A.jsxs("table",{className:" table-auto text-sm bg-black text-white  rounded-lg",children:[A.jsx("thead",{className:"bg-gray-900 text-white sticky top-0 z-10",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 border border-gray-700 text-left",children:"Quotation ID"}),A.jsx("th",{className:"px-6 py-3 border border-gray-700 text-left",children:"Client"}),A.jsx("th",{className:"px-6 py-3 border border-gray-700 text-left",children:"Title"}),A.jsx("th",{className:"px-6 py-3 border border-gray-700 text-left",children:"Services"}),A.jsx("th",{className:"px-6 py-3 border border-gray-700 text-center",children:"Amount"}),A.jsx("th",{className:"px-6 py-3 border border-gray-700 text-center",children:"Actions"})]})}),A.jsx("tbody",{children:n.length===0?A.jsx("tr",{children:A.jsx("td",{colSpan:"6",className:"text-center py-10 text-gray-300",children:"No quotations found."})}):n.map((i,s)=>{var l;return A.jsxs("tr",{className:`transition ${s%2===0?"bg-gray-950":"bg-black"} hover:bg-gray-800`,children:[A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:i.quotation_id}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:i.client_name||i.client_id}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:i.quotation_title}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:((l=i.services)==null?void 0:l.map(h=>h.name).join(" + "))||"—"}),A.jsxs("td",{className:"px-6 py-3 border border-gray-800 text-center",children:["₹",Number(i.total_amount||i.amount).toLocaleString()]}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:A.jsxs("div",{className:"flex flex-col items-center gap-y-2",children:[A.jsx("button",{onClick:()=>t(`/dashboard/edit-quotation/${i.id}`),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded text-xs edit",children:"Edit"}),A.jsx("button",{onClick:()=>r(i.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded text-xs edit",children:"Delete"}),A.jsx("button",{onClick:()=>t(`/dashboard/quotation/${i.quotation_id}`),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-1 rounded text-xs edit",children:"Preview"})]})})]},i.id)})})]})})]})}async function sM(n,e){const t=new It;t.setFont("Arial","normal");const r=n.quotation_type==="WT"||n.quotation_type==="WTPL",i=`${window.location.origin}${r?"/wt-logo.png":"/wtx_logo.webp"}`,s=`${window.location.origin}/csh-sign.PNG`;async function l(W){try{const P=await fetch(W);if(!P.ok)throw new Error(`Failed to load image at ${W}`);const O=await P.blob();return await new Promise(j=>{const se=new FileReader;se.onloadend=()=>j(se.result),se.readAsDataURL(O)})}catch(P){return console.error("Image load failed:",P),null}}const h=await l(i),c=await l(s);h&&t.addImage(h,"PNG",15,10,30,18),t.setFontSize(10),t.text("19/B, 3rd Floor, Progressive Tower, 100 Ft Road,",15,32),t.text("Siddhi Vinayak Nagar, Madhapur,",15,37),t.text("Hyderabad, Telangana - 500081",15,42),t.setFontSize(16),t.setTextColor(59,89,152),t.setFont("Arial","normal"),t.text("Quotation",15,52);function d(W,P,O,j){t.setFont("Arial","bold"),t.text(W,O,j);const se=t.getTextWidth(W);t.setFont("Arial","normal"),t.text(P,O+se+1,j)}t.setFontSize(10),t.setTextColor(0);let g=55;const b=7;t.rect(15,g,95,b),t.rect(110,g,95,b),d("Quotation Number:",n.quotation_id,17,g+5),d("GST IN:",r?"36AACFW6827B1Z8":"WTX GST NUMBER",112,g+5),g+=b,t.rect(15,g,95,b),t.rect(110,g,95,b),d("Quotation Date:",lM(new Date(n.quotation_date)),17,g+5),d("Total Cost:",`INR ${Number(n.total_amount).toLocaleString("en-IN")}`,112,g+5),g+=b,t.rect(15,g,190,b),d("Quotation Title:",n.quotation_title||"N/A",17,g+5);const S=g+b;t.setFont("Arial","normal"),t.text(`This quotation prepared by Walls & Trends (${n.quotation_type}) includes the selected service for ${e.client_name}.`,15,S+5);let _=S+15;t.rect(15,_,95,b),t.rect(110,_,95,b),d("Customer Name:",e.client_name||"N/A",17,_+5),d("Customer Address:",e.address||"N/A",112,_+5),_+=b,t.rect(15,_,190,b),d("Customer GST IN:",e.gst_number||"N/A",17,_+5);const E=_+b,C=n.services.map(W=>["9983",W.name||"",W.description||"",Number(W.amount).toLocaleString("en-IN")]),R=Number(n.total_amount);ic(t,{startY:E+5,head:[["HSN / SAC Code","Item","Description","Amount (INR)"]],body:[...C,["","","Gross",R.toLocaleString("en-IN")],["","",{content:"Total",styles:{fontStyle:"bold"}},{content:R.toLocaleString("en-IN"),styles:{fontStyle:"bold"}}]],theme:"grid",headStyles:{fillColor:!1,textColor:[0,0,0],fontStyle:"bold",halign:"center",lineColor:[0,0,0],lineWidth:.3},styles:{fontSize:10,font:"Arial",textColor:[0,0,0],halign:"center",lineColor:[0,0,0],lineWidth:.3},columnStyles:{0:{cellWidth:47.5},1:{cellWidth:47.5},2:{cellWidth:47.5},3:{cellWidth:47.5}}});const I=oM(Math.floor(R));ic(t,{startY:t.lastAutoTable.finalY+2,body:[[{content:"(Total Amount In Words)",styles:{fontStyle:"bold",halign:"left",valign:"middle"}},{content:`${I} only`,styles:{halign:"left",valign:"middle"}}]],theme:"grid",styles:{fontSize:10,font:"Arial",textColor:[0,0,0],lineColor:[0,0,0],lineWidth:.3},columnStyles:{0:{cellWidth:95},1:{cellWidth:95}}});const B=t.lastAutoTable.finalY+12,H=35,ae=28,$=14;c&&t.addImage(c,"PNG",H,B,ae,$);const ce=B+$+2;t.setDrawColor(0),t.setLineWidth(.2),t.line(H,ce,H+ae,ce),t.setFont("Arial","normal"),t.setFontSize(10),t.setTextColor(0),t.text("Authorised signature for Walls & Trends",H+ae/2,ce+6,{align:"center"});const U=B+20,F=t.internal.pageSize.getWidth()-15;t.setFont("times","italic"),t.setFontSize(9),t.setTextColor(59,89,152),t.text("Authenticity Promised. Creativity Published.",F,U,{align:"right"}),t.text("Thank you for your business!",F,U+6,{align:"right"}),t.save(`${n.quotation_id}.pdf`)}function oM(n){const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],t=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(n===0)return"Zero";const r=i=>i<20?e[i]:i<100?t[Math.floor(i/10)]+(i%10?" "+e[i%10]:""):i<1e3?e[Math.floor(i/100)]+" Hundred"+(i%100?" and "+r(i%100):""):i<1e5?r(Math.floor(i/1e3))+" Thousand"+(i%1e3?" "+r(i%1e3):""):i<1e7?r(Math.floor(i/1e5))+" Lakh"+(i%1e5?" "+r(i%1e5):""):r(Math.floor(i/1e7))+" Crore"+(i%1e7?" "+r(i%1e7):"");return r(n)}function lM(n){const e=new Date(n),t=String(e.getDate()).padStart(2,"0"),r=e.toLocaleString("en-us",{month:"long"}),i=e.getFullYear();return`${t} ${r} ${i}`}function uM(){const{id:n}=dc(),[e,t]=ne.useState(null),[r,i]=ne.useState(null);ne.useEffect(()=>{(async()=>{try{const c=Jn(Ut,"quotations",n),d=await Ds(c);if(d.exists()){const g=d.data();t(g);const b=Jn(Ut,"clients",g.client_id),S=await Ds(b);S.exists()&&i(S.data())}}catch(c){console.error("Error loading quotation:",c)}})()},[n]);const s=async()=>{if(!e||!r)return;const h=await sM(e,r);h&&h.save?h.save(`${e.quotation_id}.pdf`):console.error("PDF generation failed.")};if(!e||!r)return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f3f4f6] text-[#3b5999] text-xl",children:"Loading quotation..."});const l=e.quotation_type==="WT"||e.quotation_type==="WTPL"?"/wt-logo.png":"/wtx_logo.webp";return A.jsxs("div",{className:"min-h-screen bg-white px-6 py-10 font-sans text-sm text-gray-900 preview",children:[A.jsx("button",{onClick:s,className:"absolute top-4 right-6 bg-[#3b5999] text-[#ffffff] px-4 py-2 rounded hover:bg-[#2d4373] downloadbtn",children:"Download PDF"}),A.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[A.jsxs("div",{className:"items-start mb-4",children:[A.jsx("img",{src:l,alt:"Company Logo",className:"h-16"}),A.jsxs("div",{className:"text-left text-sm leading-5 address",children:[A.jsx("p",{children:"19/B, 3rd Floor, Progressive Tower"}),A.jsx("p",{children:"100 Ft Road, Siddhi Vinayak Nagar"}),A.jsx("p",{children:"Madhapur, Hyderabad, Telangana - 500081"})]})]}),A.jsx("h1",{className:"text-xl font-bold text-left mb-6 text-[#3b5998] font-heading",children:"Quotation"}),A.jsx("table",{className:"w-full border-collapse  mb-4",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2 font-medium",children:A.jsx("b",{children:e.quotation_type==="WT"||e.quotation_type==="WTPL"?"Walls And Trends":"WTX"})}),A.jsxs("td",{className:"border p-2 font-medium",children:[A.jsx("b",{children:"GST IN: "})," ",e.quotation_type==="WT"||e.quotation_type==="WTPL"?"36AACFW6827B1Z8":"WTX GST NUMBER"]})]}),A.jsxs("tr",{children:[A.jsxs("td",{className:"border p-2",children:[A.jsx("b",{children:"Quotation Number:"})," ",e.quotation_id]}),A.jsxs("td",{className:"border p-2",children:[A.jsx("b",{children:"Quotation Date:"})," ",e.quotation_date]})]}),A.jsxs("tr",{children:[A.jsxs("td",{className:"border p-2",children:[A.jsx("b",{children:"Quotation Title:"})," ",e.quotation_title]}),A.jsxs("td",{className:"border p-2 font-semibold",children:[A.jsx("b",{children:"Total Cost:"})," ",Number(e.total_amount).toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})}),A.jsx("table",{className:"w-full border border-collapse border-gray-300 mb-4",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsxs("td",{className:"border p-2",children:[A.jsx("strong",{children:"Customer Name:"})," ",r.client_name]}),A.jsxs("td",{className:"border p-2",children:[A.jsx("strong",{children:"Customer Address:"})," ",r.address]})]}),A.jsx("tr",{children:A.jsxs("td",{className:"border p-2",colSpan:2,children:[A.jsx("strong",{children:"Customer Email:"})," ",r.email]})})]})}),A.jsxs("table",{className:"w-full border border-collapse border-gray-300 mb-4 text-center",children:[A.jsx("thead",{className:"bg-gray-100 text-black",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-2 border",children:"Service Name"}),A.jsx("th",{className:"p-2 border",children:"Description"}),A.jsx("th",{className:"p-2 border text-center",children:"Amount (INR)"})]})}),A.jsxs("tbody",{children:[e.services.map((h,c)=>A.jsxs("tr",{children:[A.jsx("td",{className:"border p-2",children:h.name}),A.jsx("td",{className:"border p-2 text-left",children:h.description}),A.jsxs("td",{className:"border p-2 text-center",children:["₹",Number(h.amount).toFixed(2)]})]},c)),A.jsxs("tr",{className:"font-bold",children:[A.jsx("td",{colSpan:"2",className:"border p-2 text-[#3b5999] text-right",children:"Total"}),A.jsxs("td",{className:"border p-2 text-center text-[#3b5999]",children:["₹",Number(e.total_amount).toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})]}),A.jsx("div",{className:"flex justify-start mt-10",children:A.jsxs("div",{className:"text-center",children:[A.jsx("img",{src:"/csh-sign.PNG",alt:"Signature",className:"h-12 mx-auto mb-1"}),A.jsx("p",{className:"text-xs authorised-text",children:"Authorised Signature for Walls & Trends"})]})}),A.jsx("div",{className:"flex justify-end mt-10",children:A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-xs italic text-[#3b5998] thank-you-text",children:"Authenticity Promised. Creativity Published"}),A.jsx("p",{className:"text-xs italic text-[#3b5998] thank-you-text",children:"Thank you for your business!"})]})})]})]})}function cM(){const{id:n}=dc(),e=fi(),[t,r]=ne.useState(null),[i,s]=ne.useState([]),[l,h]=ne.useState(!0),[c,d]=ne.useState(["WT","WTX"]),[g]=ne.useState(["Pending","Partial","Paid"]),[b,S]=ne.useState([]);ne.useEffect(()=>{(async()=>{var R;try{const I=Jn(Ut,"quotations",n),B=await Ds(I);if(!B.exists())return alert("Quotation not found!"),e("/dashboard/all-quotations");const H=B.data(),ae=((R=H.services)==null?void 0:R.map($=>({...$,serviceType:{value:$.name,label:$.name}})))||[];r({...H,services:ae}),S([{value:"Lyrical Videos",label:"Lyrical Videos"},{value:"Teasers",label:"Teasers"},{value:"Trailers",label:"Trailers"},{value:"Posters",label:"Posters"},{value:"Promos",label:"Promos"}]),h(!1)}catch(I){console.error("Error fetching quotation:",I),alert("Something went wrong.")}})()},[n,e]);const _=(C,R,I)=>{const B=[...t.services];R==="serviceType"?(B[C].serviceType=I,B[C].name=I.value):B[C][R]=I,r({...t,services:B})},E=async C=>{C.preventDefault();try{const R={...t,services:t.services.map(I=>({name:I.serviceType.value,description:I.description||"",amount:I.amount||0}))};await ep(Jn(Ut,"quotations",n),R),e("/dashboard/all-quotations")}catch(R){console.error("Update failed:",R),alert("Failed to update.")}};return l||!t?A.jsx("p",{className:"text-center p-6",children:"Loading..."}):A.jsx("div",{className:"min-h-screen bg-black flex justify-center p-6",children:A.jsxs("form",{onSubmit:E,className:"bg-gray-900 text-white rounded-xl shadow-xl p-8 w-full max-w-4xl",children:[A.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Edit Quotation"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quotation Date"}),A.jsx("input",{type:"text",value:t.date,onChange:C=>r({...t,date:C.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quotation Title"}),A.jsx("input",{type:"text",value:t.quotation_title,onChange:C=>r({...t,quotation_title:C.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Company"}),A.jsx("select",{value:t.company,onChange:C=>r({...t,company:C.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white",children:c.map(C=>A.jsx("option",{value:C,children:C},C))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),A.jsx("select",{value:t.payment_status,onChange:C=>r({...t,payment_status:C.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white",children:g.map(C=>A.jsx("option",{value:C,children:C},C))})]})]}),A.jsxs("div",{className:"mt-8 space-y-6",children:[A.jsx("h3",{className:"text-lg font-semibold text-white",children:"Services"}),t.services.map((C,R)=>A.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Service Name"}),A.jsx(as,{options:b,value:C.serviceType,onChange:I=>_(R,"serviceType",I),styles:hM})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),A.jsx("textarea",{rows:2,value:C.description||"",onChange:I=>_(R,"description",I.target.value),className:"w-full p-3 rounded bg-gray-900 border border-gray-700 text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount (₹)"}),A.jsx("input",{type:"number",value:C.amount||"",onChange:I=>_(R,"amount",I.target.value),className:"w-full p-3 rounded bg-gray-900 border border-gray-700 text-white"})]})]},R))]}),A.jsx("button",{type:"submit",className:"update-project-btn mt-10 mb-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold tracking-wide py-3 px-6 rounded-xl shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 ease-in-out",children:"Update Quotation"})]})})}const hM={control:n=>({...n,backgroundColor:"#1f2937",borderColor:"#374151",color:"#fff"}),input:n=>({...n,color:"white"}),singleValue:n=>({...n,color:"white"}),multiValue:n=>({...n,backgroundColor:"#374151"}),multiValueLabel:n=>({...n,color:"white"}),menu:n=>({...n,backgroundColor:"#111827"}),option:(n,e)=>({...n,backgroundColor:e.isFocused?"#374151":"#111827",color:"white"})};function fM(){const[n,e]=ne.useState(""),[t,r]=ne.useState(null),[i,s]=ne.useState("WT"),[l,h]=ne.useState(""),[c,d]=ne.useState(""),[g,b]=ne.useState(""),[S,_]=ne.useState([]),[E,C]=ne.useState([]),R=fi(),I=[{label:"Lyrical Videos",value:"Lyrical Videos"},{label:"Posters",value:"Posters"},{label:"Digital Creatives",value:"Digital Creatives"},{label:"Motion Posters",value:"Motion Posters"},{label:"Title Animations",value:"Title Animations"},{label:"Marketing",value:"Marketing"},{label:"Editing",value:"Editing"},{label:"Teaser",value:"Teaser"},{label:"Trailer",value:"Trailer"},{label:"Promos",value:"Promos"},{label:"Google Ads",value:"Google Ads"},{label:"YouTube Ads",value:"YouTube Ads"},{label:"Influencer Marketing",value:"Influencer Marketing"},{label:"Meme Marketing",value:"Meme Marketing"},{label:"Open and end titles",value:"Open and end titles"},{label:"Pitch Deck",value:"Pitch Deck"},{label:"Branding",value:"Branding"},{label:"Strategy & Marketing",value:"Strategy & Marketing"},{label:"Creative design & editing",value:"Creative design & editing"},{label:"Digital Marketing",value:"Digital Marketing"},{label:"Content & video production",value:"Content & video production"},{label:"Performance Marketing",value:"Performance Marketing"},{label:"Web Development",value:"Web Development"},{label:"Ad Film",value:"Ad Film"},{label:"⁠Brand Film",value:"⁠Brand Film"},{label:"⁠⁠Corporate Film",value:"⁠Corporate Film"},{label:"⁠Teaser + Trailer + Business cut",value:"⁠Teaser + Trailer + Business cut"}];ne.useEffect(()=>{(async()=>{const $=(await ei(Hr(Ut,"clients"))).docs.map(ce=>({value:ce.id,label:`${ce.data().company_name} — ${ce.data().client_name}`}));C($)})()},[]);const B=async H=>{if(H.preventDefault(),!n||!t||!i){alert("Project Name, Client, and Company are required.");return}try{await l8(Hr(Ut,"projects"),{projectName:n,clientId:t.value,company:i,movieName:["WT","WTPL"].includes(i)?l:"",brandName:["WTX","WTXPL"].includes(i)?c:"",poc:g,services:S.map(ae=>ae.value),createdAt:new Date}),alert("Project added successfully!"),R("/dashboard/all-projects")}catch(ae){console.error("Error adding project:",ae),alert("Failed to add project.")}};return A.jsx("div",{style:xi.page,children:A.jsxs("form",{onSubmit:B,style:xi.card,children:[A.jsx("h2",{style:xi.title,children:"Add New Project"}),A.jsx("label",{style:xi.label,children:"Select Company"}),A.jsxs("select",{value:i,onChange:H=>s(H.target.value),style:xi.input,required:!0,children:[A.jsx("option",{value:"WT",children:"WT"}),A.jsx("option",{value:"WTPL",children:"WTPL"}),A.jsx("option",{value:"WTX",children:"WTX"}),A.jsx("option",{value:"WTXPL",children:"WTXPL"})]}),A.jsx("label",{style:xi.label,children:"Select Client"}),A.jsx(as,{options:E,value:t,onChange:H=>r(H),placeholder:"Select Client",isSearchable:!0,styles:xi.select}),A.jsx("label",{style:xi.label,children:"Project Name"}),A.jsx("input",{type:"text",value:n,onChange:H=>e(H.target.value),style:xi.input,required:!0}),["WT","WTPL"].includes(i)&&A.jsxs(A.Fragment,{children:[A.jsx("label",{style:xi.label,children:"Movie Name"}),A.jsx("input",{type:"text",value:l,onChange:H=>h(H.target.value),style:xi.input})]}),["WTX","WTXPL"].includes(i)&&A.jsxs(A.Fragment,{children:[A.jsx("label",{style:xi.label,children:"Brand Name"}),A.jsx("input",{type:"text",value:c,onChange:H=>d(H.target.value),style:xi.input})]}),A.jsx("label",{style:xi.label,children:"POC"}),A.jsx("input",{type:"text",value:g,onChange:H=>b(H.target.value),style:xi.input}),A.jsx("label",{style:xi.label,children:"Select Services"}),A.jsx(as,{isMulti:!0,options:I,value:S,onChange:_,placeholder:"Select Services",isSearchable:!0,styles:xi.select}),A.jsx("button",{type:"submit",style:xi.button,children:"Submit Project"})]})})}const xi={page:{minHeight:"100vh",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center",padding:"2rem"},card:{background:"#fff",padding:"30px",borderRadius:"10px",maxWidth:"700px",width:"100%",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},title:{fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"30px"},label:{fontWeight:"600",marginBottom:"6px",display:"block"},input:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"20px"},button:{width:"100%",padding:"15px",backgroundColor:"#000",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"16px",marginTop:"20px",cursor:"pointer"},select:{control:n=>({...n,borderRadius:"5px",padding:"2px",borderColor:"#ccc",marginBottom:"20px"})}};function dM(){const[n,e]=ne.useState([]),[t,r]=ne.useState([]),[i,s]=ne.useState([]),[l,h]=ne.useState(""),c=fi();ne.useEffect(()=>{(async()=>{const C=await ei(Hr(Ut,"projects")),R=await ei(Hr(Ut,"invoices")),I=await ei(Hr(Ut,"quotations")),B=R.docs.map($=>({id:$.id,...$.data()})),H=I.docs.map($=>({id:$.id,...$.data()})),ae=await Promise.all(C.docs.map(async $=>{const ce={id:$.id,...$.data()};let U="";if(ce.clientId){const L=Jn(Ut,"clients",ce.clientId),F=await Ds(L);if(F.exists()){const W=F.data();U=W.name||W.companyName||W.client_name||W.company_name||""}}return{...ce,clientName:U}}));e(ae.filter($=>{var ce;return(ce=$.projectName)==null?void 0:ce.trim()})),r(B),s(H)})()},[]);const d=async E=>{window.confirm("Are you sure you want to delete this project?")&&(await Wg(Jn(Ut,"projects",E)),e(C=>C.filter(R=>R.id!==E)))},g=n.filter(E=>(E.projectName||"").toLowerCase().includes(l.toLowerCase())||(E.clientName||"").toLowerCase().includes(l.toLowerCase())),b=E=>{const C={Paid:"bg-green-700 text-white",Partial:"bg-yellow-600 text-white",Pending:"bg-red-600 text-white"};return A.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${C[E]||"bg-gray-700 text-white"}`,children:E||"N/A"})},S=E=>{const C=t.filter(R=>R.project_id===E);return C.length===0?A.jsx("span",{className:"text-gray-400",children:"N/A"}):A.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:C.map(R=>A.jsx("span",{onClick:()=>c(`/dashboard/invoice-preview/${R.id}`),className:"cursor-pointer bg-blue-500 text-white px-2 py-1 rounded-full text-xs hover:bg-blue-600",title:"Click to view Invoice",children:R.invoice_id||R.id},R.id))})},_=E=>{const C=i.filter(R=>R.project_id===E);return C.length===0?A.jsx("span",{className:"text-gray-400",children:"N/A"}):A.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:C.map(R=>A.jsx("span",{onClick:()=>c(`/dashboard/quotation-preview/${R.id}`),className:"cursor-pointer bg-green-500 text-white px-2 py-1 rounded-full text-xs hover:bg-green-600",title:"Click to view Quotation",children:R.quotation_id||R.id},R.id))})};return A.jsx("div",{className:"p-6 min-h-screen bg-gray-100 all-projects-block",children:A.jsxs("div",{className:"max-w-7xl mx-auto bg-white shadow-md rounded-xl p-6",children:[A.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"All Projects"}),A.jsx("input",{type:"text",placeholder:"Search by project or client",value:l,onChange:E=>h(E.target.value),className:"mt-4 md:mt-0 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black w-full md:w-1/3"})]}),g.length===0?A.jsx("p",{className:"text-center text-gray-500 py-10",children:"No projects found."}):A.jsx("div",{className:"overflow-auto mt-6 rounded-lg",children:A.jsxs("table",{className:"min-w-full text-sm text-white bg-black rounded-lg",children:[A.jsx("thead",{className:"bg-gray-900 sticky top-0 z-10 text-white",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800",children:"Project Name"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800",children:"Company"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800",children:"Client"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800",children:"POC"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800",children:"Movie / Brand"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800",children:"Services"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800",children:"Payment"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800 text-center",children:"Invoices"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800 text-center",children:"Quotations"}),A.jsx("th",{className:"px-6 py-3 font-semibold border border-gray-800 text-center",children:"Actions"})]})}),A.jsx("tbody",{children:g.map((E,C)=>A.jsxs("tr",{className:`${C%2===0?"bg-gray-950":"bg-black"} hover:bg-gray-800 transition`,children:[A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:E.projectName}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:E.company||"-"}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:E.clientName||"-"}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:E.poc||"-"}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:["WT","WTPL"].includes(E.company)?E.movieName||"-":["WTX","WTXPL"].includes(E.company)&&E.brandName||"-"}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:(E.services||[]).join(", ")||"-"}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:b(E.paymentStatus)}),A.jsx("td",{className:"px-6 py-3 text-center border border-gray-800",children:S(E.id)}),A.jsx("td",{className:"px-6 py-3 text-center border border-gray-800",children:_(E.id)}),A.jsx("td",{className:"px-6 py-3 border border-gray-800",children:A.jsxs("div",{className:"flex justify-center items-center gap-x-2",children:[A.jsx("button",{onClick:()=>c(`/dashboard/edit-project/${E.id}`),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1 rounded edit",children:"Edit"}),A.jsx("button",{onClick:()=>d(E.id),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-1 rounded edit",children:"Delete"}),A.jsx("button",{onClick:()=>c(`/dashboard/project-preview/${E.id}`),className:"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded edit",children:"Preview"})]})})]},E.id))})]})})]})})}function pM(){const{id:n}=dc(),e=fi(),[t,r]=ne.useState(null),[i,s]=ne.useState([]),[l,h]=ne.useState([]),[c,d]=ne.useState([]),[g,b]=ne.useState(!0),S=[{label:"Lyrical Videos",value:"Lyrical Videos"},{label:"Posters",value:"Posters"},{label:"Digital Creatives",value:"Digital Creatives"},{label:"Motion Posters",value:"Motion Posters"},{label:"Title Animations",value:"Title Animations"},{label:"Marketing",value:"Marketing"},{label:"Editing",value:"Editing"},{label:"Teaser",value:"Teaser"},{label:"Trailer",value:"Trailer"},{label:"Promos",value:"Promos"},{label:"Google Ads",value:"Google Ads"},{label:"YouTube Ads",value:"YouTube Ads"},{label:"Influencer Marketing",value:"Influencer Marketing"},{label:"Meme Marketing",value:"Meme Marketing"},{label:"Open and end titles",value:"Open and end titles"},{label:"Pitch Deck",value:"Pitch Deck"},{label:"Branding",value:"Branding"},{label:"Strategy & Marketing",value:"Strategy & Marketing"},{label:"Creative design & editing",value:"Creative design & editing"},{label:"Digital Marketing",value:"Digital Marketing"},{label:"Content & video production",value:"Content & video production"},{label:"Performance Marketing",value:"Performance Marketing"},{label:"Web Development",value:"Web Development"},{label:"Ad Film",value:"Ad Film"},{label:"⁠Brand Film",value:"⁠Brand Film"},{label:"⁠⁠Corporate Film",value:"⁠Corporate Film"},{label:"⁠Teaser + Trailer + Business cut",value:"⁠Teaser + Trailer + Business cut"}];ne.useEffect(()=>{(async()=>{try{const C=Jn(Ut,"projects",n),R=await Ds(C);if(!R.exists())return alert("Project not found!"),e("/dashboard/all-projects");const I=R.data(),[B,H,ae]=await Promise.all([ei(Hr(Ut,"clients")),ei(Hr(Ut,"invoices")),ei(Hr(Ut,"quotations"))]),$=B.docs.map(j=>({id:j.id,...j.data()}));s($);const ce=H.docs.map(j=>({id:j.id,...j.data()})).filter(j=>j.project_id===n),U=ae.docs.map(j=>({id:j.id,...j.data()})).filter(j=>j.project_id===n),L=ce.map(j=>({value:j.id,label:j.invoice_id||j.id})),F=U.map(j=>({value:j.id,label:j.quotation_id||j.id}));h(L),d(F);const W=Array.isArray(I.invoiceIds)?I.invoiceIds.map(j=>L.find(se=>se.value===j)).filter(Boolean):[],P=Array.isArray(I.quotationIds)?I.quotationIds.map(j=>F.find(se=>se.value===j)).filter(Boolean):[],O=$.map(j=>({value:j.id,label:j.name||j.companyName||j.client_name||j.company_name})).find(j=>j.value===I.clientId)||null;r({id:R.id,...I,clientId:O,invoiceIds:W,quotationIds:P}),b(!1)}catch(C){console.error("Error loading project:",C),alert("Failed to load project.")}})()},[n,e]);const _=async E=>{var R;E.preventDefault();const C={projectName:t.projectName||"",description:t.description||"",poc:t.poc||"",movieName:t.movieName||"",workType:t.workType||"",paymentStatus:t.paymentStatus||"Pending",clientId:((R=t.clientId)==null?void 0:R.value)||"",invoiceIds:Array.isArray(t.invoiceIds)?t.invoiceIds.map(I=>I==null?void 0:I.value):[],quotationIds:Array.isArray(t.quotationIds)?t.quotationIds.map(I=>I==null?void 0:I.value):[]};try{await ep(Jn(Ut,"projects",n),C),e("/dashboard/all-projects")}catch(I){console.error("Error updating project:",I.message,I),alert("Update failed.")}};return g||!t?A.jsx("p",{className:"p-6 text-center text-gray-700",children:"Loading project..."}):A.jsx("div",{className:"min-h-screen bg-black flex justify-center items-start p-6",children:A.jsxs("form",{onSubmit:_,className:"bg-gray-900 text-white rounded-xl shadow-xl p-8 w-full max-w-3xl",children:[A.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Edit Project"}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Project Name"}),A.jsx("input",{type:"text",value:t.projectName,onChange:E=>r({...t,projectName:E.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white",required:!0})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),A.jsx("textarea",{value:t.description,onChange:E=>r({...t,description:E.target.value}),rows:3,className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white",required:!0})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"POC"}),A.jsx("input",{type:"text",value:t.poc||"",onChange:E=>r({...t,poc:E.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white"})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Movie Name"}),A.jsx("input",{type:"text",value:t.movieName||"",onChange:E=>r({...t,movieName:E.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white"})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Work Type"}),A.jsx(as,{options:S,value:S.find(E=>E.value===t.workType)||null,onChange:E=>r({...t,workType:E?E.value:""}),placeholder:"Select work type",styles:vm,isClearable:!0})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),A.jsxs("select",{value:t.paymentStatus||"Pending",onChange:E=>r({...t,paymentStatus:E.target.value}),className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white",children:[A.jsx("option",{value:"Pending",children:"Pending"}),A.jsx("option",{value:"Partial",children:"Partial"}),A.jsx("option",{value:"Paid",children:"Paid"})]})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client"}),A.jsx(as,{options:i.map(E=>({value:E.id,label:E.name||E.companyName||E.client_name||E.company_name})),value:t.clientId,onChange:E=>r({...t,clientId:E}),placeholder:"Select client",styles:vm})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Invoices"}),A.jsx(as,{isMulti:!0,options:l,value:t.invoiceIds,onChange:E=>r({...t,invoiceIds:E}),styles:vm,placeholder:l.length?"Select invoices":"No invoices for this project",isDisabled:!l.length})]}),A.jsxs("div",{className:"mb-8",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quotations"}),A.jsx(as,{isMulti:!0,options:c,value:t.quotationIds,onChange:E=>r({...t,quotationIds:E}),styles:vm,placeholder:c.length?"Select quotations":"No quotations for this project",isDisabled:!c.length})]}),A.jsx("button",{type:"submit",className:" update-project-btn mt-6 mb-4  bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold tracking-wide py-3 rounded-xl shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 ease-in-out",children:"Update Project"})]})})}const vm={control:n=>({...n,backgroundColor:"#1f2937",borderColor:"#374151",color:"#fff"}),input:n=>({...n,color:"white"}),singleValue:n=>({...n,color:"white"}),multiValue:n=>({...n,backgroundColor:"#374151"}),multiValueLabel:n=>({...n,color:"white"}),menu:n=>({...n,backgroundColor:"#111827"}),option:(n,e)=>({...n,backgroundColor:e.isFocused?"#374151":"#111827",color:"white"})};function mM(){var g;const{id:n}=dc(),[e,t]=ne.useState(null),[r,i]=ne.useState(""),[s,l]=ne.useState([]),[h,c]=ne.useState([]),d=fi();return ne.useEffect(()=>{(async()=>{var B,H;const S=Jn(Ut,"projects",n),_=await Ds(S);if(!_.exists())return alert("Project not found!"),d("/dashboard/all-projects");const E=_.data();let C="";try{const ae=Jn(Ut,"clients",E.clientId),ce=(await Ds(ae)).data();C=ce?`${ce.company_name} — ${ce.client_name}`:E.clientId}catch{C=E.clientId}let R=[];if(((B=E.invoiceIds)==null?void 0:B.length)>0){const ae=await ei(Hr(Ut,"invoices"));R=E.invoiceIds.map($=>{var U;const ce=ae.docs.find(L=>L.id===$);return((U=ce==null?void 0:ce.data())==null?void 0:U.invoice_id)||$})}let I=[];if(((H=E.quotationIds)==null?void 0:H.length)>0){const ae=await ei(Hr(Ut,"quotations"));I=E.quotationIds.map($=>{var U;const ce=ae.docs.find(L=>L.id===$);return((U=ce==null?void 0:ce.data())==null?void 0:U.quotation_id)||$})}i(C),l(R),c(I),t(E)})()},[n,d]),e?A.jsxs("div",{style:Hl.container,children:[A.jsx("h2",{style:Hl.heading,children:"Project Preview"}),A.jsx("table",{style:Hl.table,children:A.jsxs("tbody",{children:[ql("Project Name",e.projectName),ql("Client",r),ql("POC",e.poc),ql("Movie Name",e.movieName),ql("Work Type",e.workType),ql("Payment Status",e.paymentStatus),ql("Invoices",s.length?s.join(", "):"—"),ql("Quotations",h.length?h.join(", "):"—"),ql("Created At",(g=e.createdAt)==null?void 0:g.toDate().toLocaleString())]})}),A.jsxs("div",{style:Hl.buttonWrapper,children:[A.jsx("button",{style:Hl.button,onClick:()=>d(-1),children:"Back"}),A.jsx("button",{style:{...Hl.button,backgroundColor:"#28a745",marginLeft:"12px"},onClick:()=>d(`/dashboard/edit-project/${n}`),children:"Edit"})]})]}):A.jsx("div",{style:Hl.loading,children:"Loading..."})}function ql(n,e){return A.jsxs("tr",{children:[A.jsx("td",{style:Hl.label,children:n}),A.jsx("td",{style:Hl.value,children:e||"—"})]})}const Hl={container:{padding:"40px",maxWidth:"700px",margin:"0 auto",fontFamily:"Arial, sans-serif"},heading:{fontSize:"32px",fontWeight:"bold",marginBottom:"30px",textAlign:"center"},table:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd",boxShadow:"0 0 10px rgba(0,0,0,0.1)"},label:{padding:"16px",fontWeight:"bold",backgroundColor:"#f7f7f7",borderBottom:"1px solid #ddd",width:"40%"},value:{padding:"16px",borderBottom:"1px solid #ddd"},buttonWrapper:{textAlign:"center",marginTop:"30px"},button:{padding:"10px 30px",fontSize:"16px",backgroundColor:"#007BFF",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},loading:{textAlign:"center",fontSize:"20px",padding:"50px"}};function gM({children:n}){const[e,t]=ne.useState(null),[r,i]=ne.useState(!0);return ne.useEffect(()=>{const s=VC($2,l=>{t(l),i(!1)});return()=>s()},[]),r?A.jsx("div",{children:"Loading..."}):e?n:A.jsx(fS,{to:"/login"})}function vM(){return A.jsxs(gE,{children:[A.jsx(fr,{path:"/login",element:A.jsx(p8,{})}),A.jsx(fr,{path:"/repair",element:A.jsx(rM,{})}),A.jsxs(fr,{path:"/dashboard",element:A.jsx(gM,{children:A.jsx(m8,{})}),children:[A.jsx(fr,{path:"home",element:A.jsx(v8,{})}),A.jsx(fr,{path:"add-client",element:A.jsx(y8,{})}),A.jsx(fr,{path:"all-clients",element:A.jsx(b8,{})}),A.jsx(fr,{path:"edit-client/:id",element:A.jsx(eM,{})}),A.jsx(fr,{path:"create-invoice",element:A.jsx(uk,{})}),A.jsx(fr,{path:"all-invoices",element:A.jsx(ck,{})}),A.jsx(fr,{path:"edit-invoice/:id",element:A.jsx(tM,{})}),A.jsx(fr,{path:"invoice/:id",element:A.jsx(tS,{})}),A.jsx(fr,{path:"invoice-summary",element:A.jsx(Zj,{})}),A.jsx(fr,{path:"invoice-preview/:id",element:A.jsx(tS,{})}),A.jsx(fr,{path:"client-preview/:id",element:A.jsx(nM,{})}),A.jsx(fr,{path:"create-quotation",element:A.jsx(iM,{})}),A.jsx(fr,{path:"quotations",element:A.jsx(aM,{})}),A.jsx(fr,{path:"quotation/:id",element:A.jsx(uM,{})}),A.jsx(fr,{path:"edit-quotation/:id",element:A.jsx(cM,{})}),A.jsx(fr,{path:"add-project",element:A.jsx(fM,{})}),A.jsx(fr,{path:"all-projects",element:A.jsx(dM,{})}),A.jsx(fr,{path:"edit-project/:id",element:A.jsx(pM,{})}),A.jsx(fr,{path:"project-preview/:id",element:A.jsx(mM,{})})]}),A.jsx(fr,{path:"*",element:A.jsx(fS,{to:"/login"})})]})}rN.createRoot(document.getElementById("root")).render(A.jsx(BE,{basename:"/invoices",children:A.jsx(vM,{})}));export{yd as _,yM as c,nS as g};
